(this["webpackJsonpreact-soft-ui-dashboard"]=this["webpackJsonpreact-soft-ui-dashboard"]||[]).push([[0],{210:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(55),i=n.n(r),c=n(14),s=n(19),l=n(26),d=n(133),u=n.n(d),b=n(298),m=n(317),j=n(330),h=n(296),p=n(295),x=n(3),g=n(18),f=n(6),O=n(314),v=n(301),y=Object(v.a)((e=>{let{palette:t,functions:n,borders:o,boxShadows:a}=e;const{gradients:r,grey:i}=t,{linearGradient:c}=n,{borderRadius:s}=o,l={"grey-100":i[100],"grey-200":i[200],"grey-300":i[300],"grey-400":i[400],"grey-500":i[500],"grey-600":i[600],"grey-700":i[700],"grey-800":i[800],"grey-900":i[900]},d=["primary","secondary","info","success","warning","error","dark","light"],u=["transparent","white","black","primary","secondary","info","success","warning","error","light","dark","text","grey-100","grey-200","grey-300","grey-400","grey-500","grey-600","grey-700","grey-800","grey-900"],b=["xs","sm","md","lg","xl","xxl","section"],m=["xs","sm","regular","lg","xl","xxl","inset"];return{suiBox:{opacity:e=>{let{opacity:t}=e;return t},backgroundColor:e=>{let n,{backgroundColor:o}=e;return n=u.find((e=>e===o))?t[o]?t[o].main:l[o]:o,n},color:e=>{let n,{color:o}=e;return n=u.find((e=>e===o))?t[o]?t[o].main:l[o]:o,n},borderRadius:e=>{let t,{borderRadius:n}=e;return t=b.find((e=>e===n))?s[n]:n,t},boxShadow:e=>{let t,{boxShadow:n}=e;return t=m.find((e=>e===n))?a[n]:a,t}},suiBox_backgroundGradient:{backgroundImage:e=>{let t,{backgroundColor:n}=e;return t=d.find((e=>e===n))?c(r[n].main,r[n].state):"none",t}}}})),C=n(0);const S=["backgroundColor","backgroundGradient","color","opacity","borderRadius","boxShadow","customClass"],w=Object(o.forwardRef)(((e,t)=>{let{backgroundColor:n,backgroundGradient:o,color:a,opacity:r,borderRadius:i,boxShadow:c,customClass:s}=e,l=Object(g.a)(e,S);const d=y({backgroundColor:n,color:a,opacity:r,borderRadius:i,boxShadow:c});return Object(C.jsx)(O.a,Object(x.a)({ref:t,className:Object(f.a)(d.suiBox,s,{[d.suiBox_backgroundGradient]:o})},l))}));w.defaultProps={backgroundColor:"transparent",backgroundGradient:!1,color:"dark",opacity:1,borderRadius:"none",boxShadow:"none",customClass:""};var k=w,z=n(307),I=n(319),M=n(287),W=n(315),R=n(318),E=n(101),L=Object(v.a)((e=>{let{palette:t,typography:n,functions:o}=e;const{gradients:a,transparent:r}=t,{fontWeightLight:i,fontWeightRegular:c,fontWeightMedium:s,fontWeightBold:l}=n,{linearGradient:d}=o;return{suiTypography:{color:e=>{let{textColor:n}=e;return"inherit"===n?"inherit":t[n].main},opacity:e=>{let{opacity:t}=e;return t},textDecoration:"none"},suiTypography_light:{fontWeight:i},suiTypography_regular:{fontWeight:c},suiTypography_medium:{fontWeight:s},suiTypography_bold:{fontWeight:l},suiTypography_textTransform:{textTransform:e=>{let{textTransform:t}=e;return t}},suiTypography_verticalAlign:{verticalAlign:e=>{let{verticalAlign:t}=e;return t}},suiTypography_textGradient:{backgroundImage:e=>{let{textColor:t}=e;return"inherit"!==t&&"text"!==t&&"white"!==t&&d(a[t].main,a[t].state)},display:"inline-block",WebkitBackgroundClip:"text",WebkitTextFillColor:r.main,position:"relative",zIndex:1}}}));const T=["textColor","fontWeight","textTransform","verticalAlign","textGradient","opacity","customClass","children"],_=Object(o.forwardRef)(((e,t)=>{let{textColor:n,fontWeight:o,textTransform:a,verticalAlign:r,textGradient:i,opacity:c,customClass:s,children:l}=e,d=Object(g.a)(e,T);const u=L({textColor:n,textTransform:a,verticalAlign:r,opacity:c});return Object(C.jsx)(E.a,Object(x.a)(Object(x.a)({},d),{},{ref:t,className:Object(f.a)(u.suiTypography,s,{[u["suiTypography_".concat(o)]]:o,[u.suiTypography_textTransform]:a,[u.suiTypography_verticalAlign]:r,[u.suiTypography_textGradient]:i}),children:l}))}));_.defaultProps={textColor:"dark",fontWeight:!1,textTransform:"none",verticalAlign:"unset",textGradient:!1,opacity:1,customClass:""};var A=_,N=n(322),P=n(305),H=n(285),D=n(286),B=Object(v.a)((e=>{let{palette:t,transitions:n,breakpoints:o,typography:a,boxShadows:r,borders:i,functions:c}=e;const{dark:s,white:l,info:d,text:u,gradients:b,light:m,transparent:j}=t,{fontWeightRegular:h,fontWeightMedium:p,size:x}=a,{regular:g,xxl:f}=r,{borderRadius:O}=i,{pxToRem:v}=c;return{collapse_item:{background:e=>{let{active:t}=e;return t?l.main:j.main},color:e=>{let{active:t}=e;return t?s.main:l.main},display:"flex",alignItems:"center",width:"100%",padding:"".concat(v(10.8)," ").concat(v(12.8)," ").concat(v(10.8)," ").concat(v(16)),margin:"0 ".concat(v(16)),borderRadius:O.md,cursor:"pointer",userSelect:"none",whiteSpace:"nowrap",boxShadow:"none",[o.up("xl")]:{boxShadow:e=>{let{active:t,transparentSidenav:n}=e;return t&&n?f:"none"},transition:n.create("box-shadow",{easing:n.easing.easeInOut,duration:n.duration.shorter})}},collapse_iconBox:{background:e=>{let{active:n,sidenavColor:o}=e;return n?"default"===o?d.main:t[o].main:m.main},minWidth:v(40),minHeight:v(40),borderRadius:O.md,display:"grid",placeItems:"center",boxShadow:g,transition:n.create("margin",{easing:n.easing.easeInOut,duration:n.duration.standard}),[o.up("xl")]:{background:e=>{let n,{active:o,transparentSidenav:a,sidenavColor:r}=e;return n=o?"default"===r?d.main:"warning"===r?b.warning.main:t[r].main:a?l.main:m.main,n}},"& svg, svg g":{fill:e=>{let{active:t}=e;return t?l.main:b.dark.state},width:v(18),height:v(18)}},collapse_icon:{color:e=>{let{active:t}=e;return t?l.main:b.dark.state},fontSize:v(18)},collapse_text:{marginLeft:v(12.8),[o.up("xl")]:{opacity:e=>{let{miniSidenav:t,transparentSidenav:n}=e;return t||t&&n?0:1},maxWidth:e=>{let{miniSidenav:t,transparentSidenav:n}=e;return t||t&&n?0:"100%"},marginLeft:e=>{let{miniSidenav:t,transparentSidenav:n}=e;return t||t&&n?0:v(12.8)},transition:n.create(["opacity","margin"],{easing:n.easing.easeInOut,duration:n.duration.standard})},"& span":{fontWeight:e=>{let{active:t}=e;return t?p:h},fontSize:v(14),lineHeight:0,color:e=>{let{active:t}=e;return t?s.main:l.main}}}}}));const F=Object(o.createContext)();function V(e,t){switch(t.type){case"MINI_SIDENAV":return Object(x.a)(Object(x.a)({},e),{},{miniSidenav:t.value});case"TRANSPARENT_SIDENAV":return Object(x.a)(Object(x.a)({},e),{},{transparentSidenav:t.value});case"SIDENAV_COLOR":return Object(x.a)(Object(x.a)({},e),{},{sidenavColor:t.value});case"TRANSPARENT_NAVBAR":return Object(x.a)(Object(x.a)({},e),{},{transparentNavbar:t.value});case"FIXED_NAVBAR":return Object(x.a)(Object(x.a)({},e),{},{fixedNavbar:t.value});case"OPEN_CONFIGURATOR":return Object(x.a)(Object(x.a)({},e),{},{openConfigurator:t.value});case"DIRECTION":return Object(x.a)(Object(x.a)({},e),{},{direction:t.value});case"LAYOUT":return Object(x.a)(Object(x.a)({},e),{},{layout:t.value});default:throw new Error("Unhandled action type: ".concat(t.type))}}function G(e){let{children:t}=e;const[n,a]=Object(o.useReducer)(V,{miniSidenav:!1,transparentSidenav:!0,sidenavColor:"info",transparentNavbar:!0,fixedNavbar:!0,openConfigurator:!1,direction:"ltr",layout:"dashboard"});return Object(C.jsx)(F.Provider,{value:[n,a],children:t})}function q(){return Object(o.useContext)(F)}const U=["icon","name","children","active","noCollapse","open"];function X(e){let{icon:t,name:n,children:o,active:a,noCollapse:r,open:i}=e,c=Object(g.a)(e,U);const[s]=q(),{miniSidenav:l,transparentSidenav:d,sidenavColor:u}=s,b=B({active:a,noCollapse:r,open:i,miniSidenav:l,transparentSidenav:d,sidenavColor:u});return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(P.a,{component:"li",children:Object(C.jsxs)(k,Object(x.a)(Object(x.a)({},c),{},{customClass:b.collapse_item,children:[Object(C.jsx)(H.a,{className:b.collapse_iconBox,children:"string"===typeof t?Object(C.jsx)(W.a,{className:b.collapse_icon,children:t}):t}),Object(C.jsx)(D.a,{primary:n,classes:{root:b.collapse_text}})]}))}),o&&Object(C.jsx)(N.a,{in:i,unmountOnExit:!0,children:o})]})}X.defaultProps={active:!1,noCollapse:!1,children:!1,open:!1};var Z=X;function Y(){return null}var J=Object(v.a)((e=>{let{palette:t,typography:n,boxShadows:o,transitions:a,breakpoints:r,functions:i}=e;const{white:c,transparent:s}=t,{fontWeightMedium:l}=n,{xxl:d}=o,{pxToRem:u}=i;return{sidenav:{boxShadow:d,border:"none",backgroundColor:e=>{let{transparentSidenav:t}=e;return t?s.main:"#b3b0e6"},boxShadow:e=>{let{transparentSidenav:t}=e;return t?"none":d},marginBottom:e=>{let{transparentSidenav:t}=e;return t?0:"inherit"},left:"0","&.MuiPaper-root, &.MuiDrawer-paper, &.MuiDrawer-paperAnchorLeft":{backgroundColor:e=>{let{transparentSidenav:t}=e;return t?s.main:"#b3b0e6 !important"}},[r.up("xl")]:{backgroundColor:e=>{let{transparentSidenav:t}=e;return t?s.main:"#b3b0e6"}}},sidenav_header:{padding:"".concat(u(24)," ").concat(u(32)," ").concat(u(8)),textAlign:"center","& a":{display:"flex",alignItems:"center",textDecoration:"none"}},sidenav_logo:{width:u(40),display:"block"},sidenav_logoLabel:{marginLeft:u(6),fontWeight:l,wordSpacing:u(-1),fontSize:u(16),transition:a.create("opacity",{easing:a.easing.easeInOut,duration:a.duration.standard}),color:c.main,[r.up("xl")]:{opacity:e=>{let{miniSidenav:t}=e;return t?0:1}}},sidenav_title:{display:"block",color:c.main,opacity:.9,paddingLeft:u(24),margin:"".concat(u(16)," 0 ").concat(u(8)," ").concat(u(8)),fontSize:u(13)},marginTopNone:{marginTop:0},sidenav_footer:{margin:"auto ".concat(u(16)," ").concat(u(16)),paddingTop:u(16)},sidenav_open:{transform:"translateX(0)",transition:a.create("transform",{easing:a.easing.sharp,duration:a.duration.shorter}),[r.up("xl")]:{width:250,transform:"translateX(0)",transition:a.create(["width","background-color"],{easing:a.easing.sharp,duration:a.duration.enteringScreen})}},sidenav_close:{transform:"translateX(".concat(u(-320),")"),transition:a.create("transform",{easing:a.easing.sharp,duration:a.duration.shorter}),[r.up("xl")]:{width:u(96),overflowX:"hidden",transform:"translateX(0)",transition:a.create(["width","background-color"],{easing:a.easing.sharp,duration:a.duration.shorter})}},sidenav_navlink:{textDecoration:"none"}}})),K=n.p+"static/media/menu-dog.8ae54afe.png";const $=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE||"http://localhost:8000";function Q(){let e=localStorage.getItem("token")||null;if(!e){const t=localStorage.getItem("user");if(t)try{const n=JSON.parse(t);n&&(n.token||n.access)&&(e=n.token||n.access)}catch(n){}}const t={"Content-Type":"application/json"};if(e)try{e=String(e).trim(),e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1));const n="Bearer ".concat(e);t.Authorization=n}catch(n){}return t}async function ee(e){const t=await e.text();let n;if(-1!==(e.headers.get("content-type")||"").indexOf("application/json"))try{n=t?JSON.parse(t):{}}catch(o){n={_raw:t}}else n=t?{_raw:t}:{};if(!e.ok){throw{status:e.status,statusText:e.statusText,body:n}}return n}var te={list:async function(e){const t="".concat($,"/api/clinic/").concat(e),n=Q(),o=await fetch(t,{method:"GET",headers:n}),a=await ee(o);return console.debug("[clinicApi] GET ".concat(t," \u2192"),a),a},retrieve:async function(e,t){const n="".concat($,"/api/clinic/").concat(e,"/").concat(t),o=Q(),a=await fetch(n,{method:"GET",headers:o}),r=await ee(a);return console.debug("[clinicApi] GET ".concat(n," \u2192"),r),r},create:async function(e,t){const n="".concat($,"/api/clinic/").concat(e),o=Q();return console.debug("[clinicApi] POST ".concat(n," payload:"),t),ee(await fetch(n,{method:"POST",headers:o,body:JSON.stringify(t)}))},update:async function(e,t,n){const o="".concat($,"/api/clinic/").concat(e,"/").concat(t),a=Q();return console.debug("[clinicApi] PUT ".concat(o," payload:"),n),ee(await fetch(o,{method:"PUT",headers:a,body:JSON.stringify(n)}))},partial:async function(e,t,n){const o="".concat($,"/api/clinic/").concat(e,"/").concat(t),a=Q();return console.debug("[clinicApi] PATCH ".concat(o," payload:"),n),ee(await fetch(o,{method:"PATCH",headers:a,body:JSON.stringify(n)}))},remove:async function(e,t){const n="".concat($,"/api/clinic/").concat(e,"/").concat(t),o=Q();return console.debug("[clinicApi] DELETE ".concat(n)),ee(await fetch(n,{method:"DELETE",headers:o}))},retrieveSelf:async function(e){const t="".concat($,"/api/clinic/").concat(e),n=Q(),o=await fetch(t,{method:"GET",headers:n}),a=await ee(o);return console.debug("[clinicApi] GET ".concat(t," \u2192"),a),a},updateSelf:async function(e,t){const n="".concat($,"/api/clinic/").concat(e),o=Q();return ee(await fetch(n,{method:"PUT",headers:o,body:JSON.stringify(t)}))},request:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:n="GET",body:o=null,headers:a={}}=t,r=e&&e.startsWith("http")?e:"".concat($).concat(e.startsWith("/")?e:"/".concat(e)),i=Object(x.a)(Object(x.a)({},Q()),a),c={method:n,headers:i};null!==o&&void 0!==o&&(c.body="string"===typeof o?o:JSON.stringify(o)),"GET"!==String(n).toUpperCase()&&console.debug("[clinicApi] ".concat(String(n).toUpperCase()," ").concat(r," body:"),o);const s=await fetch(r,c),l=await ee(s);return"GET"===String(n).toUpperCase()&&console.debug("[clinicApi] GET ".concat(r," \u2192"),l),l}};const ne=["routes"];var oe=function(e){let{routes:t}=e,n=Object(g.a)(e,ne);const[a,r]=q(),{miniSidenav:i,transparentSidenav:l}=a,d=J({miniSidenav:i,transparentSidenav:l}),u=Object(s.h)(),{pathname:b}=u,m=b.split("/").slice(1)[0],[j,h]=Object(o.useState)(null),[p,O]=Object(o.useState)(!0);Object(o.useEffect)((()=>{let e=!0;return O(!0),te.request("/api/users/me").then((t=>{e&&h(t)})).catch((()=>{e&&h(null)})).finally((()=>{e&&O(!1)})),()=>{e=!1}}),[]),Object(o.useEffect)((()=>{function e(){r({type:"MINI_SIDENAV",value:window.innerWidth<1200})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[r,u]);const v=e=>!!e&&!!(e.is_admin||e.is_staff||e.isSuperuser||e.isSuperUser||"admin"===e.role||e.roles&&e.roles.indexOf("admin")>=0),y=e=>(e||"").toString().toLowerCase(),S={veterinario:["veterinario","vet"].map((e=>y(e))),recepcionista:["recepcionista","receptionist","reception"].map((e=>y(e))),admin:["admin","administrator","is_admin","isstaff"].map((e=>y(e)))},w=e=>{if(!j)return!1;const t=y(e),n=y(j.role||j.roles&&j.roles[0]||"");if(n&&n===t)return!0;if((S[t]||[]).indexOf(n)>=0)return!0;if(Array.isArray(j.roles)){if(j.roles.map(y).indexOf(t)>=0)return!0;for(const e of j.roles){const n=y(e);if(n===t)return!0;if((S[t]||[]).indexOf(n)>=0)return!0}}return!1},E=t.filter((e=>!e.roles||0===e.roles.length||!p&&(e.roles.indexOf("admin")>=0?v(j):!!j&&e.roles.some((e=>w(e))))));console.debug("[Sidenav] currentUser:",j),console.debug("[Sidenav] filtered route keys:",E.map((e=>e.key)));const L=["veterinarios","recepcionistas","profile","sign-out"];let T=E;if(!p&&v(j)&&(T=E.filter((e=>L.indexOf(e.key)>=0))),!p&&w&&w("recepcionista")){["mascotas-layout","registro-consulta"].forEach((e=>{if(!T.some((t=>t.key===e))){const n=t.find((t=>t.key===e));n&&(T=[...T,n])}}));const e=["mascotas-layout","registro-consulta"],n=[],o=[];T.forEach((t=>{e.includes(t.key)?n.push(t):o.push(t)}));const a=e.map((e=>n.find((t=>t.key===e)))).filter(Boolean);T=[...a,...o]}const _=T.map((e=>{let t,{type:n,name:o,icon:a,title:r,noCollapse:i,key:s,route:l,href:u}=e;if("collapse"===n){const e=()=>{try{if(l){const e=l.replace(/\/$/,"");return b===e||b.startsWith("".concat(e,"/"))}}catch(e){}return s===m};t=u?Object(C.jsx)(R.a,{href:u,target:"_blank",rel:"noreferrer",className:d.sidenav_navlink,children:Object(C.jsx)(Z,{name:o,icon:a,active:e(),noCollapse:i})},s):Object(C.jsx)(c.c,{to:l,className:d.sidenav_navlink,children:Object(C.jsx)(Z,{name:o,icon:a,active:e(),noCollapse:i})},s)}else"title"===n?t=Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",textTransform:"uppercase",customClass:d.sidenav_title,textColor:"white",children:r},s):"divider"===n&&(t=Object(C.jsx)(M.a,{},s));return t}));return Object(C.jsxs)(z.a,Object(x.a)(Object(x.a)({},n),{},{variant:"permanent",classes:{paper:Object(f.a)(d.sidenav,{[d.sidenav_open]:!i,[d.sidenav_close]:i})},children:[Object(C.jsxs)(k,{customClass:d.sidenav_header,children:[Object(C.jsx)(k,{display:{xs:"block",xl:"none"},position:"absolute",top:0,right:0,p:1.625,customClass:"cursor-pointer",onClick:()=>r({type:"MINI_SIDENAV",value:!0}),children:Object(C.jsx)(A,{variant:"h6",textColor:"secondary",children:Object(C.jsx)(W.a,{className:"font-bold",children:"close"})})}),Object(C.jsxs)(c.c,{to:"/",children:[Object(C.jsx)(k,{customClass:d.sidenav_logo,style:{backgroundColor:"#ffffff",width:"40px",height:"40px",WebkitMaskImage:"url(".concat(K,")"),WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",WebkitMaskSize:"contain",maskImage:"url(".concat(K,")"),maskRepeat:"no-repeat",maskPosition:"center",maskSize:"contain"}}),Object(C.jsx)(k,{customClass:d.sidenav_logoLabel,children:Object(C.jsx)(A,{component:"h6",variant:"button",fontWeight:"medium",textColor:"white",children:"Cl\xednica Veterinaria"})})]})]}),Object(C.jsx)(M.a,{}),Object(C.jsx)(I.a,{children:_}),Object(C.jsx)(k,{customClass:d.sidenav_footer,children:!p&&!v(j)&&Object(C.jsx)(Y,{})})]}))},ae=n(321),re=n(320),ie=n(323),ce=Object(v.a)((e=>{let{palette:t,functions:n}=e;const{white:o,black:a,text:r,transparent:i,gradients:c}=t,{boxShadow:s,linearGradient:l,pxToRem:d,rgba:u}=n;return{contained:{backgroundColor:e=>{let{buttonColor:n}=e;return t[n].main},color:e=>{let t,{buttonColor:n}=e;return t="white"===n?r.main:"light"===n?c.dark.state:o.main,t},"&:hover":{backgroundColor:e=>{let{buttonColor:n}=e;return t[n].main}},"&:focus:not(:hover)":{backgroundColor:e=>{let{buttonColor:n}=e;return t[n].focus},boxShadow:e=>{let{buttonColor:n}=e;return s([0,0],[0,3.2],t[n].main,.5)}},"&:disabled":{backgroundColor:e=>{let{buttonColor:n}=e;return"default"===n?o.main:t[n].main},color:e=>{let{buttonColor:t}=e,n=a.main;return"default"===t?n=r.main:"primary"!==t&&"error"!==t&&"dark"!==t||(n=o.main),n}}},outlined:{backgroundColor:e=>{let{buttonColor:t}=e;return"white"===t?u(o.main,.1):i.main},color:e=>{let{buttonColor:n}=e;return t[n].main},borderColor:e=>{let{buttonColor:n}=e;return"white"===n?u(o.main,.75):t[n].main},"&:hover":{backgroundColor:i.main,borderColor:e=>{let{buttonColor:n}=e;return t[n].main}},"&:focus:not(:hover)":{backgroundColor:e=>{let{buttonColor:t}=e;return"white"===t?u(o.main,.1):i.main},boxShadow:e=>{let{buttonColor:n}=e;return s([0,0],[0,3.2],t[n].main,.5)}},"&:active:not(:hover)":{backgroundColor:e=>{let{buttonColor:n}=e;return t[n].main},color:o.main,opacity:.85},"&:disabled":{color:e=>{let{buttonColor:n}=e;return t[n].main},borderColor:e=>{let{buttonColor:n}=e;return t[n].main}}},gradient:{background:e=>{let t,{buttonColor:n}=e;return t="white"===n?o.main:l(c[n].main,c[n].state),t},color:e=>{let t,{buttonColor:n}=e;return t="white"===n?r.main:"light"===n?c.dark.state:o.main,t},"&:focus:not(:hover)":{boxShadow:"none"},"&:disabled":{background:e=>{let t,{buttonColor:n}=e;return t="white"===n?o.main:l(c[n].main,c[n].state),t},color:e=>{let t,{buttonColor:n}=e;return t="white"===n?r.main:"light"===n?c.dark.state:o.main,t}}},text:{color:e=>{let{buttonColor:n}=e;return t[n].main},"&:hover":{color:e=>{let{buttonColor:n}=e;return t[n].focus}},"&:focus:not(:hover)":{color:e=>{let{buttonColor:n}=e;return t[n].focus}}},circular:{borderRadius:d(160)},iconOnly:{minWidth:e=>{let t,{size:n}=e;return t=d("small"===n?25.4:"large"===n?52:38),t},width:e=>{let t,{size:n}=e;return t=d("small"===n?25.4:"large"===n?52:38),t},minHeight:e=>{let t,{size:n}=e;return t=d("small"===n?25.4:"large"===n?52:38),t},height:e=>{let t,{size:n}=e;return t=d("small"===n?25.4:"large"===n?52:38),t},padding:e=>{let t,{size:n}=e;return t="small"===n?d(4.5):"large"===n?d(16):"".concat(d(11)," ").concat(d(11)," ").concat(d(10)),t},"& .material-icons":{marginTop:0},"&:hover, &:focus, &:active":{transform:"none"}}}}));const se=["buttonColor","variant","size","circular","iconOnly","children","customClass"],le=Object(o.forwardRef)(((e,t)=>{let{buttonColor:n,variant:o,size:a,circular:r,iconOnly:i,children:c,customClass:s}=e,l=Object(g.a)(e,se);const d=ce({buttonColor:n,variant:o,size:a,iconOnly:i});return Object(C.jsx)(ie.a,Object(x.a)(Object(x.a)({},l),{},{ref:t,color:"primary",variant:"gradient"===o?"contained":o,size:a,className:Object(f.a)(d[o],s,{[d.circular]:r,[d.iconOnly]:i}),children:c}))}));le.defaultProps={size:"medium",variant:"contained",buttonColor:"white",circular:!1,iconOnly:!1,customClass:""};var de=le,ue=Object(v.a)((e=>{let{palette:t,borders:n,boxShadows:o,functions:a,transitions:r,typography:i}=e;const{dark:c,white:s,gradients:l}=t,{borderWidth:d}=n,{lg:u,buttonBoxShadow:b}=o,{pxToRem:m,linearGradient:j}=a,{size:h}=i;return{configurator:{height:"100vh",margin:0,padding:"0 ".concat(m(10)),borderRadius:0,boxShadow:u,overflowY:"auto"},configurator_close_icon:{fontSize:"".concat(h.regular," !important"),stroke:c.main,strokeWidth:m(2),marginTop:m(16),cursor:"pointer"},configurator_sidenav_color:{width:m(24.5),height:m(24),padding:0,border:"".concat(d[1]," solid ").concat(s.main),transition:r.create("border-color",{easing:r.easing.sharp,duration:r.duration.shorter}),"&:not(:last-child)":{marginRight:m(8)},"&:hover, &:focus, &:active":{borderColor:c.main}},configurator_sidenav_types:{display:"flex",marginTop:m(16),"& .MuiButton-root":{height:m(42),boxShadow:b.main,"&:first-child":{marginRight:m(8)},"&:hover, &:focus":{opacity:1}}},configurator_open:{width:360,left:"initial",right:0,transition:r.create("right",{easing:r.easing.sharp,duration:r.duration.short})},configurator_close:{left:"initial",right:m(-350),transition:r.create("all",{easing:r.easing.sharp,duration:r.duration.short})},primary:{backgroundImage:j(l.primary.main,l.primary.state)},dark:{backgroundImage:j(l.dark.main,l.dark.state)},info:{backgroundImage:j(l.info.main,l.info.state)},success:{backgroundImage:j(l.success.main,l.success.state)},warning:{backgroundImage:j(l.warning.main,l.warning.state)},error:{backgroundImage:j(l.error.main,l.error.state)},active_color:{borderColor:c.main}}}));var be=function(){const[e,t]=q(),{openConfigurator:n,transparentSidenav:a,fixedNavbar:r,sidenavColor:i}=e,[c,s]=Object(o.useState)(!1),l=ue({sidenavColor:i});return Object(o.useEffect)((()=>{function e(){return window.innerWidth>1200?s(!1):s(!0)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),Object(C.jsxs)(z.a,{variant:"permanent",classes:{paper:Object(f.a)(l.configurator,{[l.configurator_open]:n,[l.configurator_close]:!n})},children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"baseline",pt:3,pb:.8,px:3,children:[Object(C.jsxs)(k,{children:[Object(C.jsx)(A,{variant:"h5",children:"Configurador"}),Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"Opciones de la interfaz de la cl\xednica."})]}),Object(C.jsx)(W.a,{className:"font-bold ".concat(l.configurator_close_icon),onClick:()=>{t({type:"OPEN_CONFIGURATOR",value:!1})},children:"close"})]}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(k,{pt:1.25,pb:3,px:3,children:[Object(C.jsxs)(k,{children:[Object(C.jsx)(A,{variant:"h6",children:"Sidenav Colors"}),Object(C.jsx)(k,{my:.5,children:["primary","dark","info","success","warning","error"].map((e=>Object(C.jsx)(re.a,{className:Object(f.a)(l.configurator_sidenav_color,l[e],{[l.active_color]:i===e}),onClick:()=>t({type:"SIDENAV_COLOR",value:e})},e)))})]}),Object(C.jsxs)(k,{mt:3,children:[Object(C.jsx)(A,{variant:"h6",children:"Sidenav Type"}),Object(C.jsx)(A,{variant:"button",textColor:"text",fontWeight:"regular",children:"Choose between 2 different sidenav types."}),Object(C.jsxs)(k,{customClass:l.configurator_sidenav_types,children:[Object(C.jsx)(de,{buttonColor:"info",variant:a?"gradient":"outlined",onClick:()=>{t({type:"TRANSPARENT_SIDENAV",value:!0})},disabled:c,fullWidth:!0,children:"Transparent"}),Object(C.jsx)(de,{buttonColor:"info",variant:a?"outlined":"gradient",onClick:()=>{t({type:"TRANSPARENT_SIDENAV",value:!1})},disabled:c,fullWidth:!0,children:"White"})]})]}),Object(C.jsxs)(k,{mt:3,mb:2,children:[Object(C.jsx)(A,{variant:"h6",children:"Navbar Fixed"}),Object(C.jsx)(ae.a,{checked:r,onChange:()=>{t({type:"FIXED_NAVBAR",value:!r})}})]}),Object(C.jsx)(M.a,{}),Object(C.jsx)(k,{mt:3,mb:2,children:Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"No hay descargas p\xfablicas disponibles desde la UI."})}),Object(C.jsx)(k,{mt:3,textAlign:"center",children:Object(C.jsx)(A,{variant:"h6",children:"Gracias por usar la interfaz"})})]})]})},me=n(148),je={background:{default:"#f8f9fa"},text:{main:"#67748e",focus:"#67748e"},transparent:{main:"transparent"},white:{main:"#ffffff",focus:"#ffffff"},black:{light:"#141414",main:"#000000",focus:"#000000"},primary:{main:"#aba8f4",focus:"#8f8be6"},secondary:{main:"#8392ab",focus:"#96a2b8"},info:{main:"#b6bee7",focus:"#9fa6d9"},success:{main:"#82d616",focus:"#95dc39"},warning:{main:"#fbcf33",focus:"#fcd652"},error:{main:"#ea0606",focus:"#c70505"},light:{main:"#e9ecef"},dark:{main:"#344767",focus:"#344767"},grey:{100:"#f8f9fa",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#6c757d",700:"#495057",800:"#343a40",900:"#212529"},gradients:{primary:{main:"#7928ca",state:"#ff0080"},secondary:{main:"#627594",state:"#a8b8d8"},info:{main:"#9fa6d9",state:"#b6bee7"},success:{main:"#17ad37",state:"#98ec2d"},warning:{main:"#f53939",state:"#fbcf33"},error:{main:"#ea0606",state:"#ff667c"},light:{main:"#ced4da",state:"#ebeff4"},dark:{main:"#141727",state:"#3a416f"}},socialMediaColors:{facebook:{main:"#3b5998",dark:"#344e86"},twitter:{main:"#55acee",dark:"#3ea1ec"},instagram:{main:"#125688",dark:"#0e456d"},linkedin:{main:"#0077b5",dark:"#00669c"},pinterest:{main:"#cc2127",dark:"#b21d22"},youtube:{main:"#e52d27",dark:"#d41f1a"},vimeo:{main:"#1ab7ea",dark:"#13a3d2"},slack:{main:"#3aaf85",dark:"#329874"},dribbble:{main:"#ea4c89",dark:"#e73177"},github:{main:"#24292e",dark:"#171a1d"},reddit:{main:"#ff4500",dark:"#e03d00"},tumblr:{main:"#35465c",dark:"#2a3749"}},alertColors:{primary:{main:"#7928ca",state:"#d6006c",border:"#efb6e2"},secondary:{main:"#627594",state:"#8ca1cb",border:"#dadee6"},info:{main:"#2152ff",state:"#02c6f3",border:"#b9ecf8"},success:{main:"#17ad37",state:"#84dc14",border:"#daf3b9"},warning:{main:"#f53939",state:"#fac60b",border:"#fef1c2"},error:{main:"#ea0606",state:"#ff3d59",border:"#f9b4b4"},light:{main:"#ced4da",state:"#d1dae6",border:"#f8f9fa"},dark:{main:"#141727",state:"#2c3154",border:"#c2c8d1"}},badgeColors:{primary:{background:"#f883dd",text:"#a3017e"},secondary:{background:"#e4e8ed",text:"#5974a2"},info:{background:"#abe9f7",text:"#08a1c4"},success:{background:"#cdf59b",text:"#67b108"},warning:{background:"#fef5d3",text:"#fbc400"},error:{background:"#fc9797",text:"#bd0000"},light:{background:"#ffffff",text:"#c7d3de"},dark:{background:"#8097bf",text:"#1e2e4a"}},inputColors:{borderColor:{main:"#6b6c70",focus:"#35d1f5"},boxShadow:"#81e3f9",error:"#fd5c70",success:"#66d432"},sliderColors:{thumb:{borderColor:"#d9d9d9"}},circleSliderColors:{background:"#d3d3d3"},tabs:{indicator:{boxShadow:"#ddd"}}},he={values:{xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}};var pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return"".concat(e/t,"rem")};const{dark:xe}=je,ge={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700,fontSizeXXS:pe(10.4),fontSizeXS:pe(12),fontSizeSM:pe(14),fontSizeRegular:pe(16),fontSizeLG:pe(18),fontSizeXL:pe(20)},fe={fontFamily:ge.fontFamily,color:xe.main,fontWeight:ge.fontWeightMedium},Oe={fontFamily:ge.fontFamily,color:xe.main,fontWeight:ge.fontWeightLight,lineHeight:1.2};var ve={fontFamily:ge.fontFamily,fontWeightLight:ge.fontWeightLight,fontWeightRegular:ge.fontWeightRegular,fontWeightMedium:ge.fontWeightMedium,fontWeightBold:ge.fontWeightBold,h1:Object(x.a)({fontSize:pe(48),lineHeight:1.25},fe),h2:Object(x.a)({fontSize:pe(36),lineHeight:1.3},fe),h3:Object(x.a)({fontSize:pe(30),lineHeight:1.375},fe),h4:Object(x.a)({fontSize:pe(24),lineHeight:1.375},fe),h5:Object(x.a)({fontSize:pe(20),lineHeight:1.375},fe),h6:Object(x.a)({fontSize:pe(16),lineHeight:1.625},fe),subtitle1:{fontFamily:ge.fontFamily,fontSize:ge.fontSizeXL,fontWeight:ge.fontWeightRegular,lineHeight:1.625},subtitle2:{fontFamily:ge.fontFamily,fontSize:ge.fontSizeRegular,fontWeight:ge.fontWeightMedium,lineHeight:1.6},body1:{fontFamily:ge.fontFamily,fontSize:ge.fontSizeXL,fontWeight:ge.fontWeightRegular,lineHeight:1.625},body2:{fontFamily:ge.fontFamily,fontSize:ge.fontSizeRegular,fontWeight:ge.fontWeightRegular,lineHeight:1.6},button:{fontFamily:ge.fontFamily,fontSize:ge.fontSizeSM,fontWeight:ge.fontWeightBold,lineHeight:1.5,textTransform:"uppercase"},caption:{fontFamily:ge.fontFamily,fontSize:ge.fontSizeXS,fontWeight:ge.fontWeightRegular,lineHeight:1.25},overline:{fontFamily:ge.fontFamily},d1:Object(x.a)({fontSize:pe(80)},Oe),d2:Object(x.a)({fontSize:pe(72)},Oe),d3:Object(x.a)({fontSize:pe(64)},Oe),d4:Object(x.a)({fontSize:pe(56)},Oe),d5:Object(x.a)({fontSize:pe(48)},Oe),d6:Object(x.a)({fontSize:pe(40)},Oe),size:{xxs:ge.fontSizeXXS,xs:ge.fontSizeXS,sm:ge.fontSizeSM,regular:ge.fontSizeRegular,lg:ge.fontSizeLG,xl:ge.fontSizeXL},lineHeight:{sm:1.25,regular:1.5,lg:2}},ye=n(138),Ce=n.n(ye);var Se=function(e){return Ce()(e).rgb().join(", ")};var we=function(e,t){return"rgba(".concat(Se(e),", ").concat(t,")")};var ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";const[r,i]=e,[c,s]=t;return"".concat(a," ").concat(pe(r)," ").concat(pe(i)," ").concat(pe(c)," ").concat(pe(s)," ").concat(we(n,o))};const{black:ze,white:Ie,info:Me,inputColors:We,tabs:Re}=je;var Ee={xs:ke([0,2],[9,-5],ze.main,.15),sm:ke([0,5],[10,0],ze.main,.12),regular:"".concat(ke([0,4],[6,-1],ze.light,.12),", ").concat(ke([0,2],[4,-1],ze.light,.07)),lg:"".concat(ke([0,8],[26,-4],ze.light,.15),", ").concat(ke([0,8],[9,-5],ze.light,.06)),xl:ke([0,23],[45,-11],ze.light,.25),xxl:ke([0,20],[27,0],ze.main,.05),inset:ke([0,1],[2,0],ze.main,.075,"inset"),navbarBoxShadow:"".concat(ke([0,0],[1,1],Ie.main,.9,"inset"),", ").concat(ke([0,20],[27,0],ze.main,.05)),buttonBoxShadow:{main:"".concat(ke([0,4],[7,-1],ze.main,.11),", ").concat(ke([0,2],[4,-1],ze.main,.07)),stateOf:"".concat(ke([0,3],[5,-1],ze.main,.09),", ").concat(ke([0,2],[5,-1],ze.main,.07)),stateOfNotHover:ke([0,0],[0,3.2],Me.main,.5)},inputBoxShadow:{focus:ke([0,0],[0,2],We.boxShadow,1),error:ke([0,0],[0,2],We.error,.6),success:ke([0,0],[0,2],We.success,.6)},sliderBoxShadow:{thumb:ke([0,1],[13,0],ze.main,.2)},tabsBoxShadow:{indicator:ke([0,1],[5,1],Re.indicator.boxShadow,1)}};const{grey:Le}=je;var Te={borderColor:"#6b6c70",borderWidth:{0:0,1:pe(1),2:pe(2),3:pe(3),4:pe(4),5:pe(5)},borderRadius:{xs:pe(2),sm:pe(4),md:pe(8),lg:pe(12),xl:pe(16),xxl:pe(24),section:pe(160)}};var _e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:310;return"linear-gradient(".concat(n,"deg, ").concat(e,", ").concat(t,")")};const{transparent:Ae,white:Ne,black:Pe,primary:He,secondary:De,info:Be,success:Fe,warning:Ve,error:Ge,light:qe,dark:Ue,gradients:Xe}=je,{borderWidth:Ze,borderRadius:Ye,borderColor:Je}=Te,{fontWeightLight:Ke,fontWeightRegular:$e,fontWeightMedium:Qe,fontWeightBold:et,size:tt}=ve,nt={WebkitBackgroundClip:"text !important",WebkitTextFillColor:"".concat(Ae.main," !important")};var ot={html:{scrollBehavior:"smooth"},"body, #root":{backgroundColor:"#c7c3ff",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover",minHeight:"100vh"},"*, *::before, *::after":{margin:0,padding:0},"a, a:link, a:visited":{textDecoration:"none !important"},"a.link, .link, a.link:link, .link:link, a.link:visited, .link:visited":{color:"".concat(Ue.main," !important"),transition:"color 150ms ease-in !important"},"a.link:hover, .link:hover, a.link:focus, .link:focus":{color:"".concat(Be.main," !important")},".font-light":{fontWeight:"".concat(Ke," !important")},".font-md":{fontWeight:"".concat($e," !important")},".font-medium":{fontWeight:"".concat(Qe," !important")},".font-bold":{fontWeight:"".concat(et," !important")},".text-xxs":{fontSize:"".concat(tt.xxs," !important")},".text-xs":{fontSize:"".concat(tt.xs," !important")},".text-sm":{fontSize:"".concat(tt.sm," !important")},".text-md":{fontSize:"".concat(tt.regular," !important")},".text-lg":{fontSize:"".concat(tt.lg," !important")},".text-xl":{fontSize:"".concat(tt.xl," !important")},".line-height-0":{lineHeight:"0 !important"},".text-start":{textAlign:"left !important"},".text-center":{textAlign:"center !important"},".text-end":{textAlign:"right !important"},".text-transparent":{color:"".concat(Ae.main," !important")},".text-white":{color:"".concat(Ne.main," !important")},".text-black":{color:"".concat(Pe.main," !important")},".text-primary":{color:"".concat(He.main," !important")},".text-secondary":{color:"".concat(De.main," !important")},".text-info":{color:"".concat(Be.main," !important")},".text-success":{color:"".concat(Fe.main," !important")},".text-warning":{color:"".concat(Ve.main," !important")},".text-error":{color:"".concat(Ge.main," !important")},".text-light":{color:"".concat(qe.main," !important")},".text-dark":{color:"".concat(Ue.main," !important")},".text-uppercase":{textTransform:"uppercase !important"},".text-lowercase":{textTransform:"lowercase !important"},".text-capitalize":{textTransform:"capitalize !important"},".bg-transparent":{backgroundColor:"".concat(Ae.main," !important")},".bg-white":{backgroundColor:"".concat(Ne.main," !important")},".bg-black":{backgroundColor:"".concat(Pe.main," !important")},".bg-primary":{backgroundColor:"".concat(He.main," !important")},".bg-secondary":{backgroundColor:"".concat(De.main," !important")},".bg-info":{backgroundColor:"".concat(Be.main," !important")},".bg-success":{backgroundColor:"".concat(Fe.main," !important")},".bg-warning":{backgroundColor:"".concat(Ve.main," !important")},".bg-error":{backgroundColor:"".concat(Ge.main," !important")},".bg-light":{backgroundColor:"".concat(qe.main," !important")},".bg-dark":{backgroundColor:"".concat(Ue.main," !important")},".bg-center":{backgroundPosition:"center"},".bg-cover":{backgroundSize:"cover"},".object-center":{objectPosition:"center"},".object-cover":{objectFit:"cover"},".text-gradient-primary":Object(x.a)({backgroundImage:"".concat(_e(Xe.primary.main,Xe.primary.state)," !important")},nt),".text-gradient-secondary":Object(x.a)({backgroundImage:"".concat(_e(Xe.secondary.main,Xe.secondary.state)," !important")},nt),".text-gradient-info":Object(x.a)({backgroundImage:"".concat(_e(Xe.info.main,Xe.info.state)," !important")},nt),".text-gradient-success":Object(x.a)({backgroundImage:"".concat(_e(Xe.success.main,Xe.success.state)," !important")},nt),".text-gradient-warning":Object(x.a)({backgroundImage:"".concat(_e(Xe.warning.main,Xe.warning.state)," !important")},nt),".text-gradient-error":Object(x.a)({backgroundImage:"".concat(_e(Xe.error.main,Xe.error.state)," !important")},nt),".text-gradient-light":Object(x.a)({backgroundImage:"".concat(_e(Xe.light.main,Xe.light.state)," !important")},nt),".text-gradient-dark":Object(x.a)({backgroundImage:"".concat(_e(Xe.dark.main,Xe.dark.state)," !important")},nt),".bg-gradient-primary":{backgroundImage:"".concat(_e(Xe.primary.main,Xe.primary.state)," !important")},".bg-gradient-secondary":{backgroundImage:"".concat(_e(Xe.secondary.main,Xe.secondary.state)," !important")},".bg-gradient-info":{backgroundImage:"".concat(_e(Xe.info.main,Xe.info.state)," !important")},".bg-gradient-success":{backgroundImage:"".concat(_e(Xe.success.main,Xe.success.state)," !important")},".bg-gradient-warning":{backgroundImage:"".concat(_e(Xe.warning.main,Xe.warning.state)," !important")},".bg-gradient-error":{backgroundImage:"".concat(_e(Xe.error.main,Xe.error.state)," !important")},".bg-gradient-light":{backgroundImage:"".concat(_e(Xe.light.main,Xe.light.state)," !important")},".bg-gradient-dark":{backgroundImage:"".concat(_e(Xe.dark.main,Xe.dark.state)," !important")},".MuiDrawer-paper, .MuiDrawer-paperAnchorLeft, .MuiPaper-root.MuiDrawer-paper":{backgroundColor:"#b3b0e6 !important"},".border-0":{border:"".concat(Ze[0]," solid ").concat(Je," !important")},".border-1":{border:"".concat(Ze[1]," solid ").concat(Je," !important")},".border-2":{border:"".concat(Ze[2]," solid ").concat(Je," !important")},".border-3":{border:"".concat(Ze[3]," solid ").concat(Je," !important")},".border-4":{border:"".concat(Ze[4]," solid ").concat(Je," !important")},".border-5":{border:"".concat(Ze[5]," solid ").concat(Je," !important")},".radius-xs":{borderRadius:"".concat(Ye.xs," !important")},".radius-sm":{borderRadius:"".concat(Ye.sm," !important")},".radius-md":{borderRadius:"".concat(Ye.md," !important")},".radius-lg":{borderRadius:"".concat(Ye.lg," !important")},".radius-xl":{borderRadius:"".concat(Ye.xl," !important")},".radius-xxl":{borderRadius:"".concat(Ye.xxl," !important")},".radius-section":{borderRadius:"".concat(Ye.section," !important")},".shadow":{boxShadow:"".concat(Ee.regular," !important")},".shadow-xs":{boxShadow:"".concat(Ee.xs," !important")},".shadow-sm":{boxShadow:"".concat(Ee.sm," !important")},".shadow-lg":{boxShadow:"".concat(Ee.lg," !important")},".shadow-xl":{boxShadow:"".concat(Ee.xl," !important")},".shadow-xxl":{boxShadow:"".concat(Ee.xxl," !important")},".shadow-inset":{boxShadow:"".concat(Ee.inset," !important")},".shadow-none":{boxShadow:"none !important"},".decoration-none":{textDecoration:"none !important"},".w-max":{width:"max-content !important"},".w-min":{width:"min-content !important"},".w-100":{width:"100% !important"},".h-max":{height:"max-content !important"},".h-min":{height:"min-content !important"},".h-100":{height:"100% !important"},".cursor-pointer":{cursor:"pointer"},".no-list-style":{listStyle:"none !important"},".d-flex":{display:"flex !important"},".d-block":{display:"block !important"},".d-inline-block":{display:"inline-block !important"},".mx-auto":{marginRight:"auto !important",marginLeft:"auto !important"},".mr-auto":{marginRight:"auto !important"},".ml-auto":{marginLeft:"auto !important"},".my-auto":{marginTop:"auto !important",marginBottom:"auto !important"},".mt-auto":{marginTop:"auto !important"},".mb-auto":{marginBottom:"auto !important"},".vertical-middle":{verticalAlign:"middle !important"},".vertical-top":{verticalAlign:"top !important"},".vertical-bottom":{verticalAlign:"bottom !important"},".overflow-visible":{overflow:"visible !important"},".overflow-auto":{overflow:"auto !important"},".overflow-scroll":{overflow:"scroll !important"},".overflow-hidden":{overflow:"hidden !important"},".overflow-x-visible":{overflowX:"visible !important"},".overflow-x-auto":{overflowX:"auto !important"},".overflow-x-scroll":{overflowX:"scroll !important"},".overflow-x-hidden":{overflowX:"hidden !important"},".overflow-y-visible":{overflowY:"visible !important"},".overflow-y-auto":{overflowY:"auto !important"},".overflow-y-scroll":{overflowY:"scroll !important"},".overflow-y-hidden":{overflowY:"hidden !important"},".user-select-none":{userSelect:"none !important"},".relative":{position:"relative !important"},".absolute":{position:"absolute !important"},".fixed":{position:"fixed !important"},".sticky":{position:"sticky !important"}};const{white:at}=je,{borderRadius:rt}=Te;var it={styleOverrides:{root:{width:pe(250),whiteSpace:"nowrap",border:"none"},paper:{width:pe(250),backgroundColor:we(at.main,.8),backdropFilter:"saturate(200%) blur(".concat(pe(30),")"),height:"calc(100vh - ".concat(pe(32),")"),margin:pe(16),borderRadius:rt.xl,border:"none"},paperAnchorDockedLeft:{borderRight:"none"}}},ct={styleOverrides:{padding:{paddingTop:0,paddingBottom:0}}},st={defaultProps:{disableGutters:!0},styleOverrides:{root:{paddingTop:0,paddingBottom:0}}},lt={styleOverrides:{root:{marginTop:0,marginBottom:0}}};const{black:dt,white:ut}=je,{borderWidth:bt,borderRadius:mt}=Te,{xxl:jt}=Ee;var ht={styleOverrides:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:0,wordWrap:"break-word",backgroundColor:ut.main,backgroundClip:"border-box",border:"".concat(bt[0]," solid ").concat(we(dt.main,.125)),borderRadius:mt.xl,boxShadow:jt}}};const{borderRadius:pt}=Te;var xt={styleOverrides:{root:{borderRadius:pt.xl,margin:"".concat(pe(16)," ").concat(pe(16)," 0")},media:{width:"auto"}}},gt={styleOverrides:{root:{marginTop:0,marginBottom:0,padding:"".concat(pe(8)," ").concat(pe(24)," ").concat(pe(24))}}};const{fontWeightBold:ft,size:Ot}=ve,{borderRadius:vt}=Te;var yt={display:"inline-flex",justifyContent:"center",alignItems:"center",fontSize:Ot.xs,fontWeight:ft,borderRadius:vt.md,padding:"".concat(pe(12)," ").concat(pe(24)),lineHeight:1.4,textAlign:"center",textTransform:"uppercase",userSelect:"none",backgroundSize:"150% !important",backgroundPositionX:"25% !important",transition:"all 150ms ease-in","&:hover":{transform:"scale(1.02)"},"&:disabled":{pointerEvent:"none",opacity:.65},"& .material-icons":{fontSize:pe(15),marginTop:pe(-2)}};const{white:Ct,text:St,info:wt,secondary:kt}=je,{size:zt}=ve,{buttonBoxShadow:It}=Ee;var Mt={base:{backgroundColor:Ct.main,minHeight:pe(40),color:St.main,boxShadow:It.main,padding:"".concat(pe(12)," ").concat(pe(24)),"&:hover":{backgroundColor:Ct.main,boxShadow:It.stateOf},"&:focus":{boxShadow:It.stateOf},"&:active, &:active:focus, &:active:hover":{opacity:.85,boxShadow:It.stateOf},"&:disabled":{boxShadow:It.main},"& .material-icon, .material-icons-round, svg":{fontSize:"".concat(pe(16)," !important")}},small:{minHeight:pe(32),padding:"".concat(pe(8)," ").concat(pe(32)),fontSize:zt.xs,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat(pe(12)," !important")}},large:{minHeight:pe(47),padding:"".concat(pe(14)," ").concat(pe(64)),fontSize:zt.sm,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat(pe(22)," !important")}},primary:{backgroundColor:wt.main,"&:hover":{backgroundColor:wt.main},"&:focus:not(:hover)":{backgroundColor:wt.focus,boxShadow:It.stateOfNotHover}},secondary:{backgroundColor:kt.main,"&:hover":{backgroundColor:kt.main},"&:focus:not(:hover)":{backgroundColor:kt.focus,boxShadow:It.stateOfNotHover}}};const{transparent:Wt,light:Rt,info:Et,secondary:Lt}=je,{size:Tt}=ve,{buttonBoxShadow:_t}=Ee;var At={base:{minHeight:pe(42),color:Rt.main,borderColor:Rt.main,padding:"".concat(pe(12)," ").concat(pe(24)),"&:hover":{opacity:.75,backgroundColor:Wt.main},"&:focus:not(:hover)":{boxShadow:_t.stateOfNotHover},"& .material-icon, .material-icons-round, svg":{fontSize:"".concat(pe(16)," !important")}},small:{minHeight:pe(34),padding:"".concat(pe(8)," ").concat(pe(32)),fontSize:Tt.xs,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat(pe(12)," !important")}},large:{minHeight:pe(49),padding:"".concat(pe(14)," ").concat(pe(64)),fontSize:Tt.sm,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat(pe(22)," !important")}},primary:{backgroundColor:Wt.main,borderColor:Et.main,"&:hover":{backgroundColor:Wt.main},"&:focus:not(:hover)":{boxShadow:_t.stateOfNotHover}},secondary:{backgroundColor:Wt.main,borderColor:Lt.main,"&:hover":{backgroundColor:Wt.main},"&:focus:not(:hover)":{boxShadow:_t.stateOfNotHover}}};const{transparent:Nt,info:Pt,secondary:Ht,grey:Dt}=je,{size:Bt}=ve;var Ft={base:{backgroundColor:Nt.main,height:"max-content",color:Pt.main,boxShadow:"none",padding:"".concat(pe(6)," ").concat(pe(12)),"&:hover":{backgroundColor:Nt.main,boxShadow:"none",color:Pt.focus},"&:focus":{boxShadow:"none",color:Pt.focus},"&:active, &:active:focus, &:active:hover":{opacity:.85,boxShadow:"none"},"&:disabled":{color:Dt[600],boxShadow:"none"},"& .material-icons, .material-icons-round, svg, span":{fontSize:"".concat(pe(16)," !important")}},small:{fontSize:Bt.xs,"& .material-icons, .material-icons-round, svg, span":{fontSize:"".concat(pe(12)," !important")}},large:{fontSize:Bt.sm,"& .material-icons, .material-icons-round, svg, span":{fontSize:"".concat(pe(22)," !important")}},primary:{color:Pt.main,backgroundColor:Nt.main,"&:hover":{color:Pt.focus,backgroundColor:Nt.main},"&:focus:not(:hover)":{color:Pt.focus,backgroundColor:Nt.focus,boxShadow:"none"}},secondary:{color:Ht.focus,backgroundColor:Nt.main,"&:hover":{color:Ht.focus,backgroundColor:Nt.main},"&:focus:not(:hover)":{color:Ht.focus,backgroundColor:Nt.focus,boxShadow:"none"}}},Vt={styleOverrides:{root:Object(x.a)({},yt),contained:Object(x.a)({},Mt.base),containedSizeSmall:Object(x.a)({},Mt.small),containedSizeLarge:Object(x.a)({},Mt.large),containedPrimary:Object(x.a)({},Mt.primary),containedSecondary:Object(x.a)({},Mt.secondary),outlined:Object(x.a)({},At.base),outlinedSizeSmall:Object(x.a)({},At.small),outlinedSizeLarge:Object(x.a)({},At.large),outlinedPrimary:Object(x.a)({},At.primary),outlinedSecondary:Object(x.a)({},At.secondary),text:Object(x.a)({},Ft.base),textSizeSmall:Object(x.a)({},Ft.small),textSizeLarge:Object(x.a)({},Ft.large),textPrimary:Object(x.a)({},Ft.primary),textSecondary:Object(x.a)({},Ft.secondary)}};const{transparent:Gt}=je;var qt={styleOverrides:{root:{"&:hover":{backgroundColor:Gt.main}}}};const{dark:Ut,white:Xt,grey:Zt,inputColors:Yt}=je,{size:Jt,fontWeightRegular:Kt}=ve,{borderWidth:$t,borderRadius:Qt}=Te;var en={styleOverrides:{root:{display:"grid !important",placeItems:"center !important",width:"100% !important",height:"auto !important",padding:"".concat(pe(8)," ").concat(pe(12)),fontSize:"".concat(Jt.sm," !important"),fontWeight:"".concat(Kt," !important"),lineHeight:"1.4 !important",color:"".concat(Zt[700]," !important"),backgroundColor:"".concat(Xt.main," !important"),backgroundClip:"padding-box !important",border:"".concat($t[1]," solid ").concat(Yt.borderColor.main),appearance:"none !important",borderRadius:Qt.md,transition:"box-shadow 150ms ease, border-color 150ms ease, padding 150ms ease !important"},input:{width:"100% !important",height:"".concat(pe(22)),padding:"0 !important","&::-webkit-input-placeholder":{color:"".concat(Ut.main," !important")}}}};const{lg:tn}=Ee,{size:nn}=ve,{text:on,white:an}=je,{borderRadius:rn}=Te;var cn={defaultProps:{disableAutoFocusItem:!0},styleOverrides:{paper:{minWidth:pe(160),boxShadow:tn,padding:"".concat(pe(16)," ").concat(pe(8)),fontSize:nn.sm,color:on.main,textAlign:"left",backgroundColor:"".concat(an.main," !important"),borderRadius:rn.md}}};const{light:sn,text:ln,dark:dn}=je,{borderRadius:un}=Te,{size:bn}=ve;var mn={styleOverrides:{root:{minWidth:pe(160),minHeight:"unset",padding:"".concat(pe(4.8)," ").concat(pe(16)),borderRadius:un.md,fontSize:bn.sm,color:ln.main,transition:"background-color 300ms ease, color 300ms ease","&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus":{backgroundColor:sn.main,color:dn.main}}}};const{white:jn,light:hn,gradients:pn}=je,{borderWidth:xn}=Te,{regular:gn}=Ee;var fn={defaultProps:{disableRipple:!0},styleOverrides:{root:{width:pe(40),height:pe(20),margin:"".concat(pe(4)," 0"),padding:0,borderRadius:pe(160),transition:"transform 250ms ease-in"},switchBase:{padding:0,top:"50%",transform:"translate(".concat(pe(2),", -50%)"),transition:"transform 250ms ease-in-out","&.Mui-checked":{transform:"translate(".concat(pe(22),", -50%)"),"& + .MuiSwitch-track":{backgroundColor:"".concat(we(pn.dark.state,.95)," !important"),borderColor:"".concat(we(pn.dark.state,.95)," !important"),opacity:1}},"&.Mui-disabled + .MuiSwitch-track":{opacity:"0.3 !important"},"&.Mui-focusVisible .MuiSwitch-thumb":{backgroundImage:_e(pn.info.main,pn.info.state)}},thumb:{width:pe(16),height:pe(16),backgroundColor:jn.main,boxShadow:gn,top:"50%"},track:{backgroundColor:we(pn.dark.state,.1),border:"".concat(xn[1]," solid ").concat(hn.main),borderRadius:pe(160),opacity:1,transition:"background-color 250ms ease, border-color 200ms ease"},checked:{}}};const{dark:On,transparent:vn,white:yn}=je;var Cn={styleOverrides:{root:{backgroundColor:vn.main,backgroundImage:"linear-gradient(to right, ".concat(we(On.main,0),", ").concat(we(On.main,.5),", ").concat(we(On.main,0),") !important"),height:pe(1),margin:"".concat(pe(16)," 0"),borderBottom:"none",opacity:.25},vertical:{backgroundColor:vn.main,backgroundImage:"linear-gradient(to bottom, ".concat(we(On.main,0),", ").concat(we(On.main,.5),", ").concat(we(On.main,0),") !important"),width:pe(1),height:"100%",margin:"0 ".concat(pe(16)),borderRight:"none"},light:{backgroundColor:vn.main,backgroundImage:"linear-gradient(to right, ".concat(we(yn.main,0),", ").concat(we(yn.main,.5),", ").concat(we(yn.main,0),") !important"),"&.MuiDivider-vertical":{backgroundImage:"linear-gradient(to bottom, ".concat(we(yn.main,0),", ").concat(we(yn.main,.5),", ").concat(we(yn.main,0),") !important")}}}};const{white:Sn}=je,{xxl:wn}=Ee,{borderRadius:kn}=Te;var zn={styleOverrides:{root:{backgroundColor:Sn.main,boxShadow:wn,borderRadius:kn.xl}}};const{borderRadius:In}=Te;var Mn={styleOverrides:{root:{display:"block",padding:"".concat(pe(16)," ").concat(pe(16)," 0  ").concat(pe(16)),borderRadius:"".concat(In.xl," ").concat(In.xl," 0 0")}}};const{borderWidth:Wn}=Te,{light:Rn}=je;var En={styleOverrides:{root:{padding:"".concat(pe(12)," ").concat(pe(16)),borderBottom:"".concat(Wn[1]," solid ").concat(Rn.main)}}};const{borderRadius:Ln}=Te,{light:Tn}=je;var _n={styleOverrides:{root:{height:pe(3),borderRadius:Ln.md,overflow:"visible",position:"relative"},colorPrimary:{backgroundColor:Tn.main},colorSecondary:{backgroundColor:Tn.main},bar:{height:pe(6),borderRadius:Ln.sm,position:"absolute",transform:"translate(0, ".concat(pe(-1.5),") !important"),transition:"width 0.6s ease !important"}}};const{grey:An}=je,{size:Nn}=ve;var Pn={styleOverrides:{li:{lineHeight:0},separator:{fontSize:Nn.sm,color:An[600]}}};const{light:Hn,white:Dn,sliderColors:Bn,black:Fn,gradients:Vn}=je,{borderRadius:Gn,borderWidth:qn}=Te,{sliderBoxShadow:Un}=Ee;var Xn={styleOverrides:{root:{width:"100%","& .MuiSlider-active, & .Mui-focusVisible":{boxShadow:"none !important"},"& .MuiSlider-valueLabel":{color:Fn.main}},rail:{height:pe(3),backgroundColor:Hn.main,borderRadius:Gn.sm},track:{backgroundImage:_e(Vn.info.main,Vn.info.state),height:pe(6),position:"relative",top:pe(2),border:"none",borderRadius:Gn.lg,zIndex:1},thumb:{width:pe(15),height:pe(15),backgroundColor:Dn.main,zIndex:10,boxShadow:Un.thumb,border:"".concat(qn[1]," solid ").concat(Bn.thumb.borderColor),"&:hover":{boxShadow:"none"}}}};const{borderRadius:Zn}=Te;var Yn={styleOverrides:{root:{transition:"all 200ms ease-in-out"},rounded:{borderRadius:Zn.lg},img:{height:"auto"}}},Jn=n(288);const{black:Kn,light:$n}=je,{size:Qn,fontWeightRegular:eo}=ve,{borderRadius:to}=Te;var no={defaultProps:{arrow:!0,TransitionComponent:Jn.a},styleOverrides:{tooltip:{maxWidth:pe(200),backgroundColor:Kn.main,color:$n.main,fontSize:Qn.sm,fontWeight:eo,textAlign:"center",borderRadius:to.md,opacity:.7,padding:"".concat(pe(5)," ").concat(pe(8)," ").concat(pe(4))},arrow:{color:Kn.main}}},oo={defaultProps:{color:"transparent"},styleOverrides:{root:{boxShadow:"none"}}};const{grey:ao,white:ro}=je,{borderRadius:io}=Te,{tabsBoxShadow:co}=Ee;var so={styleOverrides:{root:{position:"relative",backgroundColor:ao[100],borderRadius:io.lg,minHeight:"unset",padding:pe(4)},flexContainer:{height:"100%",position:"relative",zIndex:10},fixed:{overflow:"unset !important",overflowX:"unset !important"},vertical:{"& .MuiTabs-indicator":{width:"100%"}},indicator:{height:"100%",borderRadius:io.md,backgroundColor:ro.main,boxShadow:co.indicator,transition:"all 500ms ease"}}};const{size:lo,fontWeightRegular:uo}=ve,{borderRadius:bo}=Te,{dark:mo}=je;var jo={styleOverrides:{root:{display:"flex",alignItems:"center",flexDirection:"row",flex:"1 1 auto",textAlign:"center",maxWidth:"unset !important",minWidth:"unset !important",minHeight:"unset !important",fontSize:lo.regular,fontWeight:uo,textTransform:"none",lineHeight:"inherit",padding:pe(4),borderRadius:bo.md,color:"".concat(mo.main," !important"),opacity:"1 !important","& .material-icons, .material-icons-round":{marginBottom:"0 !important",marginRight:pe(4)},"& svg":{marginBottom:"0 !important",marginRight:pe(6)}},labelIcon:{paddingTop:pe(4)}}};const{transparent:ho}=je;var po={styleOverrides:{root:{margin:"".concat(pe(48)," 0"),padding:"0 ".concat(pe(12)),"&.MuiPaper-root":{backgroundColor:ho.main}}}},xo={styleOverrides:{root:{padding:"0 ".concat(pe(6))}}};const{dark:go}=je,{borderWidth:fo,borderColor:Oo}=Te;var vo={styleOverrides:{root:{color:Oo,transition:"all 200ms linear","&.Mui-active":{color:go.main},"&.Mui-completed":{color:go.main}},alternativeLabel:{top:"14%",left:"-50%",right:"50%"},line:{borderWidth:"".concat(fo[2]," !important"),borderColor:"currentColor"}}};const{size:yo,fontWeightRegular:Co}=ve,{grey:So,dark:wo,secondary:ko}=je;var zo={styleOverrides:{label:{marginTop:"".concat(pe(8)," !important"),fontWeight:Co,fontSize:yo.regular,color:So[300],"&.Mui-active":{fontWeight:"".concat(Co," !important"),color:"".concat(wo.main," !important")},"&.Mui-completed":{fontWeight:"".concat(Co," !important"),color:"".concat(ko.main," !important")}}}};const{dark:Io,white:Mo}=je,{borderWidth:Wo,borderColor:Ro}=Te;var Eo={styleOverrides:{root:{background:Mo.main,fill:Mo.main,stroke:Mo.main,strokeWidth:pe(10),width:pe(13),height:pe(13),border:"".concat(Wo[2]," solid ").concat(Ro),borderRadius:"50%",zIndex:99,transition:"all 200ms linear","&.Mui-active":{background:Io.main,fill:Io.main,stroke:Io.main,borderColor:Io.main,boxShadow:ke([0,0],[0,2],Io.main,1)},"&.Mui-completed":{background:Io.main,fill:Io.main,stroke:Io.main,borderColor:Io.main,boxShadow:ke([0,0],[0,2],Io.main,1)}}}};const{transparent:Lo}=je;var To={styleOverrides:{select:{display:"grid",alignItems:"center",padding:"0 ".concat(pe(12)," !important"),"& .Mui-selected":{backgroundColor:Lo.main}},selectMenu:{background:"none",height:"none",minHeight:"none",overflow:"unset"},icon:{display:"none"}}};const{dark:_o}=je,{size:Ao,fontWeightBold:No}=ve;var Po={styleOverrides:{root:{display:"block",minHeight:pe(24),marginBottom:pe(2)},label:{display:"inline-block",fontSize:Ao.sm,fontWeight:No,color:_o.main,lineHeight:1,transform:"translateY(".concat(pe(1),")"),marginLeft:pe(4),"&.Mui-disabled":{color:_o.main}}}};const{dark:Ho}=je;var Do={styleOverrides:{root:{color:Ho.main}}};const{borderWidth:Bo,borderColor:Fo}=Te,{transparent:Vo,gradients:Go,info:qo}=je;var Uo={styleOverrides:{root:{backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:pe(20),height:pe(20),marginRight:pe(6),padding:0,color:Vo.main,border:"".concat(Bo[1]," solid ").concat(Fo),borderRadius:pe(5.6),transition:"all 250ms ease","&:hover":{backgroundColor:Vo.main},"& .MuiSvgIcon-root":{fill:Vo.main},"&.Mui-focusVisible":{border:"".concat(Bo[2]," solid ").concat(qo.main," !important")}},colorPrimary:{backgroundColor:Vo.main,"&.Mui-checked":{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ".concat(_e(Go.dark.main,Go.dark.state)),borderColor:Go.dark.main},"&:hover":{backgroundColor:Vo.main}},colorSecondary:{backgroundColor:Vo.main,"&.Mui-checked":{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ".concat(_e(Go.dark.main,Go.dark.state)),borderColor:Go.dark.main},"&:hover":{backgroundColor:Vo.main}}}};const{borderWidth:Xo,borderColor:Zo}=Te,{transparent:Yo,gradients:Jo,info:Ko}=je;var $o={styleOverrides:{root:{backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:pe(20),height:pe(20),marginRight:pe(6),padding:0,color:Yo.main,border:"".concat(Xo[1]," solid ").concat(Zo),borderRadius:"50%",transition:"all 250ms ease","&:hover":{backgroundColor:Yo.main},"& .MuiSvgIcon-root":{fill:Yo.main},"&.Mui-focusVisible":{border:"".concat(Xo[2]," solid ").concat(Ko.main," !important")}},colorPrimary:{backgroundColor:Yo.main,"&.Mui-checked":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='15px' width='15px'%3E%3Ccircle cx='50%' cy='50%' r='3' fill='%23fff' /%3E%3C/svg%3E\"), ".concat(_e(Jo.dark.main,Jo.dark.state)),borderColor:Jo.dark.main},"&:hover":{backgroundColor:Yo.main}},colorSecondary:{backgroundColor:Yo.main,"&.Mui-checked":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='15px' width='15px'%3E%3Ccircle cx='50%' cy='50%' r='3' fill='%23fff' /%3E%3C/svg%3E\"), ".concat(_e(Jo.dark.main,Jo.dark.state)),borderColor:Jo.dark.main},"&:hover":{backgroundColor:Yo.main}}}};const{lg:Qo}=Ee,{size:ea}=ve,{text:ta,white:na,transparent:oa,light:aa,dark:ra,gradients:ia}=je,{borderRadius:ca}=Te;var sa={styleOverrides:{popper:{boxShadow:Qo,padding:pe(8),fontSize:ea.sm,color:ta.main,textAlign:"left",backgroundColor:"".concat(na.main," !important"),borderRadius:ca.md},paper:{boxShadow:"none",backgroundColor:oa.main},option:{padding:"".concat(pe(4.8)," ").concat(pe(16)),borderRadius:ca.md,fontSize:ea.sm,color:ta.main,transition:"background-color 300ms ease, color 300ms ease","&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus":{backgroundColor:aa.main,color:ra.main},'&[aria-selected="true"]':{backgroundColor:"".concat(aa.main," !important"),color:"".concat(ra.main," !important")}},noOptions:{fontSize:ea.sm,color:ta.main},groupLabel:{color:ra.main},loading:{fontSize:ea.sm,color:ta.main},tag:{display:"flex",alignItems:"center",height:"auto",padding:pe(4),backgroundColor:ia.dark.state,color:na.main,"& .MuiChip-label":{lineHeight:1.2,padding:"0 ".concat(pe(10)," 0 ").concat(pe(4))},"& .MuiSvgIcon-root, & .MuiSvgIcon-root:hover, & .MuiSvgIcon-root:focus":{color:na.main,marginRight:0}}}};const{inputColors:la}=je,{borderWidth:da,borderRadius:ua}=Te;var ba={styleOverrides:{root:{display:"flex !important",padding:"".concat(pe(8)," ").concat(pe(28)," ").concat(pe(8)," ").concat(pe(12)," !important"),border:"".concat(da[1]," solid ").concat(la.borderColor.main),borderRadius:"".concat(ua.md," !important"),"& fieldset":{border:"none"}},input:{height:pe(22),width:"max-content !important"},inputSizeSmall:{height:pe(14)}}};const{values:{sm:ma,md:ja,lg:ha,xl:pa,xxl:xa}}=he,ga="@media (min-width: ".concat(ma,"px)"),fa="@media (min-width: ".concat(ja,"px)"),Oa="@media (min-width: ".concat(ha,"px)"),va="@media (min-width: ".concat(pa,"px)"),ya="@media (min-width: ".concat(xa,"px)"),Ca={paddingRight:"".concat(pe(24)," !important"),paddingLeft:"".concat(pe(24)," !important"),marginRight:"auto !important",marginLeft:"auto !important",width:"100% !important",position:"relative"};var Sa={[ga]:{".MuiContainer-root":Object(x.a)(Object(x.a)({},Ca),{},{maxWidth:"540px !important"})},[fa]:{".MuiContainer-root":Object(x.a)(Object(x.a)({},Ca),{},{maxWidth:"720px !important"})},[Oa]:{".MuiContainer-root":Object(x.a)(Object(x.a)({},Ca),{},{maxWidth:"960px !important"})},[va]:{".MuiContainer-root":Object(x.a)(Object(x.a)({},Ca),{},{maxWidth:"1140px !important"})},[ya]:{".MuiContainer-root":Object(x.a)(Object(x.a)({},Ca),{},{maxWidth:"1320px !important"})}};const{transparent:wa}=je,{lg:ka}=Ee,{borderRadius:za}=Te;var Ia={styleOverrides:{paper:{backgroundColor:wa.main,boxShadow:ka,padding:pe(8),borderRadius:za.lg}}},Ma={defaultProps:{disableRipple:!0}},Wa={defaultProps:{baseClassName:"material-icons-round",fontSize:"inherit"},styleOverrides:{fontSizeInherit:{fontSize:"inherit !important"},fontSizeSmall:{fontSize:"".concat(pe(20)," !important")},fontSizeLarge:{fontSize:"".concat(pe(36)," !important")}}},Ra={defaultProps:{fontSize:"inherit"},styleOverrides:{fontSizeInherit:{fontSize:"inherit !important"},fontSizeSmall:{fontSize:"".concat(pe(20)," !important")},fontSizeLarge:{fontSize:"".concat(pe(36)," !important")}}},Ea={defaultProps:{underline:"none"}},La=Object(me.a)({breakpoints:Object(x.a)({},he),palette:Object(x.a)({},je),typography:Object(x.a)({},ve),boxShadows:Object(x.a)({},Ee),borders:Object(x.a)({},Te),functions:{boxShadow:ke,hexToRgb:Se,linearGradient:_e,pxToRem:pe,rgba:we},components:{MuiCssBaseline:{styleOverrides:Object(x.a)(Object(x.a)({},ot),Sa)},MuiDrawer:Object(x.a)({},it),MuiList:Object(x.a)({},ct),MuiListItem:Object(x.a)({},st),MuiListItemText:Object(x.a)({},lt),MuiCard:Object(x.a)({},ht),MuiCardMedia:Object(x.a)({},xt),MuiCardContent:Object(x.a)({},gt),MuiButton:Object(x.a)({},Vt),MuiIconButton:Object(x.a)({},qt),MuiInputBase:Object(x.a)({},en),MuiMenu:Object(x.a)({},cn),MuiMenuItem:Object(x.a)({},mn),MuiSwitch:Object(x.a)({},fn),MuiDivider:Object(x.a)({},Cn),MuiTableContainer:Object(x.a)({},zn),MuiTableHead:Object(x.a)({},Mn),MuiTableCell:Object(x.a)({},En),MuiLinearProgress:Object(x.a)({},_n),MuiBreadcrumbs:Object(x.a)({},Pn),MuiSlider:Object(x.a)({},Xn),MuiAvatar:Object(x.a)({},Yn),MuiTooltip:Object(x.a)({},no),MuiAppBar:Object(x.a)({},oo),MuiTabs:Object(x.a)({},so),MuiTab:Object(x.a)({},jo),MuiStepper:Object(x.a)({},po),MuiStep:Object(x.a)({},xo),MuiStepConnector:Object(x.a)({},vo),MuiStepLabel:Object(x.a)({},zo),MuiStepIcon:Object(x.a)({},Eo),MuiSelect:Object(x.a)({},To),MuiFormControlLabel:Object(x.a)({},Po),MuiFormLabel:Object(x.a)({},Do),MuiCheckbox:Object(x.a)({},Uo),MuiRadio:Object(x.a)({},$o),MuiAutocomplete:Object(x.a)({},sa),MuiInput:Object(x.a)({},ba),MuiOutlinedInput:Object(x.a)({},ba),MuiFilledInput:Object(x.a)({},ba),MuiPopover:Object(x.a)({},Ia),MuiButtonBase:Object(x.a)({},Ma),MuiIcon:Object(x.a)({},Wa),MuiSvgIcon:Object(x.a)({},Ra),MuiLink:Object(x.a)({},Ea)}}),Ta=Object(me.a)({direction:"rtl",breakpoints:Object(x.a)({},he),palette:Object(x.a)({},je),typography:Object(x.a)({},ve),boxShadows:Object(x.a)({},Ee),borders:Object(x.a)({},Te),functions:{boxShadow:ke,hexToRgb:Se,linearGradient:_e,pxToRem:pe,rgba:we},components:{MuiCssBaseline:{styleOverrides:Object(x.a)(Object(x.a)({},ot),Sa)},MuiDrawer:Object(x.a)({},it),MuiList:Object(x.a)({},ct),MuiListItem:Object(x.a)({},st),MuiListItemText:Object(x.a)({},lt),MuiCard:Object(x.a)({},ht),MuiCardMedia:Object(x.a)({},xt),MuiCardContent:Object(x.a)({},gt),MuiButton:Object(x.a)({},Vt),MuiIconButton:Object(x.a)({},qt),MuiInputBase:Object(x.a)({},en),MuiMenu:Object(x.a)({},cn),MuiMenuItem:Object(x.a)({},mn),MuiSwitch:Object(x.a)({},fn),MuiDivider:Object(x.a)({},Cn),MuiTableContainer:Object(x.a)({},zn),MuiTableHead:Object(x.a)({},Mn),MuiTableCell:Object(x.a)({},En),MuiLinearProgress:Object(x.a)({},_n),MuiBreadcrumbs:Object(x.a)({},Pn),MuiSlider:Object(x.a)({},Xn),MuiAvatar:Object(x.a)({},Yn),MuiTooltip:Object(x.a)({},no),MuiAppBar:Object(x.a)({},oo),MuiTabs:Object(x.a)({},so),MuiTab:Object(x.a)({},jo),MuiStepper:Object(x.a)({},po),MuiStep:Object(x.a)({},xo),MuiStepConnector:Object(x.a)({},vo),MuiStepLabel:Object(x.a)({},zo),MuiStepIcon:Object(x.a)({},Eo),MuiSelect:Object(x.a)({},To),MuiFormControlLabel:Object(x.a)({},Po),MuiFormLabel:Object(x.a)({},Do),MuiCheckbox:Object(x.a)({},Uo),MuiRadio:Object(x.a)({},$o),MuiAutocomplete:Object(x.a)({},sa),MuiInput:Object(x.a)({},ba),MuiOutlinedInput:Object(x.a)({},ba),MuiFilledInput:Object(x.a)({},ba),MuiPopover:Object(x.a)({},Ia),MuiButtonBase:Object(x.a)({},Ma),MuiIcon:Object(x.a)({},Wa),MuiSvgIcon:Object(x.a)({},Ra),MuiLink:Object(x.a)({},Ea)}}),_a=n(328),Aa=n(16),Na=n(324),Pa=n(325),Ha=n(326),Da=n(308),Ba=n(299),Fa=n(300),Va=n(327),Ga=n(93),qa=n.n(Ga);const Ua=["Perro","Gato","Loro","Otro"];function Xa(e){var t,n;let{open:a,onClose:r,onSave:i}=e;const c="1.05rem",{register:s,handleSubmit:l,control:d,reset:u,watch:b,formState:{errors:m}}=Object(Aa.b)({defaultValues:{nombre:"",especieSel:"Perro",especieOtro:"",raza:"",edad:"",dueno:null}}),j=b("especieSel"),[h,p]=Object(o.useState)(""),[g,f]=Object(o.useState)([]),[O,v]=Object(o.useState)(!1),[y,S]=Object(o.useState)(!1);Object(o.useEffect)((()=>{let e=!0;return v(!0),te.list("duenos").then((t=>{e&&(Array.isArray(t)?f(t):f([]))})).catch((t=>{console.warn("Error fetching duenos:",t),e&&f([])})).finally((()=>{e&&v(!1)})),()=>{e=!1}}),[]);const w={"& .MuiInputLabel-root":{fontSize:"1.25rem"},"& .MuiFormHelperText-root":{fontSize:"1.2rem"},"& .MuiOutlinedInput-root":{minHeight:52},"& .MuiInputBase-input":{fontSize:c,padding:"16px 14px"}};return Object(C.jsxs)(Na.a,{open:a,onClose:r,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{borderRadius:3,p:0}},children:[Object(C.jsx)(Pa.a,{sx:{fontWeight:600,textAlign:"center",pb:1,fontSize:"1.25rem"},children:"Registrar Mascota"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:l((async e=>{p("");try{const t=Object(x.a)({},e);t.dueno&&"object"===typeof t.dueno&&(t.dueno=t.dueno.id||t.dueno.idDueno||t.dueno.pk||t.dueno.dueno||null),await(null===i||void 0===i?void 0:i(t)),u(),null===r||void 0===r||r()}catch(t){p((null===t||void 0===t?void 0:t.message)||"Error al guardar")}})),children:[Object(C.jsx)(Ha.a,{sx:{pt:2},children:Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:"1.05rem",fontWeight:400,display:"block",marginBottom:"6px"},children:"Nombre"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({placeholder:"Nombre",fullWidth:!0,size:"small"},s("nombre",{required:"El nombre es obligatorio"})),{},{error:!!m.nombre,helperText:null===(t=m.nombre)||void 0===t?void 0:t.message,sx:w}))]}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Aa.a,{name:"especieSel",control:d,render:e=>{let{field:t}=e;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E.a,{sx:{fontSize:"1.05rem",fontWeight:400,display:"block",marginBottom:"6px"},children:"Especie"}),Object(C.jsx)(Fa.a,{options:Ua,size:"small",value:t.value,onChange:(e,n)=>t.onChange(null!==n&&void 0!==n?n:""),open:y,onOpen:()=>S(!0),onClose:()=>S(!1),openOnFocus:!0,renderInput:e=>Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{placeholder:"Especie",inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{readOnly:!0}),onClick:()=>S(!0),sx:Object(x.a)(Object(x.a)({},w),{},{"& .MuiOutlinedInput-root":{minHeight:54},"& .MuiInputBase-input":{fontSize:c,padding:"10px 12px"}})})),popupIcon:Object(C.jsx)(qa.a,{sx:{fontSize:22}}),disableClearable:!0,sx:{"& .MuiAutocomplete-inputRoot":{fontSize:c,minHeight:44,alignItems:"center"}}})]})}})}),"Otro"===j&&Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:"1.05rem",fontWeight:400,display:"block",marginBottom:"6px"},children:"Otra especie"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({placeholder:"Otra especie",fullWidth:!0,size:"small"},s("especieOtro",{required:"Debes especificar la especie"})),{},{error:!!m.especieOtro,helperText:null===(n=m.especieOtro)||void 0===n?void 0:n.message,sx:w}))]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:"1.05rem",fontWeight:400,display:"block",marginBottom:"6px"},children:"Raza"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({placeholder:"Raza",fullWidth:!0,size:"small"},s("raza")),{},{sx:w}))]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:"1.05rem",fontWeight:400,display:"block",marginBottom:"6px"},children:"Edad"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({placeholder:"Edad",type:"number",fullWidth:!0,size:"small"},s("edad",{valueAsNumber:!0})),{},{sx:w}))]}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Aa.a,{name:"dueno",control:d,rules:{required:"Selecciona un due\xf1o"},render:e=>{let{field:t}=e;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E.a,{sx:{fontSize:"1.05rem",fontWeight:400,display:"block",marginBottom:"6px"},children:"Due\xf1o"}),Object(C.jsx)(Fa.a,{options:g,getOptionLabel:e=>e&&(e.nombre||e.dueno_nombre||e.name)||String(e||""),isOptionEqualToValue:(e,t)=>{if(!e||!t)return!1;const n=e.id||e.idDueno||e.pk||e.dueno,o=t.id||t.idDueno||t.pk||t.dueno;return n&&o?String(n)===String(o):e===t},size:"small",value:t.value||null,onChange:(e,n)=>t.onChange(n),loading:O,renderInput:e=>{var t;return Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{placeholder:"Due\xf1o",error:!!m.dueno,helperText:null===(t=m.dueno)||void 0===t?void 0:t.message,sx:w}))}})]})}})}),h&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{color:"error",fontSize:"0.88rem",children:h})})]})}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(Va.a,{sx:{p:2,justifyContent:"flex-end",gap:1},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:r,sx:{fontSize:c,textTransform:"none",px:3,minWidth:120,height:44,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",sx:{fontSize:c,textTransform:"none",px:3,minWidth:120,height:44,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:"Guardar"})]})]})]})}const Za=["Perro","Gato","Loro","Otro"];function Ya(e){var t,n;let{open:a,onClose:r,onSave:i,initialData:c}=e;const s="1.05rem",{register:l,handleSubmit:d,control:u,reset:b,watch:m,formState:{errors:j}}=Object(Aa.b)({defaultValues:{nombre:"",especieSel:"Perro",especieOtro:"",raza:"",edad:""}}),h=m("especieSel"),[p,g]=Object(o.useState)(""),[f,O]=Object(o.useState)(!1);Object(o.useEffect)((()=>{if(a)if(c){const e=Za.includes(c.especie)?c.especie:"Otro";b({nombre:c.nombre||"",especieSel:e,especieOtro:"Otro"===e&&c.especie||"",raza:c.raza||"",edad:null!=c.edad?c.edad:""})}else b({nombre:"",especieSel:"Perro",especieOtro:"",raza:"",edad:""})}),[c,a,b]);const v={"& .MuiInputLabel-root":{fontSize:"1.25rem",fontWeight:400},"& .MuiFormHelperText-root":{fontSize:"1.2rem"},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:s,padding:"12px 12px"}};return Object(C.jsxs)(Na.a,{open:a,onClose:r,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{borderRadius:3,p:0}},children:[Object(C.jsx)(Pa.a,{sx:{fontWeight:600,textAlign:"center",pb:1,fontSize:"1.25rem"},children:"Editar Mascota"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:d((async e=>{g("");try{await(null===i||void 0===i?void 0:i(e)),null===r||void 0===r||r()}catch(t){g((null===t||void 0===t?void 0:t.message)||"Error al actualizar")}})),children:[Object(C.jsx)(Ha.a,{sx:{pt:2},children:Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Nombre",fullWidth:!0,size:"small"},l("nombre",{required:"El nombre es obligatorio"})),{},{error:!!j.nombre,helperText:null===(t=j.nombre)||void 0===t?void 0:t.message,sx:v,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Aa.a,{name:"especieSel",control:u,render:e=>{let{field:t}=e;return Object(C.jsx)(Fa.a,{options:Za,size:"small",value:t.value,onChange:(e,n)=>t.onChange(null!==n&&void 0!==n?n:""),open:f,onOpen:()=>O(!0),onClose:()=>O(!1),openOnFocus:!0,renderInput:e=>Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{label:"Especie",InputLabelProps:{shrink:!0},inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{readOnly:!0}),onClick:()=>O(!0),sx:Object(x.a)(Object(x.a)({},v),{},{"& .MuiOutlinedInput-root":{minHeight:54},"& .MuiInputBase-input":{fontSize:s,padding:"10px 12px"}})})),popupIcon:Object(C.jsx)(qa.a,{sx:{fontSize:22}}),disableClearable:!0,sx:{"& .MuiAutocomplete-inputRoot":{fontSize:s,minHeight:44,alignItems:"center"}}})}})}),"Otro"===h&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Otra especie",fullWidth:!0,size:"small"},l("especieOtro",{required:"Debes especificar la especie"})),{},{error:!!j.especieOtro,helperText:null===(n=j.especieOtro)||void 0===n?void 0:n.message,sx:v,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Raza",fullWidth:!0,size:"small"},l("raza")),{},{sx:v,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Edad",type:"number",fullWidth:!0,size:"small"},l("edad",{valueAsNumber:!0})),{},{sx:v,InputLabelProps:{shrink:!0}}))}),p&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{color:"error",fontSize:"0.88rem",children:p})})]})}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(Va.a,{sx:{p:2,justifyContent:"flex-end",gap:1},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:r,sx:{fontSize:s,textTransform:"none",px:3,minWidth:120,height:44},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",sx:{fontSize:s,textTransform:"none",px:3,minWidth:120,height:44},children:"Guardar"})]})]})]})}function Ja(e){let{open:t,onClose:n,onConfirm:o,item:a,errorMessage:r}=e;const i=(null===a||void 0===a?void 0:a.nombre)||"esta mascota";return Object(C.jsxs)(Na.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{children:r?"No es posible eliminar":"Confirmar eliminaci\xf3n"}),Object(C.jsx)(M.a,{}),Object(C.jsx)(Ha.a,{children:Object(C.jsx)(E.a,{variant:"body1",sx:{mt:1},children:r?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("strong",{children:i})," no se puede eliminar porque est\xe1 vinculada a una o m\xe1s citas m\xe9dicas.",Object(C.jsx)("br",{}),r]}):Object(C.jsxs)(C.Fragment,{children:["\xbfEst\xe1s seguro que deseas eliminar a ",Object(C.jsx)("strong",{children:i}),"? Esta acci\xf3n no se puede deshacer."]})})}),Object(C.jsxs)(Va.a,{sx:{p:2},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:n,sx:{minWidth:100},children:"Cerrar"}),!r&&Object(C.jsx)(de,{variant:"gradient",buttonColor:"error",onClick:()=>o&&o(a),sx:{minWidth:100},children:"Eliminar"})]})]})}var Ka=n(42),$a=n.n(Ka),Qa=n(45),er=n.n(Qa),tr=n(139),nr=n.n(tr),or=n(339),ar=n(340),rr=n(316),ir=n.p+"static/media/gemini_perro.e929ac7b.png",cr=n.p+"static/media/gemini_gato.38b6bd7f.png",sr=n.p+"static/media/gemini_ave.ca37a9b4.png";const lr={perro:"dog",canino:"dog",cachorro:"dog",gato:"cat",felino:"cat",ave:"bird",pajaro:"bird",loro:"parrot",pez:"fish",pescado:"fish",acuario:"fish",caballo:"horse",equino:"horse",conejo:"rabbit",liebre:"rabbit",tortuga:"turtle",serpiente:"snake",hamster:"hamster",cerdo:"pig",chancho:"pig",vaca:"cow",oveja:"sheep",cabra:"goat"};function dr(e){let{open:t,onClose:n,mascota:r}=e;const[i,c]=Object(o.useState)(!1),[s,l]=Object(o.useState)(null),[d,u]=Object(o.useState)([]),[b,m]=Object(o.useState)([]),[j,h]=Object(o.useState)(null),[p,x]=Object(o.useState)(null);if(Object(o.useEffect)((()=>{if(t&&r){const e=(r.especie||"").toLowerCase();let t=ir;if(e.includes("perro")||e.includes("canino")||e.includes("dog"))t=ir;else if(e.includes("gato")||e.includes("felino")||e.includes("cat"))t=cr;else if(e.includes("ave")||e.includes("pajaro")||e.includes("bird")||e.includes("loro"))t=sr;else if(e){const n=(e=>{const t=(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim();for(const n in lr)if(t.includes(n))return lr[n];return t.split(" ")[0]})(e);t="cat"===n?cr:"bird"===n||"parrot"===n?sr:ir}h(t)}}),[t,r]),Object(o.useEffect)((()=>{if(!t||!r)return;let e=!0;(async()=>{let t=null;if(r.dueno&&(t="object"===typeof r.dueno?r.dueno.id||r.dueno.idDueno:r.dueno),t)try{const n=await te.request("/api/clinic/duenos/".concat(t));e&&n&&n.telefono&&x(n.telefono)}catch(n){console.warn("Could not fetch owner phone",n)}})();return(async()=>{c(!0),l(null);try{const n=r.idMascota||r.id;let o=[];try{const e=await te.request("/api/clinic/mascotas/".concat(n,"/consultas"));Array.isArray(e)?o=e:e&&Array.isArray(e.results)?o=e.results:e&&Array.isArray(e.consultas)?o=e.consultas:e&&Array.isArray(e.data)?o=e.data:(console.warn("API response format unexpected, expected array or list wrapper:",e),o=[])}catch(t){throw console.error("Failed to fetch specific history",t),t}if(!e)return;const a=Array.isArray(o)?o:o.data||[],i=new Date,s=[],l=[];a.forEach((e=>{const t=e.fecha||(e.fechaHora?String(e.fechaHora).split("T")[0]:""),n=e.hora||(e.fechaHora?(String(e.fechaHora).split("T")[1]||"").slice(0,5):"00:00");if(!t)return;const o=new Date("".concat(t,"T").concat(n));"Pendiente"===e.estado||"pending"===e.status||o>i?l.push(e):s.push(e)})),s.sort(((e,t)=>new Date(t.fecha||t.fechaHora)-new Date(e.fecha||e.fechaHora))),l.sort(((e,t)=>new Date(e.fecha||e.fechaHora)-new Date(t.fecha||t.fechaHora))),u(s),m(l)}catch(n){console.error("Error loading history",n),l("No se pudo cargar el historial.")}finally{e&&c(!1)}})(),()=>{e=!1}}),[t,r]),!r)return null;const g=r.dueno&&(r.dueno.nombre||r.dueno.name)||r.dueno_nombre||"-";return Object(C.jsxs)(Na.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"lg",children:[Object(C.jsxs)(Pa.a,{children:["Historial de ",r.nombre]}),Object(C.jsx)(M.a,{}),Object(C.jsx)(Ha.a,{children:Object(C.jsxs)(Da.a,{container:!0,spacing:4,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,md:4,children:Object(C.jsxs)(_a.a,{sx:{boxShadow:3},children:[Object(C.jsx)(or.a,{component:"img",height:"200",image:j||ir,alt:r.nombre}),Object(C.jsxs)(ar.a,{children:[Object(C.jsx)(A,{variant:"h5",gutterBottom:!0,children:r.nombre}),Object(C.jsxs)(A,{variant:"body2",color:"text",children:[Object(C.jsx)("strong",{children:"Especie/Raza:"})," ",r.especie||"-"," - ",r.raza||"-"]}),Object(C.jsxs)(A,{variant:"body2",color:"text",children:[Object(C.jsx)("strong",{children:"Edad:"})," ",r.edad?"".concat(r.edad," a\xf1os"):"-"]}),Object(C.jsx)(k,{mt:2,mb:1,children:Object(C.jsx)(M.a,{})}),Object(C.jsx)(A,{variant:"subtitle2",children:"Informaci\xf3n del Due\xf1o"}),Object(C.jsx)(A,{variant:"body2",color:"text",children:g}),p&&Object(C.jsxs)(A,{variant:"body2",color:"text",children:["Tel: ",p]})]})]})}),Object(C.jsx)(Da.a,{item:!0,xs:12,md:8,children:i?Object(C.jsx)(k,{display:"flex",justifyContent:"center",p:4,children:Object(C.jsx)(rr.a,{})}):s?Object(C.jsx)(A,{color:"error",children:s}):Object(C.jsxs)(Da.a,{container:!0,spacing:2,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(A,{variant:"h6",textColor:"dark",mb:2,children:"Consultas Realizadas"}),0===d.length?Object(C.jsx)(A,{variant:"caption",color:"text",children:"No hay consultas pasadas."}):Object(C.jsx)(I.a,{sx:{maxHeight:300,overflow:"auto",bgcolor:"background.paper",borderRadius:2,border:"1px solid #eee"},children:d.map(((e,t)=>Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsx)(P.a,{alignItems:"flex-start",children:Object(C.jsx)(D.a,{primary:e.motivo||"Consulta General",secondary:Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsx)(E.a,{component:"span",variant:"body2",color:"text.primary",children:e.fecha||(e.fechaHora||"").split("T")[0]})," \u2014 "+(e.diagnostico||e.observaciones||"Sin observaciones")]})})}),t<d.length-1&&Object(C.jsx)(M.a,{variant:"inset",component:"li"})]},t)))})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,mt:3,children:[Object(C.jsx)(A,{variant:"h6",textColor:"dark",mb:2,children:"Consultas Pendientes"}),0===b.length?Object(C.jsx)(A,{variant:"caption",color:"text",children:"No hay consultas futuras."}):Object(C.jsx)(I.a,{sx:{maxHeight:300,overflow:"auto",bgcolor:"background.paper",borderRadius:2,border:"1px solid #eee"},children:b.map(((e,t)=>Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsx)(P.a,{alignItems:"flex-start",children:Object(C.jsx)(D.a,{primary:e.motivo||"Consulta Programada",secondary:Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsx)(E.a,{component:"span",variant:"body2",color:"text.primary",children:e.fecha||(e.fechaHora||"").split("T")[0]})," \u2014 "+(e.hora||(e.fechaHora||"").split("T")[1]||"").slice(0,5)]})})}),t<b.length-1&&Object(C.jsx)(M.a,{variant:"inset",component:"li"})]},t)))})]})]})})]})}),Object(C.jsx)(Va.a,{children:Object(C.jsx)(de,{onClick:n,variant:"outlined",buttonColor:"dark",children:"Cerrar"})})]})}var ur=n(309),br=Object(v.a)((e=>{let{palette:t,functions:n,typography:o,boxShadows:a}=e;const{gradients:r,transparent:i}=t,{pxToRem:c,linearGradient:s}=n,{size:l,fontWeightBold:d}=o;return{suiAvatar:{backgroundImage:e=>{let{backgroundColor:t}=e;return"transparent"===t?i.main:s(r[t].main,r[t].state)},fontWeight:d},suiAvatar_xs:{width:c(24),height:c(24),fontSize:l.xs},suiAvatar_sm:{width:c(36),height:c(36),fontSize:l.sm},suiAvatar_md:{width:c(48),height:c(48),fontSize:l.regular},suiAvatar_lg:{width:c(58),height:c(58),fontSize:l.sm},suiAvatar_xl:{width:c(74),height:c(74),fontSize:l.regular},suiAvatar_xxl:{width:c(110),height:c(110),fontSize:l.regular},suiAvatar_boxShadow:{boxShadow:e=>{let{boxShadow:t}=e;return a[t]}}}}));const mr=["backgroundColor","size","boxShadow","customClass"],jr=Object(o.forwardRef)(((e,t)=>{let{backgroundColor:n,size:o,boxShadow:a,customClass:r}=e,i=Object(g.a)(e,mr);const c=br({boxShadow:a,backgroundColor:n});return Object(C.jsx)(ur.a,Object(x.a)(Object(x.a)({ref:t},i),{},{className:Object(f.a)(c.suiAvatar,r,{[c["suiAvatar_".concat(o)]]:o,[c.suiAvatar_boxShadow]:"none"!==a})}))}));jr.defaultProps={backgroundColor:"transparent",size:"md",boxShadow:"none",customClass:""};var hr=jr;const pr=a.a.createContext(null),xr=e=>{let{userData:t,children:n}=e,[o,r]=a.a.useState(t);return o="string"===typeof o?JSON.parse(o):o,Object(C.jsx)(pr.Provider,{value:{user:o,setUser:r},children:n})},gr=()=>a.a.useContext(pr);var fr=Object(v.a)((e=>{let{functions:t,breakpoints:n,transitions:o}=e;const{pxToRem:a}=t;return{layoutContainer:{position:"relative",padding:a(24),[n.up("xl")]:{marginLeft:e=>{let{direction:t,miniSidenav:n}=e;return"ltr"===t&&a(n?120:274)},marginRight:e=>{let{direction:t,miniSidenav:n}=e;return"rtl"===t&&a(n?120:274)},transition:o.create(["margin-left","margin-right"],{easing:o.easing.easeInOut,duration:o.duration.standard})}}}}));var Or=function(e){let{children:t}=e;const[n,a]=q(),{miniSidenav:r,direction:i}=n,{pathname:c}=Object(s.h)(),l=fr({miniSidenav:r,direction:i});return Object(o.useEffect)((()=>{a({type:"LAYOUT",value:"dashboard"})}),[c]),Object(C.jsx)(k,{customClass:l.layoutContainer,children:t})},vr=n(332),yr=n(333),Cr=n(149),Sr=n(306),wr=Object(v.a)((e=>{let{palette:t}=e;return{breadcrumbs:{"& .MuiBreadcrumbs-separator":{color:e=>{let{light:n}=e;return n?t.white.main:t.grey[600]}}}}}));function kr(e){let{icon:t,title:n,route:o,light:a}=e;const r=wr({light:a}),i=o.slice(0,-1);return Object(C.jsxs)(k,{mr:{xs:0,xl:8},children:[Object(C.jsxs)(Sr.a,{className:r.breadcrumbs,children:[Object(C.jsx)(c.b,{to:"/",children:Object(C.jsx)(A,{component:"span",variant:"body2",textColor:a?"white":"dark",opacity:a?.8:.5,customClass:"line-height-0",children:Object(C.jsx)(W.a,{children:t})})}),i.map((e=>Object(C.jsx)(c.b,{to:"/".concat(e),className:"decoration-none",children:Object(C.jsx)(A,{component:"span",variant:"button",fontWeight:"regular",textTransform:"capitalize",textColor:a?"white":"dark",opacity:a?.8:.5,customClass:"line-height-0",children:e})},e))),Object(C.jsx)(A,{variant:"button",fontWeight:"regular",textTransform:"capitalize",textColor:a?"white":"dark",customClass:"line-height-0",children:n.replace("-"," ")})]}),Object(C.jsx)(A,{fontWeight:"bold",textTransform:"capitalize",variant:"h6",textColor:a?"white":"dark",noWrap:!0,children:n.replace("-"," ")})]})}kr.defaultProps={light:!1};var zr=kr,Ir=n(329),Mr=Object(v.a)((e=>{let{palette:t,borders:n,transitions:o,functions:a}=e;const{light:r,secondary:i,gradients:c}=t,{borderRadius:s}=n,{pxToRem:l,linearGradient:d}=a;return{notificationItem:{display:"flex",alignItems:"center",width:"100%",color:i.main,padding:"".concat(l(8)," ").concat(l(16)),borderRadius:s.md,transition:o.create("background-color",{easing:o.easing.easeInOut,duration:o.duration.standard}),"&:not(:last-child)":{marginBottom:l(10)},"&:hover":{backgroundColor:r.main}},notificationItem_img:{backgroundImage:e=>{let{color:t}=e;return d(c[t].main,c[t].state)},display:"grid",placeItems:"center",width:l(36),height:l(36),margin:"".concat(l(2)," ").concat(l(16)," ").concat(l(2)," 0"),borderRadius:s.lg,"& img":{width:"100%",borderRadius:s.lg}},notificationItem_date:{display:"flex",alignItems:"center",marginTop:l(4)},notificationItem_icon:{lineHeight:1.2,marginRight:l(4)}}}));const Wr=["color","image","title","date"],Rr=Object(o.forwardRef)(((e,t)=>{let{color:n,image:o,title:a,date:r}=e,i=Object(g.a)(e,Wr);const c=Mr({color:n});return Object(C.jsxs)(Ir.a,Object(x.a)(Object(x.a)({},i),{},{ref:t,className:c.notificationItem,children:[Object(C.jsx)(k,{customClass:c.notificationItem_img,children:o}),Object(C.jsxs)(k,{children:[Object(C.jsxs)(A,{variant:"button",textTransform:"capitalize",fontWeight:"regular",children:[Object(C.jsx)("strong",{children:a[0]})," ",a[1]]}),Object(C.jsxs)(A,{variant:"caption",textColor:"secondary",customClass:c.notificationItem_date,children:[Object(C.jsx)(A,{variant:"button",textColor:"secondary",children:Object(C.jsx)(W.a,{className:c.notificationItem_icon,children:"watch_later"})}),r]})]})]}))}));Rr.defaultProps={color:"dark"};var Er=Rr,Lr=Object(v.a)((e=>{let{palette:t,boxShadows:n,functions:o,transitions:a,breakpoints:r,borders:i,typography:c}=e;const{dark:s,white:l,text:d,transparent:u}=t,{navbarBoxShadow:b}=n,{rgba:m,pxToRem:j}=o,{borderRadius:h}=i,{size:p}=c;return{navbar:{boxShadow:e=>{let{transparentNavbar:t,absolute:n}=e;return t||n?"none":b},backdropFilter:e=>{let{transparentNavbar:t,absolute:n}=e;return t||n?"none":"saturate(200%) blur(".concat(j(30),")")},backgroundColor:u.main,color:e=>{let t,{transparentNavbar:n,light:o}=e;return t=o?l.main:n?d.main:s.main,t},top:e=>{let{absolute:t}=e;return t?0:j(12)},minHeight:j(75),display:"grid",alignItems:"center",borderRadius:h.xl,paddingTop:j(8),paddingBottom:j(8),paddingRight:e=>{let{absolute:t}=e;return t?j(8):0},paddingLeft:e=>{let{absolute:t}=e;return t?j(16):0},"& > *":{transition:a.create("all",{easing:a.easing.easeInOut,duration:a.duration.standard})},"& .MuiToolbar-root":{display:"flex",justifyContent:"space-between",alignItems:"center",[r.up("sm")]:{minHeight:"auto",padding:"".concat(j(4)," ").concat(j(16))}}},navbar_container:{flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",paddingTop:j(4),paddingBottom:j(4),[r.up("md")]:{flexDirection:"row",alignItems:"center",paddingTop:"0",paddingBottom:"0"}},navbar_row:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",[r.up("md")]:{justifyContent:e=>{let{isMini:t}=e;return t?"space-between":"stretch"},width:e=>{let{isMini:t}=e;return t?"100%":"max-content"}},[r.up("xl")]:{justifyContent:"stretch !important",width:"max-content !important"}},navbar_icon_button:{padding:"0 ".concat(j(6)),"& .material-icons, .material-icons-round":{fontSize:"".concat(p.regular," !important")},"& .MuiTypography-root":{display:"none",[r.up("sm")]:{display:"inline-block",lineHeight:1.2,marginLeft:j(4)}}},navbar_mobile_menu:{display:"inline-block",[r.up("xl")]:{display:"none"}},navbar_input:{"& .material-icons, .material-icons-round":{color:d.main}}}})),Tr=n.p+"static/media/team-2.e725aef8.jpg",_r=n.p+"static/media/logo-spotify.3f055cde.svg";function Ar(e){let{absolute:t,light:n,isMini:a}=e;const[r,i]=Object(o.useState)(),[c,l]=q(),{miniSidenav:d,transparentNavbar:u,fixedNavbar:b,openConfigurator:m}=c,[j,h]=Object(o.useState)(!1),p=Lr({transparentNavbar:u,absolute:t,light:n,isMini:a}),x=Object(s.h)().pathname.split("/").slice(1);Object(o.useEffect)((()=>{function e(){l({type:"TRANSPARENT_NAVBAR",value:b&&0===window.scrollY||!b})}return i("static"),window.addEventListener("scroll",e),e(),()=>{window.removeEventListener("scroll",e)}}),[l,b]);const g=()=>h(!1);return Object(C.jsx)(vr.a,{position:t?"absolute":r,color:"inherit",className:p.navbar,children:Object(C.jsxs)(yr.a,{className:p.navbar_container,children:[Object(C.jsx)(k,{customClass:p.navbar_row,color:"inherit",mb:{xs:1,md:0},children:Object(C.jsx)(zr,{icon:"home",title:x[x.length-1],route:x,light:n})}),a?null:Object(C.jsx)(k,{customClass:p.navbar_row,children:Object(C.jsxs)(k,{color:n?"white":"inherit",customClass:p.navbar_section_desktop,children:[Object(C.jsx)(re.a,{size:"small",color:"inherit",className:p.navbar_mobile_menu,onClick:()=>l({type:"MINI_SIDENAV",value:!d}),children:Object(C.jsx)(W.a,{children:d?"menu_open":"menu"})}),Object(C.jsx)(re.a,{color:"inherit",className:p.navbar_icon_button,"aria-controls":"notification-menu","aria-haspopup":"true",variant:"contained",onClick:e=>h(e.currentTarget),children:Object(C.jsx)(W.a,{children:"notifications"})}),Object(C.jsxs)(Cr.a,{anchorEl:j,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:Boolean(j),onClose:g,style:{marginTop:"1rem"},children:[Object(C.jsx)(Er,{image:Object(C.jsx)("img",{src:Tr,alt:"person"}),title:["New message","from Laur"],date:"13 minutes ago",onClick:g}),Object(C.jsx)(Er,{image:Object(C.jsx)("img",{src:_r,alt:"person"}),title:["New album","by Travis Scott"],date:"1 day",onClick:g}),Object(C.jsx)(Er,{color:"secondary",image:Object(C.jsx)(W.a,{fontSize:"small",className:"material-icon-round text-white",children:"payment"}),title:["","Payment successfully completed"],date:"2 days",onClick:g})]})]})})]})})}Ar.defaultProps={absolute:!1,light:!1,isMini:!1};var Nr=Ar,Pr=Object(v.a)((e=>{let{functions:t,breakpoints:n}=e;const{pxToRem:o}=t;return{footer_list:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",listStyle:"none",padding:0,marginTop:o(24),marginBottom:0,[n.up("lg")]:{marginTop:0}}}}));function Hr(e){let{company:t,links:n}=e;const{href:o,name:a}=t,{size:r}=ve,i=Pr();return Object(C.jsxs)(k,{width:"100%",display:"flex",flexDirection:{xs:"column",lg:"row"},justifyContent:"space-between",alignItems:"center",px:1.5,children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",color:"text",fontSize:r.sm,px:1.5,children:["\xa9",Object(C.jsx)(R.a,{href:o,target:"_blank",children:Object(C.jsxs)(A,{variant:"button",fontWeight:"medium",children:["\xa0",a,"\xa0"]})})]}),Object(C.jsx)(k,{component:"ul",customClass:i.footer_list,children:n.map((e=>Object(C.jsx)(k,{component:"li",px:2,children:Object(C.jsx)(R.a,{href:e.href,target:"_blank",children:Object(C.jsx)(A,{variant:"button",fontWeight:"regular",textColor:"text",children:e.name})})},e.name)))})]})}Hr.defaultProps={company:{href:"#",name:"Cl\xednica Veterinaria"},links:[]};var Dr=Hr,Br=n(313),Fr=n(336),Vr=n(335),Gr=n(334);function qr(e){let{columns:t,rows:n,apiResource:a,rowMapper:r}=e;const[i,c]=Object(o.useState)([]),[s,l]=Object(o.useState)(!1);Object(o.useEffect)((()=>{let e=!0;return async function(){if(a&&r){l(!0);try{const t=await te.list(a);if(!e)return;const n=(t||[]).map((e=>r(e)));c(n)}catch(t){console.error("Error loading table data:",t),c([])}finally{l(!1)}}}(),()=>{e=!1}}),[a,r]);const{light:d}=je,{size:u,fontWeightBold:b}=ve,{borderWidth:m}=Te,j=t.map(((e,n)=>{let o,a,{name:r,align:i}=e;return 0===n||n===t.length-1?(o=3,a=3):(o=1,a=1),Object(C.jsx)(k,{component:"th",pt:1.5,pb:1.25,pl:"left"===i?o:3,pr:"right"===i?a:3,textAlign:i,fontSize:u.xxs,fontWeight:b,color:"secondary",opacity:.7,borderBottom:"".concat(m[1]," solid ").concat(d.main),children:r.toUpperCase()},r)})),h=a&&r?i:n,p=(h||[]).map(((e,n)=>{const o="row-".concat(n),a=t.map((t=>{let n,{name:o,align:a}=t;return n=Array.isArray(e[o])?Object(C.jsx)(k,{component:"td",p:1,children:Object(C.jsxs)(k,{display:"flex",alignItems:"center",py:.5,px:1,children:[Object(C.jsx)(k,{mr:2,children:Object(C.jsx)(hr,{src:e[o][0],name:e[o][1],variant:"rounded",size:"sm"})}),Object(C.jsx)(A,{variant:"button",fontWeight:"medium",customClass:"w-max",children:e[o][1]})]})},e[o][1]):Object(C.jsx)(k,{component:"td",p:1,textAlign:a,children:Object(C.jsx)(A,{variant:"button",fontWeight:"regular",textColor:"secondary",customClass:"d-inline-block w-max",children:e[o]})},e[o]),n}));return Object(C.jsx)(Gr.a,{children:a},o)}));return Object(o.useMemo)((()=>Object(C.jsx)(Vr.a,{children:Object(C.jsxs)(Br.a,{children:[Object(C.jsx)(k,{component:"thead",children:Object(C.jsx)(Gr.a,{children:j})}),Object(C.jsx)(Fr.a,{children:s?Object(C.jsx)(Gr.a,{children:Object(C.jsx)(k,{component:"td",p:2,colSpan:t.length,textAlign:"center",children:"Cargando..."})}):p})]})})),[t,n,s,h])}qr.defaultProps={columns:[],rows:[{}]};var Ur=qr,Xr=Object(v.a)((e=>{let{borders:t}=e;const{borderWidth:n,borderColor:o}=t;return{tables_table:{"& .MuiTableRow-root:not(:last-child)":{"& td":{borderBottom:"".concat(n[1]," solid ").concat(o)}}}}})),Zr=n.p+"static/media/pets.f2b6c2f4.svg";var Yr=function(){const e=Xr(),t=gr(),[n,a]=Object(o.useState)(!1),[r,i]=Object(o.useState)(0),[c,s]=Object(o.useState)(null),[l,d]=Object(o.useState)(!0),[u,b]=Object(o.useState)(!1),[m,j]=Object(o.useState)(null),[h,p]=Object(o.useState)(null),[x,g]=Object(o.useState)(!1),[f,O]=Object(o.useState)(null);Object(o.useEffect)((()=>{let e=!0;return d(!0),te.list("mascotas/with-dueno").then((t=>{e&&(Array.isArray(t)?s(t.length):s(0))})).catch((t=>{console.warn("Error fetching mascotas count:",t),e&&s(0)})).finally((()=>{e&&d(!1)})),()=>{e=!1}}),[r]);const v=Object(o.useCallback)((e=>{(e.especie||"").toLowerCase();let t=Zr;const n=e.dueno&&(e.dueno.nombre||e.dueno.name)||e.dueno_nombre||e.duenoName||e.owner&&(e.owner.nombre||e.owner.name)||"string"===typeof e.dueno&&e.dueno||"-",o=n&&String(n).trim().length>0?String(n).trim()[0].toUpperCase():"?";return{Nombre:[t,e.nombre||"-"],Dueno:[Object(C.jsx)(hr,{size:"sm",variant:"rounded",children:o}),n],Raza:Object(C.jsxs)(k,{display:"flex",flexDirection:"column",children:[Object(C.jsx)(A,{variant:"button",fontWeight:"medium",textColor:"dark",sx:{fontSize:"0.95rem"},children:e.especie||"-"}),Object(C.jsx)(A,{variant:"caption",textColor:"text",sx:{fontSize:"0.85rem"},children:e.raza||""})]}),Edad:null!=e.edad?String(e.edad):"",action:Object(C.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"center",alignItems:"center"},children:[Object(C.jsx)(re.a,{size:"small",onClick:()=>async function(e){try{const t=await te.retrieve("mascotas",e);z(e),M(t),S(!0)}catch(t){console.error("Error cargando mascota:",t)}}(e.idMascota||e.id),children:Object(C.jsx)($a.a,{fontSize:"small"})}),Object(C.jsx)(re.a,{size:"small",onClick:()=>function(e){j(e),p(null),b(!0)}(e),style:{marginLeft:8},children:Object(C.jsx)(er.a,{fontSize:"small"})}),Object(C.jsx)(re.a,{size:"small",onClick:()=>(O(e),void g(!0)),title:"Ver Historial",style:{marginLeft:8},children:Object(C.jsx)(nr.a,{fontSize:"small"})})]})}}),[r,history]),[y,S]=Object(o.useState)(!1),[w,z]=Object(o.useState)(null),[I,M]=Object(o.useState)(null);return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsxs)(k,{py:3,children:[Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:[Object(C.jsx)(A,{variant:"h6",children:"Mascotas"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>a(!0),children:"Agregar"})]}),Object(C.jsx)(k,{customClass:e.tables_table,p:2,children:l?Object(C.jsx)(k,{display:"flex",alignItems:"center",justifyContent:"center",py:4,children:Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"Cargando..."})}):0===c?Object(C.jsxs)(k,{textAlign:"center",py:6,children:[Object(C.jsx)(A,{variant:"h6",sx:{mb:1},children:"A\xfan no tienes mascotas registradas"}),Object(C.jsx)(A,{variant:"body2",textColor:"text",sx:{mb:2},children:"Registra a tu primera mascota usando el bot\xf3n Agregar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>a(!0),children:"Agregar mascota"})]}):Object(C.jsx)(Ur,{columns:[{name:"Nombre",align:"left"},{name:"Dueno",align:"left"},{name:"Raza",align:"left"},{name:"Edad",align:"center"},{name:"action",align:"center"}],apiResource:"mascotas/with-dueno",rowMapper:v})})]})}),Object(C.jsx)(Xa,{open:n,onClose:()=>a(!1),onSave:async function(e){const n="Otro"===e.especieSel?e.especieOtro:e.especieSel;if(!e.nombre||!n)throw new Error("Nombre y especie son obligatorios");let o=null;if(e.dueno&&(o="object"===typeof e.dueno?e.dueno.id||e.dueno.idDueno||e.dueno.pk||e.dueno.dueno||null:Number(e.dueno)),!o)try{const e=t&&t.user?t.user:null;if(e){const t=e.idDueno||e.id||e.user||e.pk||null;t&&(o=t)}}catch(c){}if(!o)throw new Error("Debes seleccionar un due\xf1o");const a={nombre:e.nombre,especie:n,raza:e.raza||null,edad:""!==e.edad&&null!=e.edad?Number(e.edad):null,dueno:Number(o)},r=await te.create("mascotas",a);return i((e=>e+1)),r}}),Object(C.jsx)(Ya,{open:y,onClose:()=>S(!1),onSave:async function(e){const n="Otro"===e.especieSel?e.especieOtro:e.especieSel;if(!e.nombre||!n)throw new Error("Nombre y especie son obligatorios");const o={nombre:e.nombre,especie:n,raza:e.raza||null,edad:""!==e.edad&&null!=e.edad?Number(e.edad):null};try{const e=t&&t.user?t.user:null;if(e){const t=e.idDueno||e.id||e.user||e.pk||null;t&&(o.dueno=t)}}catch(r){}const a=await te.update("mascotas",w,o);return i((e=>e+1)),a},initialData:I}),Object(C.jsx)(Ja,{open:u,onClose:()=>{b(!1),j(null),p(null)},onConfirm:async function(){if(!m)return;const e=m.idMascota||m.id;try{await te.remove("mascotas",e),b(!1),j(null),i((e=>e+1))}catch(t){console.error("Error eliminando mascota:",t);let e="No fue posible eliminar la mascota.";t&&t.body&&(t.body.message?e=t.body.message:"string"===typeof t.body?e=t.body:t.body._raw&&(e=t.body._raw)),p(e||"La mascota est\xe1 ligada a una o m\xe1s citas y no puede eliminarse.")}},item:m,errorMessage:h}),Object(C.jsx)(dr,{open:x,onClose:()=>g(!1),mascota:f})]}),Object(C.jsx)(Dr,{})]})};function Jr(e){var t,n;let{open:a,onClose:r,onSave:i,initialData:c,id:s}=e;const l="1.05rem",{register:d,handleSubmit:u,reset:b,formState:{errors:m}}=Object(Aa.b)({defaultValues:{email:"",password:"",telefono:"",nombre:""}}),[j,h]=Object(o.useState)("");Object(o.useEffect)((()=>{if(!a)return;let e=!0;return async function(){var t,n;if(c)b({email:c.email||(null===(t=c.user)||void 0===t?void 0:t.email)||"",password:"",telefono:c.telefono||"",nombre:c.nombre||(null===(n=c.user)||void 0===n?void 0:n.nombre)||""});else if(s)try{var o,a;const t=await te.retrieve("veterinarios",s);if(!e)return;b({email:t.email||(null===(o=t.user)||void 0===o?void 0:o.email)||"",password:"",telefono:t.telefono||"",nombre:t.nombre||(null===(a=t.user)||void 0===a?void 0:a.nombre)||""})}catch(r){console.error("Error fetching veterinario in create modal:",r),e&&b({email:"",password:"",telefono:"",nombre:""})}else b({email:"",password:"",telefono:"",nombre:""})}(),()=>{e=!1}}),[c,s,a,b]);const p={"& .MuiInputLabel-root":{fontSize:"1.25rem",fontWeight:400},"& .MuiFormHelperText-root":{fontSize:"1.2rem"},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:l,padding:"12px 12px"}};return Object(C.jsxs)(Na.a,{open:a,onClose:r,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{borderRadius:3,p:0}},children:[Object(C.jsx)(Pa.a,{sx:{fontWeight:600,textAlign:"center",pb:1,fontSize:"1.25rem"},children:"Registrar Veterinario"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:u((async e=>{h("");try{await(null===i||void 0===i?void 0:i(e)),b(),null===r||void 0===r||r()}catch(t){h((null===t||void 0===t?void 0:t.message)||"Error al guardar")}})),children:[Object(C.jsx)(Ha.a,{sx:{pt:2},children:Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Email",fullWidth:!0,size:"small",type:"email"},d("email",{required:"El email es obligatorio",maxLength:{value:300,message:"M\xe1ximo 255 caracteres"}})),{},{error:!!m.email,helperText:null===(t=m.email)||void 0===t?void 0:t.message,sx:p,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Password",fullWidth:!0,size:"small",type:"password"},d("password",{required:"La contrase\xf1a es obligatoria"})),{},{error:!!m.password,helperText:null===(n=m.password)||void 0===n?void 0:n.message,sx:p,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Tel\xe9fono",fullWidth:!0,size:"small"},d("telefono",{maxLength:{value:50,message:"M\xe1ximo 50 caracteres"}})),{},{sx:p,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Nombre",fullWidth:!0,size:"small"},d("nombre",{maxLength:{value:255,message:"M\xe1ximo 255 caracteres"}})),{},{sx:p,InputLabelProps:{shrink:!0}}))}),j&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{color:"error",fontSize:"0.88rem",children:j})})]})}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(Va.a,{sx:{p:2,justifyContent:"flex-end",gap:1},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:r,sx:{fontSize:l,textTransform:"none",px:3,minWidth:120,height:44},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",sx:{fontSize:l,textTransform:"none",px:3,minWidth:120,height:44},children:"Guardar"})]})]})]})}function Kr(e){var t;let{open:n,onClose:a,onSave:r,initialData:i,id:c}=e;const s="1.05rem",{register:l,handleSubmit:d,reset:u,formState:{errors:b}}=Object(Aa.b)({defaultValues:{email:"",password:"",telefono:"",nombre:""}}),[m,j]=Object(o.useState)("");Object(o.useEffect)((()=>{if(!n)return;let e=!0;return async function(){var t,n,o,a,r;if(i)u({email:i.email||(null===(t=i.user)||void 0===t?void 0:t.email)||"",password:"",telefono:i.telefono||i.phone||i.telefono_movil||(null===(n=i.user)||void 0===n?void 0:n.telefono)||(null===(o=i.user)||void 0===o?void 0:o.phone)||(null===(a=i.user)||void 0===a?void 0:a.telefono_movil)||"",nombre:i.nombre||(null===(r=i.user)||void 0===r?void 0:r.nombre)||""});else if(c)try{var s,l,d,b,m;const t=await te.retrieve("veterinarios",c);if(console.debug("Fetched veterinario:",t),!e)return;const n=t.telefono||t.phone||t.telefono_movil||(null===(s=t.user)||void 0===s?void 0:s.telefono)||(null===(l=t.user)||void 0===l?void 0:l.phone)||(null===(d=t.user)||void 0===d?void 0:d.telefono_movil)||"";u({email:t.email||(null===(b=t.user)||void 0===b?void 0:b.email)||"",password:"",telefono:n,nombre:t.nombre||(null===(m=t.user)||void 0===m?void 0:m.nombre)||""})}catch(j){console.error("Error fetching veterinario in modal:",j),e&&u({email:"",password:"",telefono:"",nombre:""})}else u({email:"",password:"",telefono:"",nombre:""})}(),()=>{e=!1}}),[i,c,n,u]);const h={"& .MuiInputLabel-root":{fontSize:"1.25rem",fontWeight:400},"& .MuiFormHelperText-root":{fontSize:"1.2rem"},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:s,padding:"12px 12px"}};return Object(C.jsxs)(Na.a,{open:n,onClose:a,fullWidth:!0,maxWidth:"md",PaperProps:{sx:{borderRadius:3,p:0}},children:[Object(C.jsx)(Pa.a,{sx:{fontWeight:600,textAlign:"center",pb:1,fontSize:"1.25rem"},children:"Editar Veterinario"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:d((async e=>{j("");try{await(null===r||void 0===r?void 0:r(e)),null===a||void 0===a||a()}catch(t){j((null===t||void 0===t?void 0:t.message)||"Error al actualizar")}})),children:[Object(C.jsx)(Ha.a,{sx:{pt:2},children:Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Email",fullWidth:!0,size:"small",type:"email"},l("email",{required:"El email es obligatorio",maxLength:{value:255,message:"M\xe1ximo 255 caracteres"}})),{},{error:!!b.email,helperText:null===(t=b.email)||void 0===t?void 0:t.message,sx:h,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Password (dejar vac\xedo para no cambiar)",fullWidth:!0,size:"small",type:"password"},l("password")),{},{sx:h,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Tel\xe9fono",fullWidth:!0,size:"small"},l("telefono",{maxLength:{value:50,message:"M\xe1ximo 50 caracteres"}})),{},{sx:h,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Nombre",fullWidth:!0,size:"small"},l("nombre",{maxLength:{value:255,message:"M\xe1ximo 255 caracteres"}})),{},{sx:h,InputLabelProps:{shrink:!0}}))}),m&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{color:"error",fontSize:"0.88rem",children:m})})]})}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(Va.a,{sx:{p:2,justifyContent:"flex-end",gap:1},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:a,sx:{fontSize:s,textTransform:"none",px:3,minWidth:120,height:44},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",sx:{fontSize:s,textTransform:"none",px:3,minWidth:120,height:44},children:"Guardar"})]})]})]})}function $r(e){var t;let{open:n,onClose:o,onConfirm:a,item:r}=e;const i=(null===r||void 0===r?void 0:r.nombre)||(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.nombre)||(null===r||void 0===r?void 0:r.email)||"este veterinario";return Object(C.jsxs)(Na.a,{open:n,onClose:o,fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{children:"Confirmar eliminaci\xf3n"}),Object(C.jsx)(M.a,{}),Object(C.jsx)(Ha.a,{children:Object(C.jsxs)(E.a,{variant:"body1",sx:{mt:1},children:["\xbfEst\xe1s seguro que deseas eliminar a ",Object(C.jsx)("strong",{children:i}),"? Esta acci\xf3n no se puede deshacer."]})}),Object(C.jsxs)(Va.a,{sx:{p:2},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:o,sx:{minWidth:100},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"error",onClick:()=>a&&a(r),sx:{minWidth:100},children:"Eliminar"})]})]})}var Qr=n.p+"static/media/user.e3a7fca9.svg";var ei=function(){const e=Xr(),[t,n]=(gr(),Object(o.useState)(!1)),[a,r]=Object(o.useState)(0),[i,c]=Object(o.useState)(null),[s,l]=Object(o.useState)(!0),[d,u]=Object(o.useState)(!1),[b,m]=Object(o.useState)(null);Object(o.useEffect)((()=>{let e=!0;return l(!0),te.list("veterinarios").then((t=>{console.debug("[Veterinarios] list \u2192",t),e&&(Array.isArray(t)?c(t.length):c(0))})).catch((t=>{console.warn("Error fetching veterinarios count:",t),e&&c(0)})).finally((()=>{e&&l(!1)})),()=>{e=!1}}),[a]);const j=Object(o.useCallback)((e=>{const t=e.nombre||e.user&&(e.user.nombre||e.user.email||"")||"-",n=t&&String(t).trim().length>0?String(t).trim()[0].toUpperCase():"?",o=e.id||e.idVeterinario||e.idDueno||e.id||"";return{ID:o,Nombre:[Object(C.jsx)(hr,{size:"sm",variant:"rounded",children:n}),t],Email:e.email||e.user&&e.user.email||"","Tel\xe9fono":e.telefono||e.user&&e.user.telefono||"",action:Object(C.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[Object(C.jsx)(re.a,{size:"small",onClick:()=>async function(e){try{const t=await te.retrieve("veterinarios",e);f(e),v(t),x(!0)}catch(t){console.error("Error cargando veterinario:",t)}}(o),children:Object(C.jsx)($a.a,{fontSize:"small"})}),Object(C.jsx)(re.a,{size:"small",color:"error",onClick:()=>(m(e),void u(!0)),children:Object(C.jsx)(er.a,{fontSize:"small"})})]})}}),[a]);function h(){m(null),u(!1)}const[p,x]=Object(o.useState)(!1),[g,f]=Object(o.useState)(null),[O,v]=Object(o.useState)(null);return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsxs)(k,{py:3,children:[Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:[Object(C.jsx)(A,{variant:"h6",children:"Veterinarios"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>n(!0),children:"Agregar"})]}),Object(C.jsx)(k,{customClass:e.tables_table,p:2,children:s?Object(C.jsx)(k,{display:"flex",alignItems:"center",justifyContent:"center",py:4,children:Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"Cargando..."})}):0===i?Object(C.jsxs)(k,{textAlign:"center",py:6,children:[Object(C.jsx)(A,{variant:"h6",sx:{mb:1},children:"No hay veterinarios registrados"}),Object(C.jsx)(A,{variant:"body2",textColor:"text",sx:{mb:2},children:"Registra al primer veterinario usando el bot\xf3n Agregar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>n(!0),children:"Agregar veterinario"})]}):Object(C.jsx)(Ur,{columns:[{name:"ID",align:"left"},{name:"Nombre",align:"left"},{name:"Email",align:"left"},{name:"Tel\xe9fono",align:"center"},{name:"action",align:"center"}],apiResource:"veterinarios",rowMapper:j})})]})}),Object(C.jsx)(Jr,{open:t,onClose:()=>n(!1),onSave:async function(e){if(!e.email)throw new Error("El email es obligatorio");if(!e.password)throw new Error("La contrase\xf1a es obligatoria");const t={email:e.email,password:e.password,telefono:e.telefono||null,nombre:e.nombre||null};console.log("POST /api/clinic/veterinarios payload:",t);const n=await te.create("veterinarios",t);return r((e=>e+1)),n}}),Object(C.jsx)(Kr,{open:p,onClose:()=>x(!1),onSave:async function(e){if(!e.email)throw new Error("El email es obligatorio");const t={email:e.email,telefono:e.telefono||null,nombre:e.nombre||null};e.password&&(t.password=e.password),console.log("PUT /api/clinic/veterinarios/".concat(g," payload:"),t);const n=await te.update("veterinarios",g,t);return r((e=>e+1)),n},id:g}),Object(C.jsx)($r,{open:d,onClose:h,onConfirm:async function(){if(!b)return;const e=b.id||b.idVeterinario||b.idDueno||b;await async function(e){try{await te.remove("veterinarios",e),r((e=>e+1))}catch(n){var t;console.error("Error eliminando veterinario:",n),alert("Error al eliminar: "+((null===n||void 0===n||null===(t=n.body)||void 0===t?void 0:t._raw)||JSON.stringify(n)))}}(e),h()},item:b})]}),Object(C.jsx)(Dr,{})]})},ti=n(140),ni=n.n(ti);var oi=function(){const e=Xr(),{id:t}=Object(s.i)(),n=t,[a,r]=Object(o.useState)(!0),[i,c]=Object(o.useState)(null),[l,d]=Object(o.useState)([]);Object(o.useEffect)((()=>{let e=!0;return r(!0),async function(){try{const t=await te.retrieve("mascotas",n);if(!e)return;c(t)}catch(t){console.error("Error loading mascota:",t)}try{const t=await te.request("/api/clinic/consultas/historial");if(!e)return;const o=(Array.isArray(t)?t:t&&t.results||[]).filter((e=>{const t=e.mascota&&(e.mascota.idMascota||e.mascota.id||e.mascota.id_mascota);return String(t)===String(n)}));d(o)}catch(t){console.error("Error loading historial:",t),e&&d([])}finally{e&&r(!1)}}(),()=>{e=!1}}),[n]);const u=Object(o.useCallback)((e=>({Fecha:e.fecha||"",Hora:e.hora||"",Motivo:e.motivo||e.descripcion||"",Veterinario:e.veterinario||e.user&&e.user.email||"",action:Object(C.jsx)("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:Object(C.jsx)(re.a,{size:"small",children:Object(C.jsx)(ni.a,{fontSize:"small"})})})})),[]),b=i?"".concat(i.nombre||"Mascota"," - ").concat(i.especie||""):"Historial veterinario";return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsx)(k,{py:3,children:Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsx)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:Object(C.jsx)(A,{variant:"h6",children:b})}),Object(C.jsx)(k,{customClass:e.tables_table,p:2,children:a?Object(C.jsx)(k,{display:"flex",alignItems:"center",justifyContent:"center",py:4,children:Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"Cargando..."})}):0===l.length?Object(C.jsx)(k,{textAlign:"center",py:6,children:Object(C.jsx)(A,{variant:"h6",sx:{mb:1},children:"No hay entradas en el historial"})}):Object(C.jsx)(Ur,{columns:[{name:"Fecha",align:"left"},{name:"Hora",align:"left"},{name:"Motivo",align:"left"},{name:"Veterinario",align:"left"},{name:"action",align:"center"}],rows:l.map((e=>u(e)))})})]})})}),Object(C.jsx)(Dr,{})]})};function ai(e){var t,n;let{open:a,onClose:r,onSave:i,initialData:c,id:s}=e;const l="1.05rem",{register:d,handleSubmit:u,reset:b,formState:{errors:m}}=Object(Aa.b)({defaultValues:{email:"",password:"",telefono:"",nombre:""}}),[j,h]=Object(o.useState)("");Object(o.useEffect)((()=>{if(!a)return;let e=!0;return async function(){var t,n,o,a,r;if(c)b({email:c.email||(null===(t=c.user)||void 0===t?void 0:t.email)||"",password:"",telefono:c.telefono||c.phone||c.telefono_movil||(null===(n=c.user)||void 0===n?void 0:n.telefono)||(null===(o=c.user)||void 0===o?void 0:o.phone)||(null===(a=c.user)||void 0===a?void 0:a.telefono_movil)||"",nombre:c.nombre||(null===(r=c.user)||void 0===r?void 0:r.nombre)||""});else if(s)try{var i,l,d,u,m;const t=await te.retrieve("recepcionistas",s);if(console.debug("Fetched recepcionista:",t),!e)return;const n=t.telefono||t.phone||t.telefono_movil||(null===(i=t.user)||void 0===i?void 0:i.telefono)||(null===(l=t.user)||void 0===l?void 0:l.phone)||(null===(d=t.user)||void 0===d?void 0:d.telefono_movil)||"";b({email:t.email||(null===(u=t.user)||void 0===u?void 0:u.email)||"",password:"",telefono:n,nombre:t.nombre||(null===(m=t.user)||void 0===m?void 0:m.nombre)||""})}catch(j){console.error("Error fetching recepcionista in modal:",j),e&&b({email:"",password:"",telefono:"",nombre:""})}else b({email:"",password:"",telefono:"",nombre:""})}(),()=>{e=!1}}),[c,s,a,b]);const p={"& .MuiInputLabel-root":{fontSize:"1.25rem",fontWeight:400},"& .MuiFormHelperText-root":{fontSize:"1.2rem"},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:l,padding:"12px 12px"}};return Object(C.jsxs)(Na.a,{open:a,onClose:r,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{borderRadius:3,p:0}},children:[Object(C.jsx)(Pa.a,{sx:{fontWeight:600,textAlign:"center",pb:1,fontSize:"1.25rem"},children:"Registrar Recepcionista"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:u((async e=>{h("");try{await(null===i||void 0===i?void 0:i(e)),null===r||void 0===r||r()}catch(t){h((null===t||void 0===t?void 0:t.message)||"Error al guardar")}})),children:[Object(C.jsx)(Ha.a,{sx:{pt:2},children:Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Email",fullWidth:!0,size:"small",type:"email"},d("email",{required:"El email es obligatorio",maxLength:{value:255,message:"M\xe1ximo 255 caracteres"}})),{},{error:!!m.email,helperText:null===(t=m.email)||void 0===t?void 0:t.message,sx:p,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Password",fullWidth:!0,size:"small",type:"password"},d("password",{required:"La contrase\xf1a es obligatoria"})),{},{error:!!m.password,helperText:null===(n=m.password)||void 0===n?void 0:n.message,sx:p,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Tel\xe9fono",fullWidth:!0,size:"small"},d("telefono",{maxLength:{value:50,message:"M\xe1ximo 50 caracteres"}})),{},{sx:p,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Nombre",fullWidth:!0,size:"small"},d("nombre",{maxLength:{value:255,message:"M\xe1ximo 255 caracteres"}})),{},{sx:p,InputLabelProps:{shrink:!0}}))}),j&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{color:"error",fontSize:"0.88rem",children:j})})]})}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(Va.a,{sx:{p:2,justifyContent:"flex-end",gap:1},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:r,sx:{fontSize:l,textTransform:"none",px:3,minWidth:120,height:44},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",sx:{fontSize:l,textTransform:"none",px:3,minWidth:120,height:44},children:"Guardar"})]})]})]})}function ri(e){var t;let{open:n,onClose:a,onSave:r,initialData:i,id:c}=e;const s="1.05rem",{register:l,handleSubmit:d,reset:u,formState:{errors:b}}=Object(Aa.b)({defaultValues:{email:"",password:"",telefono:"",nombre:""}}),[m,j]=Object(o.useState)("");Object(o.useEffect)((()=>{if(!n)return;let e=!0;return async function(){var t,n,o,a,r;if(i)u({email:i.email||(null===(t=i.user)||void 0===t?void 0:t.email)||"",password:"",telefono:i.telefono||i.phone||i.telefono_movil||(null===(n=i.user)||void 0===n?void 0:n.telefono)||(null===(o=i.user)||void 0===o?void 0:o.phone)||(null===(a=i.user)||void 0===a?void 0:a.telefono_movil)||"",nombre:i.nombre||(null===(r=i.user)||void 0===r?void 0:r.nombre)||""});else if(c)try{var s,l,d,b,m;const t=await te.retrieve("recepcionistas",c);if(console.debug("Fetched recepcionista:",t),!e)return;const n=t.telefono||t.phone||t.telefono_movil||(null===(s=t.user)||void 0===s?void 0:s.telefono)||(null===(l=t.user)||void 0===l?void 0:l.phone)||(null===(d=t.user)||void 0===d?void 0:d.telefono_movil)||"";u({email:t.email||(null===(b=t.user)||void 0===b?void 0:b.email)||"",password:"",telefono:n,nombre:t.nombre||(null===(m=t.user)||void 0===m?void 0:m.nombre)||""})}catch(j){console.error("Error fetching recepcionista in modal:",j),e&&u({email:"",password:"",telefono:"",nombre:""})}else u({email:"",password:"",telefono:"",nombre:""})}(),()=>{e=!1}}),[i,c,n,u]);const h={"& .MuiInputLabel-root":{fontSize:"1.25rem",fontWeight:400},"& .MuiFormHelperText-root":{fontSize:"1.2rem"},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:s,padding:"12px 12px"}};return Object(C.jsxs)(Na.a,{open:n,onClose:a,fullWidth:!0,maxWidth:"md",PaperProps:{sx:{borderRadius:3,p:0}},children:[Object(C.jsx)(Pa.a,{sx:{fontWeight:600,textAlign:"center",pb:1,fontSize:"1.25rem"},children:"Editar Recepcionista"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:d((async e=>{j("");try{await(null===r||void 0===r?void 0:r(e)),null===a||void 0===a||a()}catch(t){j((null===t||void 0===t?void 0:t.message)||"Error al actualizar")}})),children:[Object(C.jsx)(Ha.a,{sx:{pt:2},children:Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Email",fullWidth:!0,size:"small",type:"email"},l("email",{required:"El email es obligatorio",maxLength:{value:255,message:"M\xe1ximo 255 caracteres"}})),{},{error:!!b.email,helperText:null===(t=b.email)||void 0===t?void 0:t.message,sx:h,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Password (dejar vac\xedo para no cambiar)",fullWidth:!0,size:"small",type:"password"},l("password")),{},{sx:h,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Tel\xe9fono",fullWidth:!0,size:"small"},l("telefono",{maxLength:{value:50,message:"M\xe1ximo 50 caracteres"}})),{},{sx:h,InputLabelProps:{shrink:!0}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Nombre",fullWidth:!0,size:"small"},l("nombre",{maxLength:{value:255,message:"M\xe1ximo 255 caracteres"}})),{},{sx:h,InputLabelProps:{shrink:!0}}))}),m&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{color:"error",fontSize:"0.88rem",children:m})})]})}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(Va.a,{sx:{p:2,justifyContent:"flex-end",gap:1},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:a,sx:{fontSize:s,textTransform:"none",px:3,minWidth:120,height:44},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",sx:{fontSize:s,textTransform:"none",px:3,minWidth:120,height:44},children:"Guardar"})]})]})]})}function ii(e){var t;let{open:n,onClose:o,onConfirm:a,item:r}=e;const i=(null===r||void 0===r?void 0:r.nombre)||(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.nombre)||(null===r||void 0===r?void 0:r.email)||"esta recepcionista";return Object(C.jsxs)(Na.a,{open:n,onClose:o,fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{children:"Confirmar eliminaci\xf3n"}),Object(C.jsx)(M.a,{}),Object(C.jsx)(Ha.a,{children:Object(C.jsxs)(E.a,{variant:"body1",sx:{mt:1},children:["\xbfEst\xe1s seguro que deseas eliminar a ",Object(C.jsx)("strong",{children:i}),"? Esta acci\xf3n no se puede deshacer."]})}),Object(C.jsxs)(Va.a,{sx:{p:2},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:o,sx:{minWidth:100},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"error",onClick:()=>a&&a(r),sx:{minWidth:100},children:"Eliminar"})]})]})}n.p;var ci=function(){const e=Xr(),[t,n]=(gr(),Object(o.useState)(!1)),[a,r]=Object(o.useState)(0),[i,c]=Object(o.useState)(null),[s,l]=Object(o.useState)(!0),[d,u]=Object(o.useState)(!1),[b,m]=Object(o.useState)(null);Object(o.useEffect)((()=>{let e=!0;return l(!0),te.list("recepcionistas").then((t=>{console.debug("[Recepcionistas] list \u2192",t),e&&(Array.isArray(t)?c(t.length):c(0))})).catch((t=>{console.warn("Error fetching recepcionistas count:",t),e&&c(0)})).finally((()=>{e&&l(!1)})),()=>{e=!1}}),[a]);const j=Object(o.useCallback)((e=>{const t=e.nombre||e.user&&(e.user.nombre||e.user.email||"")||"-",n=t&&String(t).trim().length>0?String(t).trim()[0].toUpperCase():"?",o=e.id||e.idRecepcionista||e.idDueno||e.id||"";return{ID:o,Nombre:[Object(C.jsx)(hr,{size:"sm",variant:"rounded",children:n}),t],Email:e.email||e.user&&e.user.email||"","Tel\xe9fono":e.telefono||e.user&&e.user.telefono||"",action:Object(C.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[Object(C.jsx)(re.a,{size:"small",onClick:()=>async function(e){try{const t=await te.retrieve("recepcionistas",e);f(e),v(t),x(!0)}catch(t){console.error("Error cargando recepcionista:",t)}}(o),children:Object(C.jsx)($a.a,{fontSize:"small"})}),Object(C.jsx)(re.a,{size:"small",color:"error",onClick:()=>(m(e),void u(!0)),children:Object(C.jsx)(er.a,{fontSize:"small"})})]})}}),[a]);function h(){m(null),u(!1)}const[p,x]=Object(o.useState)(!1),[g,f]=Object(o.useState)(null),[O,v]=Object(o.useState)(null);return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsxs)(k,{py:3,children:[Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:[Object(C.jsx)(A,{variant:"h6",children:"Recepcionistas"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>n(!0),children:"Agregar"})]}),Object(C.jsx)(k,{customClass:e.tables_table,p:2,children:s?Object(C.jsx)(k,{display:"flex",alignItems:"center",justifyContent:"center",py:4,children:Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"Cargando..."})}):0===i?Object(C.jsxs)(k,{textAlign:"center",py:6,children:[Object(C.jsx)(A,{variant:"h6",sx:{mb:1},children:"No hay recepcionistas registrados"}),Object(C.jsx)(A,{variant:"body2",textColor:"text",sx:{mb:2},children:"Registra al primer recepcionista usando el bot\xf3n Agregar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>n(!0),children:"Agregar recepcionista"})]}):Object(C.jsx)(Ur,{columns:[{name:"ID",align:"left"},{name:"Nombre",align:"left"},{name:"Email",align:"left"},{name:"Tel\xe9fono",align:"center"},{name:"action",align:"center"}],apiResource:"recepcionistas",rowMapper:j})})]})}),Object(C.jsx)(ai,{open:t,onClose:()=>n(!1),onSave:async function(e){if(!e.email)throw new Error("El email es obligatorio");if(!e.password)throw new Error("La contrase\xf1a es obligatoria");const t={email:e.email,password:e.password,telefono:e.telefono||null,nombre:e.nombre||null};console.log("POST /api/clinic/recepcionistas payload:",t);const n=await te.create("recepcionistas",t);return r((e=>e+1)),n}}),Object(C.jsx)(ri,{open:p,onClose:()=>x(!1),onSave:async function(e){if(!e.email)throw new Error("El email es obligatorio");const t={email:e.email,telefono:e.telefono||null,nombre:e.nombre||null};e.password&&(t.password=e.password),console.log("PUT /api/clinic/recepcionistas/".concat(g," payload:"),t);const n=await te.update("recepcionistas",g,t);return r((e=>e+1)),n},id:g}),Object(C.jsx)(ii,{open:d,onClose:h,onConfirm:async function(){if(!b)return;const e=b.id||b.idRecepcionista||b.idDueno||b;await async function(e){try{await te.remove("recepcionistas",e),r((e=>e+1))}catch(n){var t;console.error("Error eliminando recepcionista:",n),alert("Error al eliminar: "+((null===n||void 0===n||null===(t=n.body)||void 0===t?void 0:t._raw)||JSON.stringify(n)))}}(e),h()},item:b})]}),Object(C.jsx)(Dr,{})]})};function si(e){var t,n,a,r,i;let{open:c,onClose:s,consultaId:l}=e;const[d,u]=Object(o.useState)(!1),[b,m]=Object(o.useState)(null),[j,h]=Object(o.useState)(null),[p,x]=Object(o.useState)(null),[g,f]=Object(o.useState)(null);function v(e){if(!e)return"";try{const t=new Date(e).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return t.charAt(0).toUpperCase()+t.slice(1)}catch(t){return e}}return Object(o.useEffect)((()=>{if(!c)return;let e=!0;return async function(){if(u(!0),h(null),m(null),!l)return h("ID de consulta no proporcionado"),void u(!1);try{const t=await te.request("/api/clinic/consultas/".concat(l),{method:"GET"});if(!e)return;m(t)}catch(t){if(!e)return;h((null===t||void 0===t?void 0:t.message)||"Error cargando consulta")}finally{e&&u(!1)}}(),()=>e=!1}),[c,l]),Object(o.useEffect)((()=>{let e=!0;return async function(){if(x(null),f(null),b){try{if("number"===typeof b.veterinario){const t=await te.retrieve("veterinarios",b.veterinario);e&&x(t)}else x(b.veterinario)}catch(t){}try{if("number"===typeof b.dueno){const t=await te.retrieve("duenos",b.dueno);e&&f(t)}else f(b.dueno)}catch(n){}}}(),()=>e=!1}),[b]),Object(C.jsxs)(Na.a,{open:c,onClose:s,fullWidth:!0,maxWidth:"lg",children:[Object(C.jsx)(Pa.a,{children:Object(C.jsxs)(k,{display:"flex",alignItems:"center",gap:2,children:[Object(C.jsx)(hr,{src:Zr,size:"lg",variant:"rounded"}),Object(C.jsxs)(O.a,{display:"flex",flexDirection:"column",children:[Object(C.jsx)(A,{variant:"h4",fontWeight:800,children:(null===b||void 0===b?void 0:b.fecha)?"Consulta del ".concat(v(b.fecha)):"Consulta Veterinaria"}),Object(C.jsxs)(A,{variant:"body2",color:"text.secondary",children:["Hora: ",(null===b||void 0===b?void 0:b.hora)||"--"," \xb7 Mascota: ",(null===b||void 0===b||null===(t=b.mascota)||void 0===t?void 0:t.nombre)||"--"]}),p&&Object(C.jsxs)(A,{variant:"caption",color:"text.secondary",children:["Veterinario: ",null===p||void 0===p?void 0:p.nombre]})]})]})}),Object(C.jsx)(M.a,{}),Object(C.jsx)(Ha.a,{sx:{pt:0,pl:0,pr:4,pb:4},children:d?Object(C.jsx)(Da.a,{container:!0,justifyContent:"center",sx:{py:4},children:Object(C.jsx)(rr.a,{})}):j?Object(C.jsx)(E.a,{color:"error",children:j}):b?Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,md:4,sx:{pl:0,pt:0},children:[Object(C.jsx)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3},children:Object(C.jsxs)(O.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(C.jsx)(hr,{src:Zr,size:"xl",variant:"rounded"}),Object(C.jsx)(A,{variant:"h5",fontWeight:700,sx:{mt:2},children:(null===(n=b.mascota)||void 0===n?void 0:n.nombre)||"Mascota"}),Object(C.jsxs)(A,{variant:"body2",color:"text.secondary",children:[null===(a=b.mascota)||void 0===a?void 0:a.especie,(null===(r=b.mascota)||void 0===r?void 0:r.raza)?" \xb7 ".concat(b.mascota.raza):""]})]})}),Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3,mt:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:1},children:"Informaci\xf3n del due\xf1o"}),Object(C.jsxs)(A,{children:[Object(C.jsx)("strong",{children:"Nombre:"})," ",(null===g||void 0===g?void 0:g.nombre)||(null===(i=b.dueno)||void 0===i?void 0:i.nombre)||"--"]})]})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,md:8,sx:{pl:0,pt:0},children:[Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:2},children:"Detalles de la cita"}),Object(C.jsxs)(Da.a,{container:!0,spacing:2,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,sm:6,children:[Object(C.jsx)(E.a,{variant:"caption",children:"ID Consulta"}),Object(C.jsx)(E.a,{fontWeight:700,children:b.idConsulta||b.id||"-"})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,sm:6,children:[Object(C.jsx)(E.a,{variant:"caption",children:"Fecha"}),Object(C.jsx)(E.a,{fontWeight:700,children:v(b.fecha)})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,sm:6,children:[Object(C.jsx)(E.a,{variant:"caption",children:"Hora"}),Object(C.jsx)(E.a,{fontWeight:700,children:b.hora})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,sm:6,children:[Object(C.jsx)(E.a,{variant:"caption",children:"Veterinario"}),Object(C.jsx)(E.a,{fontWeight:700,children:(null===p||void 0===p?void 0:p.nombre)||"--"})]})]})]}),Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3,mt:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:1},children:"Motivo de la consulta"}),Object(C.jsx)(E.a,{children:b.motivo||"--"})]}),Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3,mt:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:1},children:"Descripci\xf3n / Observaciones"}),Object(C.jsx)(E.a,{children:b.descripcion||"--"})]}),Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3,mt:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:1},children:"S\xedntomas"}),Object(C.jsx)(E.a,{children:b.sintomas||"--"})]}),Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3,mt:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:1},children:"Diagn\xf3stico"}),Object(C.jsx)(E.a,{children:b.diagnostico||"--"})]}),Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3,mt:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:1},children:"Tratamiento"}),Object(C.jsx)(E.a,{children:b.tratamiento||"--"})]}),Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3,mt:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:1},children:"Notas"}),Object(C.jsx)(E.a,{children:b.notas||"--"})]}),Object(C.jsxs)(_a.a,{sx:{p:3,borderRadius:3,boxShadow:3,mt:3},children:[Object(C.jsx)(A,{variant:"h6",fontWeight:700,sx:{mb:1},children:"Asisti\xf3"}),Object(C.jsx)(E.a,{children:"boolean"===typeof b.asistio?b.asistio?"S\xed":"No":"--"})]})]})]}):Object(C.jsx)(E.a,{children:"No hay datos de consulta."})}),Object(C.jsx)(Va.a,{sx:{p:3},children:Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:s,children:"Cerrar"})})]})}function li(e){var t,n;let{consulta:o,onEdit:a,onDelete:r,noGutter:i}=e;const c=(null===o||void 0===o||null===(t=o.mascota)||void 0===t?void 0:t.nombre)||("string"===typeof(null===o||void 0===o?void 0:o.mascota)?o.mascota:"-"),s=(null===o||void 0===o?void 0:o.fecha)||"",l=(null===o||void 0===o?void 0:o.hora)||"",d=(null===o||void 0===o?void 0:o.motivo)||"-",u=(null===o||void 0===o?void 0:o.descripcion)||"",b=(null===o||void 0===o||null===(n=o.veterinario)||void 0===n?void 0:n.nombre)||("string"===typeof(null===o||void 0===o?void 0:o.veterinario)?o.veterinario:"-");const m=s?"Consulta para el ".concat(function(e){if(!e)return"";try{const t=new Date(e);if(Number.isNaN(t.getTime()))return e;const n={weekday:"long",day:"numeric",month:"long"};return t.toLocaleDateString("es-ES",n).replace(/,?\s*\d{4}/,"")}catch(t){return e}}(s)):"Consulta";return Object(C.jsx)(k,{component:"li",display:"flex",justifyContent:"space-between",alignItems:"flex-start",backgroundColor:"grey-100",borderRadius:"lg",p:3,mb:i?0:1,mt:2,children:Object(C.jsxs)(k,{width:"100%",display:"flex",flexDirection:"column",children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},mb:2,children:[Object(C.jsx)(A,{variant:"button",fontWeight:"medium",textTransform:"none",children:m}),Object(C.jsxs)(k,{display:"flex",alignItems:"center",mt:{xs:2,sm:0},ml:{xs:-1.5,sm:0},children:[Object(C.jsx)(k,{mr:1,children:Object(C.jsxs)(de,{variant:"text",buttonColor:"error",onClick:()=>r&&r(o),children:[Object(C.jsx)(W.a,{className:"material-icons-round",children:"delete"}),"\xa0eliminar"]})}),Object(C.jsxs)(de,{variant:"text",buttonColor:"dark",onClick:()=>a&&a(o),children:[Object(C.jsx)(W.a,{className:"material-icons-round",children:"edit"}),"\xa0editar"]})]})]}),l&&Object(C.jsx)(k,{mb:1,lineHeight:0,children:Object(C.jsxs)(A,{variant:"caption",textColor:"text",children:["Hora:\xa0\xa0\xa0",Object(C.jsx)(A,{variant:"caption",fontWeight:"medium",children:l})]})}),Object(C.jsx)(k,{mb:1,lineHeight:0,children:Object(C.jsxs)(A,{variant:"caption",textColor:"text",children:["Mascota:\xa0\xa0\xa0",Object(C.jsx)(A,{variant:"caption",fontWeight:"medium",textTransform:"capitalize",children:c})]})}),Object(C.jsx)(k,{mb:1,lineHeight:0,children:Object(C.jsxs)(A,{variant:"caption",textColor:"text",children:["Motivo:\xa0\xa0\xa0",Object(C.jsx)(A,{variant:"caption",fontWeight:"medium",children:d})]})}),Object(C.jsx)(k,{mb:1,lineHeight:0,children:Object(C.jsxs)(A,{variant:"caption",textColor:"text",children:["Descripci\xf3n:\xa0\xa0\xa0",Object(C.jsx)(A,{variant:"caption",fontWeight:"medium",children:u})]})}),Object(C.jsx)(k,{mb:1,lineHeight:0,children:Object(C.jsxs)(A,{variant:"caption",textColor:"text",children:["Veterinario:\xa0\xa0\xa0",Object(C.jsx)(A,{variant:"caption",fontWeight:"medium",children:b})]})})]})})}li.defaultProps={noGutter:!1};var di=n(310);var ui=function(e){let{title:t,description:n,info:o,action:a}=e;const r=[],i=[];Object.keys(o).forEach((e=>{if(e.match(/[A-Z\s]+/)){const t=Array.from(e).find((e=>e.match(/[A-Z]+/))),n=e.replace(t," ".concat(t.toLowerCase()));r.push(n)}else r.push(e)})),Object.values(o).forEach((e=>i.push(e)));const s=r.map(((e,t)=>Object(C.jsxs)(k,{display:"flex",py:1,pr:2,children:[Object(C.jsxs)(A,{variant:"button",fontWeight:"bold",textTransform:"capitalize",children:[e,": \xa0"]}),Object(C.jsxs)(A,{variant:"button",fontWeight:"regular",textColor:"text",children:["\xa0",i[t]]})]},e)));return Object(C.jsxs)(_a.a,{className:"h-100",children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",pt:2,px:2,children:[Object(C.jsx)(A,{variant:"h6",fontWeight:"medium",textTransform:"capitalize",children:t}),a&&a.onClick?Object(C.jsx)(A,{component:"button",onClick:a.onClick,variant:"body2",textColor:"secondary",style:{background:"none",border:"none",padding:0,cursor:"pointer"},children:Object(C.jsx)(di.a,{title:a.tooltip,placement:"top",children:Object(C.jsx)(W.a,{children:"edit"})})}):Object(C.jsx)(A,{component:c.b,to:a.route,variant:"body2",textColor:"secondary",children:Object(C.jsx)(di.a,{title:a.tooltip,placement:"top",children:Object(C.jsx)(W.a,{children:"edit"})})})]}),Object(C.jsxs)(k,{p:2,children:[Object(C.jsx)(k,{mb:2,lineHeight:1.25,children:Object(C.jsx)(A,{variant:"button",textColor:"text",fontWeight:"regular",children:n})}),Object(C.jsx)(k,{opacity:.3,children:Object(C.jsx)(M.a,{})}),Object(C.jsx)(k,{children:s})]})]})};function bi(e){var t,n,a,r;let{open:i,onClose:c,onSaved:s}=e;const{register:l,handleSubmit:d,reset:u,setValue:b,formState:{errors:m}}=Object(Aa.b)({defaultValues:{nombre:"",telefono:"",email:"",password:""}}),[j,h]=Object(o.useState)(!1),[p,g]=Object(o.useState)(""),[f,O]=Object(o.useState)(!1),[v,y]=Object(o.useState)(null),[S,w]=Object(o.useState)({name:null,data:null});Object(o.useEffect)((()=>{if(!i)return;let e=!0;return h(!0),g(""),w({name:null,data:null}),async function(){try{var t,n,o;const r=await te.request("/api/users/me",{method:"GET"});if(!e)return;y(r);const i=[{name:"dueno",path:"/api/clinic/duenos/me"},{name:"veterinario",path:"/api/clinic/veterinarios/me"},{name:"recepcionista",path:"/api/clinic/recepcionistas/me"}];let c=null;for(const t of i)try{console.debug("Trying role endpoint:",t.path);const n=await te.request(t.path,{method:"GET"});if(!e)return;if(n){c={name:t.name,data:n,path:t.path};break}}catch(a){}const s=(null===(t=c)||void 0===t?void 0:t.data)||r;u({nombre:s.nombre||s.name||r.nombre||r.name||"",telefono:s.telefono||s.phone||r.telefono||r.phone||"",email:r.email||(null===(n=r.user)||void 0===n?void 0:n.email)||s.email||(null===(o=s.user)||void 0===o?void 0:o.email)||"",password:""}),c&&w({name:c.name,data:c.data})}catch(r){console.error("Error loading perfil from /api/users/me or role endpoint:",r),e&&g("Error cargando datos del usuario")}finally{e&&h(!1)}}(),()=>{e=!1}}),[i,u]);return Object(C.jsxs)(Na.a,{open:i,onClose:c,fullWidth:!0,maxWidth:"sm",children:[Object(C.jsx)(Pa.a,{children:"Editar perfil"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:d((async e=>{g("");try{O(!0);const t={nombre:e.nombre||null,telefono:e.telefono||null};e.email&&(t.email=e.email),e.password&&(t.password=e.password);let n="/api/users/me";"dueno"===S.name?n="/api/clinic/duenos/me":"veterinario"===S.name?n="/api/clinic/veterinarios/me":"recepcionista"===S.name&&(n="/api/clinic/recepcionistas/me"),console.debug("Submitting profile update to:",n,"payload:",t),await te.request(n,{method:"PUT",body:t}),s&&s(),c&&c()}catch(t){console.error("Error saving perfil:",t),g((null===t||void 0===t?void 0:t.message)||"Error al guardar")}finally{O(!1)}})),children:[Object(C.jsx)(Ha.a,{children:j?Object(C.jsx)(Da.a,{container:!0,justifyContent:"center",alignItems:"center",style:{minHeight:120},children:Object(C.jsx)(rr.a,{})}):Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Nombre completo",fullWidth:!0},l("nombre",{maxLength:255})),{},{error:!!m.nombre,helperText:null===(t=m.nombre)||void 0===t?void 0:t.message,InputLabelProps:{shrink:!0},sx:{"& .MuiInputLabel-root":{fontSize:"1.05rem",fontWeight:400},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:16}}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Email",fullWidth:!0,type:"email"},l("email",{required:!1,maxLength:255})),{},{error:!!m.email,helperText:null===(n=m.email)||void 0===n?void 0:n.message,InputLabelProps:{shrink:!0},sx:{"& .MuiInputLabel-root":{fontSize:"1.05rem",fontWeight:400},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:16}}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Password (dejar vac\xedo para no cambiar)",fullWidth:!0,type:"password"},l("password",{minLength:{value:6,message:"M\xednimo 6 caracteres"}})),{},{error:!!m.password,helperText:null===(a=m.password)||void 0===a?void 0:a.message,InputLabelProps:{shrink:!0},sx:{"& .MuiInputLabel-root":{fontSize:"1.05rem",fontWeight:400},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:16}}}))}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({label:"Tel\xe9fono",fullWidth:!0},l("telefono",{maxLength:50})),{},{error:!!m.telefono,helperText:null===(r=m.telefono)||void 0===r?void 0:r.message,InputLabelProps:{shrink:!0},sx:{"& .MuiInputLabel-root":{fontSize:"1.05rem",fontWeight:400},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:16}}}))}),p&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)("div",{style:{color:"#f44336"},children:p})})]})}),Object(C.jsxs)(Va.a,{sx:{p:2},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:c,disabled:f||j,children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",disabled:f||j,children:f?"Guardando...":"Guardar"})]})]})]})}var mi=n.p+"static/media/curved0.d146ec6e.jpg",ji=Object(v.a)((e=>{let{palette:t,functions:n,borders:o,boxShadows:a}=e;const{gradients:r,white:i}=t,{linearGradient:c,rgba:s,pxToRem:l}=n,{borderRadius:d}=o,{navbarBoxShadow:u}=a;return{profileHeader_background:{backgroundImage:"".concat(c(s(r.primary.main,.6),s(r.primary.state,.6)),", url(").concat(mi,")"),backgroundSize:"cover",backgroundPosition:"50%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",minHeight:l(300),borderRadius:d.xl},profileHeader_profile:{backdropFilter:"saturate(200%) blur(".concat(l(30),")"),backgroundColor:s(i.main,.8),boxShadow:u,margin:"".concat(l(-64)," ").concat(l(24)," 0"),padding:l(16),position:"relative"}}}));var hi=function(e){let{name:t,role:n,avatar:o}=e;const a=ji();return Object(C.jsxs)(k,{position:"relative",children:[Object(C.jsx)(Nr,{absolute:!0,light:!0}),Object(C.jsx)(k,{customClass:a.profileHeader_background}),Object(C.jsx)(_a.a,{className:a.profileHeader_profile,children:Object(C.jsxs)(Da.a,{container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(Da.a,{item:!0,children:Object(C.jsx)(hr,{src:Qr,alt:"profile-image",variant:"rounded",size:"xl",customClass:"shadow-sm"})}),Object(C.jsx)(Da.a,{item:!0,children:Object(C.jsx)(k,{height:"100%",mt:.5,lineHeight:1,display:"flex",alignItems:"center",gap:1,children:Object(C.jsxs)(k,{children:[Object(C.jsx)(A,{variant:"h5",fontWeight:"medium",children:t||"Nombre Apellido"}),Object(C.jsx)(A,{variant:"button",textColor:"text",fontWeight:"medium",children:n||""})]})})})]})})]})};var pi=function(){Object(o.useEffect)((()=>{const e=window.fetch;return window.fetch=async(t,n)=>{try{const e="string"===typeof t?t:(null===t||void 0===t?void 0:t.url)||"";if(e&&e.includes("events.launchdarkly.com"))return new Response(null,{status:204,statusText:"No Content"})}catch(o){}return e(t,n)},()=>{window.fetch=e}}),[]);const[e,t]=Object(o.useState)(null),[n,a]=Object(o.useState)(!0),[r,i]=Object(o.useState)(null),[c,s]=Object(o.useState)(!1),[l,d]=Object(o.useState)(!1),[u,b]=Object(o.useState)(null),m=()=>{let e=!0;return a(!0),te.request("/api/users/me",{method:"GET"}).then((n=>{e&&t(n)})).catch((t=>{console.warn("Error fetching authenticated user:",t),e&&i(t)})).finally((()=>{e&&a(!1)})),()=>{e=!1}};function j(e){var t,n,o,a,r;if(e)return(null===e||void 0===e||null===(t=e.dueno)||void 0===t?void 0:t.nombre)||(null===e||void 0===e||null===(n=e.veterinario)||void 0===n?void 0:n.nombre)||(null===e||void 0===e||null===(o=e.recepcionista)||void 0===o?void 0:o.nombre)||(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.name)||(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.email)||(null===e||void 0===e?void 0:e.nombre)||void 0}return Object(o.useEffect)((()=>m()),[]),Object(C.jsxs)(Or,{children:[Object(C.jsx)(hi,{name:j(e),role:(null===e||void 0===e?void 0:e.role)||"Usuario",avatar:function(e){var t,n,o,a;return(null===e||void 0===e||null===(t=e.dueno)||void 0===t?void 0:t.avatar)||(null===e||void 0===e||null===(n=e.dueno)||void 0===n?void 0:n.foto)||(null===e||void 0===e||null===(o=e.veterinario)||void 0===o?void 0:o.avatar)||(null===e||void 0===e||null===(a=e.veterinario)||void 0===a?void 0:a.foto)||void 0}(e)}),Object(C.jsx)(k,{mt:5,mb:3,children:Object(C.jsx)(Da.a,{container:!0,spacing:3,justifyContent:"center",children:Object(C.jsx)(Da.a,{item:!0,xs:12,md:6,xl:4,children:(t=>{const n={"Nombre Completo":j(e)||(null===e||void 0===e?void 0:e.nombre)||"-",Email:(null===e||void 0===e?void 0:e.email)||(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.email)||"-","Tel\xe9fono":(null===e||void 0===e?void 0:e.telefono)||"-"};return Object(C.jsx)(ui,{title:"Informaci\xf3n Personal",description:"",info:n,action:{onClick:()=>s(!0),tooltip:"Editar perfil"},shadow:!1})})()})})}),Object(C.jsx)(bi,{open:c,onClose:()=>s(!1),onSaved:()=>{s(!1),m()}}),Object(C.jsx)(si,{open:l,onClose:()=>d(!1),consultaId:u}),Object(C.jsx)(Dr,{})]})};function xi(e){var t,n;let{open:a,onClose:r,onSave:i,initialData:c,id:s}=e;const{register:l,handleSubmit:d,reset:u,formState:{errors:b}}=Object(Aa.b)({defaultValues:{nombre:"",telefono:""}}),[m,j]=Object(o.useState)("");Object(o.useEffect)((()=>{if(!a)return;let e=!0;return async function(){if(c)u({nombre:c.nombre||"",telefono:c.telefono||""});else if(s)try{const t=await te.retrieve("duenos",s);if(!e)return;u({nombre:t.nombre||"",telefono:t.telefono||""})}catch(t){console.error("Error fetching dueno:",t),e&&u({nombre:"",telefono:""})}else u({nombre:"",telefono:""})}(),()=>e=!1}),[c,s,a,u]);const h={"& .MuiInputLabel-root":{fontSize:"1.1rem",fontWeight:400},"& .MuiFormHelperText-root":{fontSize:"1rem"},"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:"1rem",padding:"12px 12px"}};return Object(C.jsxs)(Na.a,{open:a,onClose:r,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{borderRadius:3,p:0}},children:[Object(C.jsx)(Pa.a,{sx:{fontWeight:600,textAlign:"center",pb:1,fontSize:"1.25rem"},children:"Registrar Due\xf1o"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:d((async e=>{j("");try{await(null===i||void 0===i?void 0:i(e)),u(),null===r||void 0===r||r()}catch(t){j((null===t||void 0===t?void 0:t.message)||"Error al guardar")}})),children:[Object(C.jsx)(Ha.a,{sx:{pt:2},children:Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:"1.05rem",fontWeight:400,display:"block",marginBottom:"6px"},children:"Nombre"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({placeholder:"Nombre",fullWidth:!0,size:"small"},l("nombre",{maxLength:{value:255,message:"M\xe1ximo 255 caracteres"}})),{},{sx:h,error:!!(null===b||void 0===b?void 0:b.nombre),helperText:null===b||void 0===b||null===(t=b.nombre)||void 0===t?void 0:t.message}))]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:"1.05rem",fontWeight:400,display:"block",marginBottom:"6px"},children:"Tel\xe9fono"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({placeholder:"Tel\xe9fono",fullWidth:!0,size:"small"},l("telefono",{maxLength:{value:50,message:"M\xe1ximo 50 caracteres"}})),{},{sx:h,error:!!(null===b||void 0===b?void 0:b.telefono),helperText:null===b||void 0===b||null===(n=b.telefono)||void 0===n?void 0:n.message}))]}),m&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{color:"error",children:m})})]})}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(Va.a,{sx:{p:2,justifyContent:"flex-end",gap:1},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:r,children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",children:"Guardar"})]})]})]})}function gi(e){let{open:t,onClose:n,onConfirm:o,item:a}=e;const r=(null===a||void 0===a?void 0:a.nombre)||"este due\xf1o";return Object(C.jsxs)(Na.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{children:"Confirmar eliminaci\xf3n"}),Object(C.jsx)(M.a,{}),Object(C.jsx)(Ha.a,{children:Object(C.jsxs)(E.a,{variant:"body1",sx:{mt:1},children:["\xbfEst\xe1s seguro que deseas eliminar a ",Object(C.jsx)("strong",{children:r}),"? Esta acci\xf3n no se puede deshacer."]})}),Object(C.jsxs)(Va.a,{sx:{p:2},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:n,sx:{minWidth:100},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"error",onClick:()=>o&&o(a),sx:{minWidth:100},children:"Eliminar"})]})]})}var fi=n(141),Oi=n.n(fi);var vi=n(142),yi=n.n(vi),Ci=n(143),Si=n.n(Ci),wi=n(341);function ki(e){let{open:t,onClose:n,consultaId:a,onSaved:r}=e;const{register:i,handleSubmit:c,control:s,reset:l,watch:d,setValue:u}=Object(Aa.b)({defaultValues:{motivo:"",descripcion:"",fecha:"",hora:"",sintomas:"",diagnostico:"",tratamiento:"",notas:"",asistio:!1,veterinario:null,dueno:null,mascota_id:null}}),b="1rem",m="1.05rem",j="0.9rem",h={"& .MuiInputLabel-root":{fontSize:b},"& .MuiFormHelperText-root":{fontSize:"1.1rem"},"& .MuiOutlinedInput-root":{minHeight:52},"& .MuiInputBase-input":{fontSize:m,padding:"14px 12px"}},p=(d("asistio"),d("motivo")),g=d("descripcion"),f=d("fecha"),v=d("hora");const[y,S]=Object(o.useState)(!1),[w,k]=Object(o.useState)(!1),[z,I]=Object(o.useState)("");Object(o.useEffect)((()=>{let e=!0;return async function(){if(t&&a){S(!0);try{const t=await te.request("/api/clinic/consultas/".concat(a),{method:"GET"});if(!e)return;const n=t.mascota&&(t.mascota.idMascota||t.mascota.id||t.mascota.mascota_id)||t.mascota_id||null,o=t.veterinario&&(t.veterinario.idVeterinario||t.veterinario.id)||t.veterinario||null,r=t.dueno&&(t.dueno.idDueno||t.dueno.id)||t.dueno||null;u("motivo",t.motivo||t.descripcion||""),u("descripcion",t.descripcion||""),u("fecha",t.fecha||(t.fechaHora?String(t.fechaHora).split("T")[0]:"")),u("hora",t.hora||(t.fechaHora?(String(t.fechaHora).split("T")[1]||"").slice(0,5):"")),u("sintomas",t.sintomas||""),u("diagnostico",t.diagnostico||""),u("tratamiento",t.tratamiento||""),u("notas",t.notas||""),u("asistio",!!t.asistio),u("veterinario",o),u("dueno",r),u("mascota_id",n)}catch(n){console.error("Error loading consulta:",n),I("Error cargando la consulta")}finally{e&&S(!1)}}}(),()=>e=!1}),[t,a,u]);return Object(C.jsxs)(Na.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{borderRadius:3,p:0}},children:[Object(C.jsx)(Pa.a,{sx:{fontWeight:600,textAlign:"center",pb:1,fontSize:"1.25rem"},children:"Anotar / Registrar Consulta"}),Object(C.jsx)(M.a,{}),Object(C.jsxs)("form",{onSubmit:c((async e=>{var t;I("");const n={motivo:(null===(t=e.motivo)||void 0===t?void 0:t.slice(0,255))||"",descripcion:e.descripcion||null,fecha:e.fecha||null,hora:e.hora||null,sintomas:e.asistio&&e.sintomas||null,diagnostico:e.asistio&&e.diagnostico||null,tratamiento:e.asistio&&e.tratamiento||null,notas:e.asistio&&e.notas||null,asistio:!!e.asistio,veterinario:e.veterinario||null,dueno:e.dueno||null,mascota_id:e.mascota_id||null};try{k(!0),await te.request("/api/clinic/consultas/".concat(a),{method:"PATCH",body:n}),r&&r()}catch(i){var o;console.error("Error updating consulta:",i),I((null===i||void 0===i||null===(o=i.body)||void 0===o?void 0:o._raw)||(null===i||void 0===i?void 0:i.message)||"Error guardando la anotaci\xf3n")}finally{k(!1)}})),children:[Object(C.jsx)(Ha.a,{sx:{pt:2},children:y?Object(C.jsx)(Da.a,{container:!0,justifyContent:"center",sx:{py:6},children:Object(C.jsx)(E.a,{children:"Cargando..."})}):Object(C.jsxs)(Da.a,{container:!0,spacing:1,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{sx:{fontSize:m,color:"text.primary",mb:.5},children:function(e,t){if(!e)return"-";try{const n=["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],o=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],a=String(e).split("-");if(3!==a.length)return"".concat(e).concat(t?" a hrs "+t:"");const[r,i,c]=a,s=Number(c),l=Number(i)-1,d=o[l]||i,u=n[new Date(Number(r),l,s).getDay()]||"",b=u.charAt(0).toUpperCase()+u.slice(1);return"".concat(b," ").concat(s," de ").concat(d," ").concat(r).concat(t?" a hrs "+t:"")}catch(n){return"".concat(e).concat(t?" a hrs "+t:"")}}(f,v)})}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsxs)(E.a,{sx:{fontSize:m,color:"text.primary",mb:.5},children:[Object(C.jsx)(O.a,{component:"span",sx:{fontSize:b,fontWeight:600,mr:.5},children:"Motivo:"}),Object(C.jsx)(O.a,{component:"span",sx:{fontSize:j,color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:p||"-"})]})}),Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsxs)(E.a,{sx:{fontSize:m,color:"text.primary",mb:.5},children:[Object(C.jsx)(O.a,{component:"span",sx:{fontSize:b,fontWeight:600,mr:.5},children:"Descripci\xf3n:"}),Object(C.jsx)(O.a,{component:"span",sx:{fontSize:j,color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:g||"-"})]})}),Object(C.jsx)(Da.a,{item:!0,xs:12,container:!0,justifyContent:"flex-start",alignItems:"center",children:Object(C.jsx)(wi.a,{sx:{ml:0},control:Object(C.jsx)(Aa.a,{name:"asistio",control:s,render:e=>{let{field:t}=e;return Object(C.jsx)(ae.a,Object(x.a)(Object(x.a)({},t),{},{checked:!!t.value}))}}),label:"Asisti\xf3"})}),Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:b,mb:.5},children:"S\xedntomas"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({fullWidth:!0,multiline:!0,rows:1},i("sintomas")),{},{sx:Object(x.a)(Object(x.a)({},h),{},{"& .MuiOutlinedInput-root":{minHeight:40},"& .MuiInputBase-input":{padding:"8px 10px",fontSize:m}})}))]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:b,mb:.5},children:"Diagn\xf3stico"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({fullWidth:!0,multiline:!0,rows:1},i("diagnostico")),{},{sx:Object(x.a)(Object(x.a)({},h),{},{"& .MuiOutlinedInput-root":{minHeight:40},"& .MuiInputBase-input":{padding:"8px 10px",fontSize:m}})}))]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:b,mb:.5},children:"Tratamiento"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({fullWidth:!0,multiline:!0,rows:1},i("tratamiento")),{},{sx:Object(x.a)(Object(x.a)({},h),{},{"& .MuiOutlinedInput-root":{minHeight:40},"& .MuiInputBase-input":{padding:"8px 10px",fontSize:m}})}))]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(E.a,{sx:{fontSize:b,mb:.5},children:"Notas"}),Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({fullWidth:!0,multiline:!0,rows:4},i("notas")),{},{sx:Object(x.a)(Object(x.a)({},h),{},{"& .MuiOutlinedInput-root":{minHeight:120},"& .MuiInputBase-input":{padding:"12px 12px",fontSize:m}})}))]}),z&&Object(C.jsx)(Da.a,{item:!0,xs:12,children:Object(C.jsx)(E.a,{color:"error",children:z})})]})}),Object(C.jsx)(M.a,{}),Object(C.jsxs)(Va.a,{sx:{p:2,justifyContent:"flex-end",gap:1},children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:n,disabled:w,sx:{minWidth:120,height:44},children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",type:"submit",disabled:w,sx:{minWidth:120,height:44},children:w?"Guardando...":"Guardar"})]})]})]})}var zi=n(293);function Ii(e){let{open:t,onClose:n,mascotaId:r}=e;const[i,c]=Object(o.useState)(!1),[s,l]=Object(o.useState)(null),[d,u]=Object(o.useState)([]),[b,m]=Object(o.useState)(null),[j,h]=Object(o.useState)(null),[p,x]=Object(o.useState)(null),[g,f]=Object(o.useState)("Cargando..."),[O,v]=Object(o.useState)(null);Object(o.useEffect)((()=>{if(!t||!r)return;let e=!0;return async function(){c(!0),l(null),u([]),h(null),v(null);try{const n=await te.request("/api/clinic/mascotas/".concat(r,"/consultas/asistidas"),{method:"GET"}),o=await te.request("/api/clinic/mascotas/".concat(r),{method:"GET"});if(!e)return;const a=Array.isArray(n)?n:(null===n||void 0===n?void 0:n.data)||[];a.sort(((e,t)=>{const n=(e.fecha||"")+" "+(e.hora||"");return((t.fecha||"")+" "+(t.hora||"")).localeCompare(n)})),u(a),h(o);let i=null;if(o.dueno&&(i="object"===typeof o.dueno?o.dueno.id||o.dueno.idDueno:o.dueno),i)try{const t=await te.request("/api/clinic/duenos/".concat(i));e&&t&&t.telefono&&v(t.telefono)}catch(t){console.warn("Could not fetch owner phone",t)}}catch(n){l((null===n||void 0===n?void 0:n.message)||"Error cargando historial")}finally{e&&c(!1)}}(),()=>e=!1}),[t,r]),Object(o.useEffect)((()=>{if(t&&j){const e=(j.especie||"").toLowerCase();let t=ir;e.includes("perro")||e.includes("canino")||e.includes("dog")?t=ir:e.includes("gato")||e.includes("felino")||e.includes("cat")?t=cr:e.includes("ave")||e.includes("pajaro")||e.includes("bird")||e.includes("loro")?t=sr:e&&(t=ir),x(t)}}),[t,j]),Object(o.useEffect)((()=>{let e=!0;if(b){const t=b.veterinario_nombre||b.veterinario&&b.veterinario.nombre;f(t||"Cargando...");let n=null;n="object"===typeof b.veterinario&&null!==b.veterinario?b.veterinario.id||b.veterinario.idVeterinario:b.veterinario,n?te.request("/api/clinic/veterinarios/".concat(n)).then((t=>{e&&t&&t.nombre&&f(t.nombre)})).catch((n=>{console.error("Failed to fetch vet details",n),e&&!t&&f("No especificado")})):t||f("No especificado")}else f("");return()=>{e=!1}}),[b]);const y=j&&j.dueno&&(j.dueno.nombre||j.dueno.name)||j&&j.dueno_nombre||"-";return Object(C.jsxs)(Na.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"lg",children:[Object(C.jsxs)(Pa.a,{children:["Historial de ",j?j.nombre:"Mascota"]}),Object(C.jsx)(M.a,{}),Object(C.jsx)(Ha.a,{children:i?Object(C.jsx)(Da.a,{container:!0,justifyContent:"center",sx:{py:4},children:Object(C.jsx)(rr.a,{})}):s?Object(C.jsx)(E.a,{color:"error",children:s}):Object(C.jsxs)(Da.a,{container:!0,spacing:4,children:[Object(C.jsx)(Da.a,{item:!0,xs:12,md:4,children:j&&Object(C.jsxs)(_a.a,{sx:{boxShadow:3},children:[Object(C.jsx)(or.a,{component:"img",height:"200",image:p||ir,alt:j.nombre}),Object(C.jsxs)(ar.a,{children:[Object(C.jsx)(A,{variant:"h5",gutterBottom:!0,children:j.nombre}),Object(C.jsxs)(A,{variant:"body2",color:"text",children:[Object(C.jsx)("strong",{children:"Especie/Raza:"})," ",j.especie||"-"," - ",j.raza||"-"]}),Object(C.jsxs)(A,{variant:"body2",color:"text",children:[Object(C.jsx)("strong",{children:"Edad:"})," ",j.edad?"".concat(j.edad," a\xf1os"):"-"]}),Object(C.jsx)(k,{mt:2,mb:1,children:Object(C.jsx)(M.a,{})}),Object(C.jsx)(A,{variant:"subtitle2",children:"Informaci\xf3n del Due\xf1o"}),Object(C.jsx)(A,{variant:"body2",color:"text",children:y}),O&&Object(C.jsxs)(A,{variant:"body2",color:"text",children:["Tel: ",O]})]})]})}),Object(C.jsx)(Da.a,{item:!0,xs:12,md:8,children:b?Object(C.jsxs)(k,{p:2,children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[Object(C.jsx)(A,{variant:"h6",children:"Detalles de Consulta"}),Object(C.jsx)(de,{size:"small",variant:"outlined",buttonColor:"info",onClick:()=>m(null),children:"Volver"})]}),Object(C.jsx)(k,{p:3,bgcolor:"background.paper",borderRadius:"20px",border:"2px solid #5c5c5c",mb:3,boxShadow:1,children:Object(C.jsxs)(Da.a,{container:!0,spacing:2,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,sm:4,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"ID Consulta"}),Object(C.jsx)(A,{variant:"body2",children:b.id||b.idConsulta||"-"})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,sm:4,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"Fecha y Hora"}),Object(C.jsxs)(A,{variant:"body2",children:[b.fecha||(b.fechaHora||"").split("T")[0]," "," ",b.hora||(b.fechaHora?(b.fechaHora.split("T")[1]||"").slice(0,5):"")]})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,sm:4,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"Veterinario"}),Object(C.jsx)(A,{variant:"body2",children:g})]})]})}),Object(C.jsxs)(k,{p:3,bgcolor:"background.paper",borderRadius:"20px",border:"2px solid #5c5c5c",mb:3,boxShadow:1,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"Motivo"}),Object(C.jsx)(A,{variant:"body2",children:b.motivo||"-"})]}),Object(C.jsxs)(k,{p:3,bgcolor:"background.paper",borderRadius:"20px",border:"2px solid #5c5c5c",mb:3,boxShadow:1,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"Descripci\xf3n"}),Object(C.jsx)(A,{variant:"body2",children:b.observaciones||b.descripcion||"-"})]}),Object(C.jsxs)(k,{p:3,bgcolor:"background.paper",borderRadius:"20px",border:"2px solid #5c5c5c",mb:3,boxShadow:1,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"S\xedntomas"}),Object(C.jsx)(A,{variant:"body2",children:b.sintomas||"-"})]}),Object(C.jsxs)(k,{p:3,bgcolor:"background.paper",borderRadius:"20px",border:"2px solid #5c5c5c",mb:3,boxShadow:1,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"Diagn\xf3stico"}),Object(C.jsx)(A,{variant:"body2",children:b.diagnostico||"-"})]}),Object(C.jsx)(k,{p:3,bgcolor:"background.paper",borderRadius:"20px",border:"2px solid #5c5c5c",boxShadow:1,children:Object(C.jsxs)(Da.a,{container:!0,spacing:2,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"Tratamiento"}),Object(C.jsx)(A,{variant:"body2",children:b.tratamiento||"-"})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(A,{variant:"caption",color:"text",fontWeight:"bold",display:"block",children:"Notas"}),Object(C.jsx)(A,{variant:"body2",children:b.notas||"-"})]})]})})]}):Object(C.jsx)(Da.a,{container:!0,spacing:2,children:Object(C.jsxs)(Da.a,{item:!0,xs:12,children:[Object(C.jsx)(A,{variant:"h6",textColor:"dark",mb:2,children:"Consultas Asistidas"}),0===d.length?Object(C.jsx)(A,{variant:"caption",color:"text",children:"No hay consultas asistidas para esta mascota."}):Object(C.jsx)(I.a,{sx:{maxHeight:400,overflow:"auto",bgcolor:"background.paper",borderRadius:2,border:"1px solid #eee"},children:d.map(((e,t)=>{const n=e.fecha||(e.fechaHora?String(e.fechaHora).split("T")[0]:""),o=e.hora||(e.fechaHora?(String(e.fechaHora).split("T")[1]||"").slice(0,5):""),r=e.motivo||e.descripcion||"-";return Object(C.jsxs)(a.a.Fragment,{children:[Object(C.jsxs)(zi.a,{alignItems:"center",children:[Object(C.jsx)(D.a,{primary:"".concat(n," ").concat(o),secondary:r}),Object(C.jsx)(k,{ml:2,children:Object(C.jsx)(de,{variant:"text",buttonColor:"info",size:"small",onClick:t=>{t.stopPropagation(),m(e)},children:"Ver"})})]}),t<d.length-1&&Object(C.jsx)(M.a,{variant:"inset",component:"li"})]},t)}))})]})})})]})}),Object(C.jsx)(Va.a,{sx:{p:2},children:Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:n,children:"Cerrar"})})]})}var Mi=n(95),Wi=n.n(Mi);const Ri=["Su","Mo","Tu","We","Th","Fr","Sa"];function Ei(e){let{value:t,onChange:n,disablePast:a}=e;function r(e){if(!e)return null;const t=String(e).split("-");if(t.length<3)return null;const n=Number(t[0]),o=Number(t[1])-1,a=Number(t[2]);return new Date(n,o,a)}const[i,c]=Object(o.useState)((()=>r(t)||new Date));Object(o.useEffect)((()=>{if(t){const e=r(t);e&&c(e)}}),[t]);const s=Object(o.useMemo)((()=>function(e){const t=e.getFullYear(),n=e.getMonth(),o=new Date(t,n,1),a=new Date(t,n+1,0),r=[];let i=[];const c=o.getDay();for(let s=0;s<c;s++)i.push(null);for(let s=1;s<=a.getDate();s++)i.push(new Date(t,n,s)),7===i.length&&(r.push(i),i=[]);if(i.length){for(;i.length<7;)i.push(null);r.push(i)}return r}(i)||[]),[i]);function l(e){return function(e){if(!e)return"";const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(o)}(e)}const d=i.toLocaleString(void 0,{month:"long",year:"numeric"}),u=Array.from({length:12}).map(((e,t)=>new Date(0,t).toLocaleString(void 0,{month:"long"}))),b=(new Date).getFullYear(),m=Array.from({length:11}).map(((e,t)=>b-5+t)),[j,h]=Object(o.useState)(!1);return Object(C.jsxs)("div",{className:"simple-calendar",style:{width:"100%"},children:[Object(C.jsxs)("div",{className:"sc-header",style:{display:"flex",alignItems:"center",marginBottom:8},children:[Object(C.jsx)("div",{style:{flex:"0 0 auto"},children:Object(C.jsx)(de,{"aria-label":"Mes anterior",variant:"outlined",size:"small",onClick:()=>{c((e=>new Date(e.getFullYear(),e.getMonth()-1,1))),h(!1)},style:{minWidth:36},children:"\u25c0"})}),Object(C.jsxs)("div",{style:{flex:"1 1 auto",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[Object(C.jsx)("div",{onClick:()=>h((e=>!e)),role:"button",tabIndex:0,style:{fontSize:"0.98rem",fontWeight:700,cursor:"pointer",userSelect:"none"},children:d}),j?Object(C.jsxs)("div",{style:{position:"absolute",top:36,display:"flex",gap:8,background:"#fff",padding:8,borderRadius:6,boxShadow:"0 6px 18px rgba(0,0,0,0.08)",zIndex:10},children:[Object(C.jsx)("select",{"aria-label":"Seleccionar mes",value:i.getMonth(),onChange:e=>c(new Date(i.getFullYear(),Number(e.target.value),1)),style:{fontSize:"0.9rem",padding:"6px 8px",borderRadius:6,border:"1px solid rgba(0,0,0,0.12)"},children:u.map(((e,t)=>Object(C.jsx)("option",{value:t,children:e},e)))}),Object(C.jsx)("select",{"aria-label":"Seleccionar a\xf1o",value:i.getFullYear(),onChange:e=>c(new Date(Number(e.target.value),i.getMonth(),1)),style:{fontSize:"0.9rem",padding:"6px 8px",borderRadius:6,border:"1px solid rgba(0,0,0,0.12)"},children:m.map((e=>Object(C.jsx)("option",{value:e,children:e},e)))}),Object(C.jsx)(de,{variant:"outlined",size:"small",onClick:()=>h(!1),children:"Cerrar"})]}):null]}),Object(C.jsx)("div",{style:{flex:"0 0 auto"},children:Object(C.jsx)(de,{"aria-label":"Mes siguiente",variant:"outlined",size:"small",onClick:()=>{c((e=>new Date(e.getFullYear(),e.getMonth()+1,1))),h(!1)},style:{minWidth:36},children:"\u25b6"})})]}),Object(C.jsx)("div",{className:"sc-weekdays",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:6,marginBottom:6},children:Ri.map((e=>Object(C.jsx)("div",{style:{textAlign:"center",fontSize:"0.72rem",color:"#666"},children:e},e)))}),Object(C.jsx)("div",{className:"sc-grid",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:6},children:s.flat().map(((e,o)=>{const r=e&&l(e)===t,i=e&&l(e)===l(new Date);let c=!1;if(e&&a){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);n.setHours(0,0,0,0),n<t&&(c=!0)}const s=r?"#212121":c?"#ececec":"#fff",d=r?"#fff":c?"#bbb":e?"#111":"#aaa",u=r?"1px solid #333":"1px solid rgba(0,0,0,0.08)",b=e&&!c?"pointer":"default";return Object(C.jsx)("button",{type:"button",onClick:()=>e&&!c&&n(l(e)),disabled:!e||c,className:"sc-cell"+(r?" selected":"")+(i?" today":""),style:{width:"100%",height:36,borderRadius:6,border:u,background:s,color:d,cursor:b},children:e?e.getDate():""},o)}))})]})}function Li(e){const t=Math.floor(e/60),n=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))}function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:540,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1020,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const o=[];for(let a=e;a<t;a+=n)o.push(a);return o}function _i(e){const t=Math.floor(e/60),n=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))}function Ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:540,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1020,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const o=[];for(let a=e;a<t;a+=n)o.push(a);return o}var Ni=n(302),Pi=n(10),Hi=n.n(Pi),Di=n(31),Bi=Object(v.a)((e=>{let{palette:t,boxShadows:n,functions:o,typography:a,borders:r}=e;const{inputColors:i,grey:c,light:s,white:l,dark:d,transparent:u}=t,{inputBoxShadow:b}=n,{pxToRem:m,boxShadow:j}=o,{size:h,fontWeightBold:p}=a,{borderRadius:x,borderWidth:g}=r;return{suiInput:{backgroundColor:e=>{let{disabled:t}=e;return t?c[200]:l.main}},suiInput_small:{fontSize:h.xs,padding:"".concat(m(4)," ").concat(m(12))},suiInput_large:{padding:m(12)},suiInput_focused:{borderColor:e=>{let t,{error:n,success:o}=e;return t=n?i.error:o?i.success:i.borderColor.focus,t},paddingLeft:e=>{let t,{direction:n,withIcon:o}=e;return"rtl"===n&&"left"===o.direction?t=0:"rtl"===n&&"right"===o.direction?t="".concat(m(12)," !important"):"ltr"===n&&"right"===o.direction?t=0:"ltr"===n&&"left"===o.direction&&(t="".concat(m(12)," !important")),t},paddingRight:e=>{let t,{direction:n,withIcon:o}=e;return"rtl"===n&&"left"===o.direction?t="".concat(m(12)," !important"):"rtl"===n&&"right"===o.direction?t=0:"ltr"===n&&"right"===o.direction?t="".concat(m(12)," !important"):"ltr"===n&&"left"===o.direction&&(t=0),t},outline:0,boxShadow:e=>{let t,{error:n,success:o}=e;return t=n?b.error:o?b.success:j([0,0],[0,2],i.boxShadow,1),t}},suiInput_disabled:{backgroundColor:s.main,color:c[700],opacity:1},suiInput_error:{backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23fd5c70' viewBox='0 0 12 12'%3E%3Ccircle cx='6' cy='6' r='4.5'/%3E%3Cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3E%3Ccircle cx='6' cy='8.2' r='.6' fill='%23fd5c70' stroke='none'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right ".concat(m(12)," center"),backgroundSize:"".concat(m(16)," ").concat(m(16)),borderColor:i.error},suiInput_success:{backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 8'%3E%3Cpath fill='%2366d432' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right ".concat(m(12)," center"),backgroundSize:"".concat(m(16)," ").concat(m(16)),borderColor:i.success},suiInput_multiline:{padding:"".concat(m(10)," ").concat(m(12))},suiInputIcon:{display:"flex",alignItems:"center",backgroundColor:e=>{let{disabled:t}=e;return t?c[200]:l.main},border:"".concat(g[1]," solid"),borderRadius:x.md,borderColor:e=>{let t,{error:n,success:o}=e;return t=n?i.error:o?i.success:i.borderColor.main,t},"& .MuiInputBase-input":{height:m(20)}},suiInputIcon_right:{lineHeight:0,padding:e=>{let{size:t}=e;return"small"===t?"".concat(m(4)," ").concat(m(10)):"".concat(m(8)," ").concat(m(10))},width:m(39),height:"100%",color:d.main},suiInputIcon_input:{borderColor:u.main,borderRadius:e=>{let t,{direction:n,withIcon:o}=e;return t="rtl"===n&&"left"===o.direction?"".concat(x.md," 0 0 ").concat(x.md):"rtl"===n&&"right"===o.direction?"0 ".concat(x.md," ").concat(x.md," 0"):"ltr"===n&&"right"===o.direction?"".concat(x.md," 0 0 ").concat(x.md):"0 ".concat(x.md," ").concat(x.md," 0"),t},paddingLeft:e=>{let t,{direction:n,withIcon:o}=e;return"rtl"===n&&"left"===o.direction?t=m(12):"rtl"===n&&"right"===o.direction?t=0:"ltr"===n&&"right"===o.direction?t=m(12):"ltr"===n&&"left"===o.direction&&(t=0),t},paddingRight:e=>{let t,{direction:n,withIcon:o}=e;return"rtl"===n&&"left"===o.direction?t=0:"rtl"===n&&"right"===o.direction?t=m(12):"ltr"===n&&"right"===o.direction?t=0:"ltr"===n&&"left"===o.direction&&(t=m(12)),t}},suiInputIcon_icon:{fontWeight:p,fontSize:e=>{let{size:t}=e;return"small"===t&&"".concat(h.regular," !important")}}}}));const Fi=["size","withIcon","error","success","customClass","disabled"],Vi=Object(o.forwardRef)(((e,t)=>{let n,{size:o,withIcon:a,error:r,success:i,customClass:c,disabled:s}=e,l=Object(g.a)(e,Fi);const[d]=q(),{direction:u}=d,b=Bi({size:o,error:r,success:i,withIcon:a,direction:u,disabled:s});return n=a.icon&&"left"===a.direction?Object(C.jsxs)(k,{ref:t,customClass:Object(f.a)(b.suiInputIcon,c),children:[Object(C.jsx)(k,{customClass:b.suiInputIcon_right,children:Object(C.jsx)(W.a,{className:b.suiInputIcon_icon,fontSize:"small",children:a.icon})}),Object(C.jsx)(Di.c,Object(x.a)(Object(x.a)({},l),{},{className:Object(f.a)(b.suiInput,b.suiInputIcon_input,{[b.suiInput_error]:r,[b.suiInput_success]:i,[b["suiInput_".concat(o)]]:o}),classes:{focused:b.suiInput_focused,disabled:b.suiInput_disabled,error:b.suiInput_error,multiline:b.suiInput_multiline}}))]}):a.icon&&"right"===a.direction?Object(C.jsxs)(k,{customClass:Object(f.a)(b.suiInputIcon,c),children:[Object(C.jsx)(Di.c,Object(x.a)(Object(x.a)({},l),{},{className:Object(f.a)(b.suiInput,b.suiInputIcon_input,{[b.suiInput_error]:r,[b.suiInput_success]:i,[b["suiInput_".concat(o)]]:o}),classes:{focused:b.suiInput_focused,disabled:b.suiInput_disabled,error:b.suiInput_error,multiline:b.suiInput_multiline}})),Object(C.jsx)(k,{customClass:b.suiInputIcon_right,children:Object(C.jsx)(W.a,{className:b.suiInputIcon_icon,fontSize:"small",children:a.icon})})]}):Object(C.jsx)(Di.c,Object(x.a)(Object(x.a)({},l),{},{className:Object(f.a)(b.suiInput,c,{[b.suiInput_error]:r,[b.suiInput_success]:i,[b["suiInput_".concat(o)]]:o}),classes:{focused:b.suiInput_focused,disabled:b.suiInput_disabled,error:b.suiInput_error,multiline:b.suiInput_multiline}})),n}));Vi.defaultProps={size:"medium",withIcon:{icon:!1,direction:"none"},error:!1,success:!1,customClass:"",disabled:!1},Vi.propTypes={size:Hi.a.oneOf(["small","medium","large"]),withIcon:Hi.a.shape({icon:Hi.a.oneOfType([Hi.a.node,Hi.a.bool]),direction:Hi.a.oneOf(["none","left","right"])}),error:Hi.a.bool,success:Hi.a.bool,customClass:Hi.a.string,disabled:Hi.a.bool};var Gi=Vi,qi=n(29),Ui=n(294),Xi=n(342);var Zi=function(e){let{icon:t,name:n,route:o,light:a}=e;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(k,{component:c.b,to:o,mx:1,p:1,display:"flex",alignItems:"center",className:"cursor-pointer user-select-none",children:[Object(C.jsx)(W.a,{className:"vertical-middle ".concat(a?"text-white":"text-secondary"),children:t}),Object(C.jsxs)(A,{variant:"button",fontWeight:"regular",textColor:a?"white":"dark",textTransform:"capitalize",customClass:"w-100 line-height-0",children:["\xa0",n]})]})})};var Yi=function(e){let{open:t,close:n}=e;const{width:o}=t&&t.getBoundingClientRect();return Object(C.jsx)(Cr.a,{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:t,open:Boolean(t),onClose:n,MenuListProps:{style:{width:"calc(".concat(o,"px - 4rem)")}},children:Object(C.jsxs)(k,{px:.5,children:[Object(C.jsx)(Zi,{icon:"donut_large",name:"Inicio",route:"/dashboard"}),Object(C.jsx)(Zi,{icon:"person",name:"Perfil",route:"/profile"}),Object(C.jsx)(Zi,{icon:"account_circle",name:"Registrarse",route:"/authentication/sign-up"}),Object(C.jsx)(Zi,{icon:"key",name:"Iniciar Sesi\xf3n",route:"/authentication/sign-in"})]})})},Ji=Object(v.a)((e=>{let{palette:t,boxShadows:n,functions:o,borders:a}=e;const{dark:r,white:i,transparent:c}=t,{regular:s}=n,{rgba:l,pxToRem:d}=o,{borderRadius:u}=a;return{defaultNavbar:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:e=>{let{transparent:t}=e;return t?c.main:l(i.main,.8)},color:e=>{let{light:t}=e;return t?i.main:r.main},boxShadow:e=>{let{transparent:t}=e;return t?"none":s},backdropFilter:e=>{let{transparent:t}=e;return t?"none":"saturate(200%) blur(".concat(d(30),")")},borderRadius:u.section,margin:"".concat(d(16)," ").concat(d(24)),width:"calc(100% - ".concat(d(48),")"),position:"absolute",left:0,zIndex:3}}}));function Ki(e){let{transparent:t,light:n,action:a}=e;const r=Ji({transparent:t,light:n}),[i,s]=Object(o.useState)(!1),[l,d]=Object(o.useState)(!1);return Object(o.useEffect)((()=>{function e(){window.innerWidth<he.values.lg?(d(!0),s(!1)):(d(!1),s(!1))}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),Object(C.jsxs)(Xi.a,{children:[Object(C.jsxs)(k,{customClass:r.defaultNavbar,py:1,px:{xs:t?4:5,sm:t?2:5,lg:t?0:5},children:[Object(C.jsx)(k,{component:c.b,to:"/",py:t?1.5:.75,children:Object(C.jsx)(A,{variant:"button",fontWeight:"bold",textColor:n?"white":"dark",children:"Cl\xednica Veterinaria"})}),Object(C.jsxs)(k,{color:"inherit",display:{xs:"none",lg:"flex"},m:0,p:0,children:[Object(C.jsx)(Zi,{icon:"account_circle",name:"Registrarse",route:"/authentication/sign-up",light:n}),Object(C.jsx)(Zi,{icon:"key",name:"Iniciar Sesi\xf3n",route:"/authentication/sign-in",light:n})]}),a&&("internal"===a.type?Object(C.jsx)(k,{display:{xs:"none",lg:"inline-block"},children:Object(C.jsx)(de,{component:c.b,to:a.route,variant:"gradient",buttonColor:a.color?a.color:"info",size:"small",circular:!0,children:a.label})}):Object(C.jsx)(k,{display:{xs:"none",lg:"inline-block"},children:Object(C.jsx)(de,{component:"a",href:a.route,target:"_blank",rel:"noreferrer",variant:"gradient",buttonColor:a.color?a.color:"info",size:"small",circular:!0,children:a.label})})),Object(C.jsx)(k,{display:{xs:"inline-block",lg:"none"},lineHeight:0,py:1.5,pl:1.5,color:"inherit",customClass:"cursor-pointer",onClick:e=>{let{currentTarget:t}=e;return s(t.parentNode)},children:Object(C.jsx)(W.a,{fontSize:"medium",children:i?"close":"menu"})})]}),l&&Object(C.jsx)(Yi,{open:i,close:()=>s(!1),children:"Hello"})]})}Ki.defaultProps={transparent:!1,light:!1,action:!1};var $i=Ki;function Qi(e){let{background:t,children:n}=e;const[,a]=q(),{pathname:r}=Object(s.h)();return Object(o.useEffect)((()=>{a({type:"LAYOUT",value:"page"})}),[r]),Object(C.jsx)(k,{width:"100vw",height:"100%",minHeight:"100vh",backgroundColor:t,customClass:"overflow-x-hidden",children:n})}Qi.defaultProps={background:"default"};var ec=Qi;var tc=function(){return Object(C.jsx)(k,{component:"footer",py:4,children:Object(C.jsx)(Da.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(Da.a,{item:!0,xs:12,className:"text-center",children:Object(C.jsx)(A,{variant:"body2",textColor:"white",children:"Grupo 5 - Sistemas de informacion"})})})})},nc=Object(v.a)((e=>{let{functions:t,borders:n}=e;const{pxToRem:o}=t,{borderRadius:a}=n;return{coverLayout:{minHeight:"100vh",margin:0},coverLayout_imageBox:{transform:"skewX(-10deg)",height:"100%",overflow:"hidden",marginRight:o(-128),borderBottomLeftRadius:a.lg,backgroundImage:"linear-gradient(135deg, #5c5b78 0% 33%, #8f83b0 33% 66%, #5c5b78 66% 100%)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},coverLayout_image:{backgroundImage:e=>{let{image:t}=e;return"DIAGONAL_GRADIENT"===t?"linear-gradient(135deg, #5c5b78 0% 33%, #8f83b0 33% 66%, #5c5b78 66% 100%)":"url(".concat(t,")")},backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",transform:"skewX(10deg)",marginLeft:o(-64),height:"100%",boxShadow:"inset 0 0 0 1px rgba(107,108,112,0.08)"},coverLayout_dogBox:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginRight:o(0)},coverLayout_dogCircle:{width:o(542),height:o(542),borderRadius:"50%",backgroundColor:"#e7d0ff",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(22,28,45,0.12)",marginLeft:o(0)},coverLayout_dogImage:{width:"99%",height:"99%",objectFit:"contain",borderRadius:"50%"}}})),oc=n.p+"static/media/login-dog.a338b26e.png";function ac(e){let{color:t,header:n,title:o,description:a,image:r,top:i,children:c}=e;const s=nc({image:r}),l=Object(qi.a)(),d=Object(Ui.a)(l.breakpoints.down("sm")),u="white"===t?{color:"#ffffff"}:{};return Object(C.jsxs)(ec,{background:"",children:[Object(C.jsx)($i,{routes:Lc,transparent:!0,light:!0}),Object(C.jsxs)(Da.a,{container:!0,justifyContent:"center",alignItems:"center",className:s.coverLayout,children:[Object(C.jsx)(Da.a,{item:!0,xs:11,sm:8,md:6,xl:4,children:Object(C.jsx)(k,{mt:i,children:Object(C.jsxs)(k,{sx:{maxWidth:480,margin:"0 auto"},children:[Object(C.jsx)(k,{pt:3,px:3,children:n||Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"h3",fontWeight:"bold",textColor:t,textGradient:"white"!==t,style:u,children:o})}),Object(C.jsx)(A,{variant:"body2",fontWeight:"regular",textColor:"text",style:u,children:a})]})}),Object(C.jsx)(k,{p:3,children:c})]})})}),r&&"DIAGONAL_GRADIENT"!==r?Object(C.jsx)(Da.a,{item:!0,xs:12,md:5,children:Object(C.jsx)(k,{display:{xs:"none",md:"block"},position:"relative",right:{md:"-12rem",xl:"-16rem"},customClass:s.coverLayout_imageBox,children:Object(C.jsx)(k,{customClass:s.coverLayout_image})})}):null,"DIAGONAL_GRADIENT"!==r||d?null:Object(C.jsx)(Da.a,{item:!0,xs:12,md:5,children:Object(C.jsx)(k,{display:{xs:"none",md:"block"},position:"relative",right:{md:"-2rem",xl:"-4rem"},customClass:s.coverLayout_dogBox,children:Object(C.jsx)(k,{customClass:s.coverLayout_dogCircle,children:Object(C.jsx)("img",{src:oc,alt:"dog",className:s.coverLayout_dogImage})})})})]}),Object(C.jsx)(tc,{})]})}ac.defaultProps={header:"",title:"",description:"",color:"white",top:20};var rc=ac,ic=n(144),cc=n.n(ic);let sc=null;sc=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_SERVER?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_SERVER:"http://localhost:8000/api/";const lc=sc,dc=cc.a.create({baseURL:"".concat(lc),headers:{"Content-Type":"application/json"}});dc.interceptors.request.use((e=>Promise.resolve(e)),(e=>Promise.reject(e))),dc.interceptors.response.use((e=>Promise.resolve(e)),(e=>Promise.reject(e)));var uc=dc;class bc{}bc.Login=e=>uc.post("".concat(mc,"/login"),e),bc.Register=e=>uc.post("".concat(mc,"/register"),e),bc.Logout=e=>uc.post("".concat(mc,"/logout"),e,{headers:{Authorization:"".concat(e.token)}});let mc="users";var jc=bc;n(210);var hc=function(){const e=Object(s.g)(),{setUser:t}=gr(),{user:n}=gr(),[a,r]=Object(o.useState)(!0),[i,c]=Object(o.useState)(""),[l,d]=Object(o.useState)(""),[u,b]=Object(o.useState)("recepcionista"),[m,j]=Object(o.useState)(void 0),[h,p]=Object(o.useState)("Iniciar sesi\xf3n"),g=()=>r(!a);Object(o.useEffect)((()=>{try{document.body.classList.add("login-global");const e=document.getElementById("root");e&&e.classList.add("login-global")}catch(e){}return()=>{try{document.body.classList.remove("login-global");const e=document.getElementById("root");e&&e.classList.remove("login-global")}catch(e){}}}),[]);const f=async t=>{if(t&&t.preventDefault(),n&&n.token)return e.push("/dashboard");if(""===i)return j("You must enter your email.");if(""===l)return j("You must enter your password");p("Signing in");try{let e=await jc.Login({email:i,password:l,role:u});return e.data&&!1===e.data.success?j(e.data.msg):O(e)}catch(o){return console.log(o),p("Sign in"),o.response?j(o.response.data.msg):j("There has been an error.")}},O=async n=>{let o=Object(x.a)({},n.data.user);const a=n.data.token;o.token=a;const r=JSON.stringify(o);t(r),localStorage.setItem("user",r),a&&(localStorage.setItem("token",a),console.log("[Auth] stored token:",a));try{console.log("[Auth] localStorage.token =",localStorage.getItem("token")),console.log("[Auth] localStorage.user =",localStorage.getItem("user"))}catch(s){}const i=function(e,t){const n=e=>(e||"").toString().toLowerCase();if(e){const t=n(e.role||e.roles&&e.roles[0]||e.user&&e.user.role||"");if(t)return t;if(e.is_admin||e.is_staff)return"admin"}const o=function(e){if(!e||"string"!==typeof e)return null;try{const t=e.split(".");if(t.length<2)return null;const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(Array.prototype.map.call(atob(n),(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join(""));return JSON.parse(o)}catch(s){try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(atob(t))}catch(t){return null}}}(t||e&&e.token||localStorage.getItem("token"));if(o){if(o.role)return n(o.role);if(o.roles&&Array.isArray(o.roles)&&o.roles.length)return n(o.roles[0]);if(o.user&&o.user.role)return n(o.user.role);if(o.realm_access&&Array.isArray(o.realm_access.roles)&&o.realm_access.roles.length)return n(o.realm_access.roles[0]);if(o.scope)return n(o.scope)}return null}(o,a);let c="/profile";o?"recepcionista"===i?c="/registro-consulta":"veterinario"!==i&&"vet"!==i||(c="/consultas"):c="/authentication/sign-in",e.push("/")};return Object(C.jsx)(rc,{title:"Cl\xednica Veterinaria - Inicio Sesion",description:"Ingresa tus datos para gestionar citas y fichas de mascotas.",color:"white",image:"DIAGONAL_GRADIENT",top:0,children:n&&n.token?Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{style:{textAlign:"center"},children:"You are already signed in."}),Object(C.jsx)(k,{mt:4,mb:1,children:Object(C.jsx)(de,{variant:"gradient",buttonColor:"info",fullWidth:!0,onClick:f,children:"Let's go"})})]}):Object(C.jsx)(k,{width:"100%",display:"flex",justifyContent:"center",children:Object(C.jsxs)(k,{component:"form",role:"form",style:{backgroundColor:"#ffffff",borderRadius:"12px",padding:"28px",maxWidth:480,width:"100%",boxShadow:"0 10px 30px rgba(22,28,45,0.12)"},children:[Object(C.jsxs)(k,{mb:2,className:"auth-cover-header-box",style:{textAlign:"center",maxWidth:480,margin:"0 auto"},children:[Object(C.jsx)(k,{mb:1,className:"auth-cover-header",children:Object(C.jsx)(A,{variant:"h5",fontWeight:"medium",style:{textAlign:"center"},children:"Iniciar sesi\xf3n"})}),Object(C.jsx)(A,{variant:"body2",fontWeight:"regular",textColor:"text",className:"auth-cover-description",style:{textAlign:"center"},children:"Ingrese su correo y contrase\xf1a para iniciar sesi\xf3n"})]}),Object(C.jsxs)(k,{mb:2,children:[Object(C.jsx)(k,{mb:1,ml:.5,children:Object(C.jsx)(A,{component:"label",variant:"caption",fontWeight:"bold",children:"Correo"})}),Object(C.jsx)(Gi,{defaultValue:i,onChange:e=>{c(e.target.value),j(void 0)},type:"email",placeholder:"Correo"})]}),Object(C.jsxs)(k,{mb:2,children:[Object(C.jsx)(k,{mb:1,ml:.5,children:Object(C.jsx)(A,{component:"label",variant:"caption",fontWeight:"bold",children:"Contrase\xf1a"})}),Object(C.jsx)(Gi,{defaultValue:l,onChange:e=>{d(e.target.value),j(void 0)},type:"password",placeholder:"Contrase\xf1a"})]}),Object(C.jsxs)(k,{display:"flex",alignItems:"center",children:[Object(C.jsx)(ae.a,{checked:a,onChange:g}),Object(C.jsx)(A,{variant:"button",fontWeight:"regular",onClick:g,customClass:"cursor-pointer user-select-none",children:"\xa0\xa0Recordarme"})]}),Object(C.jsxs)(k,{mb:2,children:[Object(C.jsx)(k,{mb:1,ml:.5,children:Object(C.jsx)(A,{component:"label",variant:"caption",fontWeight:"bold",children:"Rol"})}),Object(C.jsxs)(Ni.a,{value:u,onChange:e=>b(e.target.value),displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:{height:"40px",backgroundColor:"#fff",borderRadius:"0.5rem","& .MuiOutlinedInput-notchedOutline":{borderColor:"#d2d6da"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#3584cf"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#3584cf",borderWidth:"2px"},"& .MuiSelect-select":{padding:"10px 12px",fontSize:"0.875rem",color:"#495057"}},children:[Object(C.jsx)(Ir.a,{value:"recepcionista",children:"Recepcionista"}),Object(C.jsx)(Ir.a,{value:"veterinario",children:"Veterinario"})]})]}),Object(C.jsx)(k,{mt:2,mb:2,textAlign:"center",children:Object(C.jsx)("h6",{style:{fontSize:".8em",color:"red",textAlign:"center",fontWeight:400,transition:".2s all"},children:m})}),Object(C.jsx)(k,{mt:4,mb:1,children:Object(C.jsx)(de,{variant:"gradient",fullWidth:!0,onClick:f,style:{backgroundColor:"#232844",color:"#ffffff"},children:h})})]})})})},pc=n(303),xc=Object(v.a)((e=>{let{palette:t,functions:n,borders:o}=e;const{gradients:a}=t,{linearGradient:r,rgba:i,pxToRem:c}=n,{borderRadius:s}=o;return{basicLayout:{backgroundImage:e=>{let{image:t}=e;return t&&"".concat(r(i(a.dark.main,.6),i(a.dark.state,.6)),", url(").concat(t,")")},backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"calc(100% - 2rem)",minHeight:"50vh",margin:c(16),padding:"".concat(c(48)," 0 ").concat(c(224)),borderRadius:s.lg}}}));function gc(e){let{title:t,description:n,image:o,children:a}=e;const r=xc({image:o});return Object(C.jsxs)(ec,{background:"",children:[Object(C.jsx)($i,{routes:Lc,transparent:!0,light:!0}),Object(C.jsx)(k,{customClass:r.basicLayout,children:Object(C.jsx)(Da.a,{container:!0,spacing:3,justifyContent:"center",className:"text-center",children:Object(C.jsxs)(Da.a,{item:!0,xs:10,lg:4,children:[Object(C.jsx)(k,{mt:6,mb:1,children:Object(C.jsx)(A,{variant:"h1",textColor:"white",fontWeight:"bold",children:t})}),Object(C.jsx)(k,{mb:2,children:Object(C.jsx)(A,{variant:"body2",textColor:"white",fontWeight:"regular",children:n})})]})})}),Object(C.jsx)(k,{mt:{xs:-26,lg:-24},px:1,width:"calc(100% - 2rem)",mx:"auto",children:Object(C.jsx)(Da.a,{container:!0,spacing:1,justifyContent:"center",children:Object(C.jsx)(Da.a,{item:!0,xs:11,sm:9,md:5,lg:4,xl:3,children:a})})}),Object(C.jsx)(tc,{})]})}gc.defaultProps={title:"",description:""};var fc=gc;var Oc=function(){return Object(C.jsx)(k,{position:"relative",py:.25,children:Object(C.jsx)(M.a,{})})};var vc=function(){Object(s.g)();const[e,t]=Object(o.useState)(!0),[n,a]=Object(o.useState)(""),[r,i]=Object(o.useState)(""),[l,d]=Object(o.useState)(""),[u,b]=Object(o.useState)("Registrarse"),[m,j]=Object(o.useState)(void 0),h=()=>t(!e);return Object(C.jsx)(fc,{title:"Cl\xednica Veterinaria - Registro",description:"Crea una cuenta para gestionar citas y fichas de mascotas.",image:"",children:Object(C.jsxs)(_a.a,{children:[Object(C.jsx)(k,{p:3,mb:1,textAlign:"center",children:Object(C.jsx)(A,{variant:"h5",fontWeight:"medium",children:"Crear cuenta"})}),Object(C.jsx)(Oc,{}),Object(C.jsx)(k,{pt:2,pb:3,px:3,children:Object(C.jsxs)(k,{component:"form",role:"form",children:[Object(C.jsx)(k,{mb:2,children:Object(C.jsx)(Gi,{onChange:e=>{a(e.target.value),j(void 0)},placeholder:"Nombre"})}),Object(C.jsx)(k,{mb:2,children:Object(C.jsx)(Gi,{onChange:e=>{i(e.target.value),j(void 0)},type:"email",placeholder:"Correo"})}),Object(C.jsx)(k,{mb:2,children:Object(C.jsx)(Gi,{onChange:e=>{d(e.target.value),j(void 0)},type:"password",placeholder:"Contrase\xf1a"})}),Object(C.jsxs)(k,{display:"flex",alignItems:"center",children:[Object(C.jsx)(pc.a,{checked:e,onChange:h}),Object(C.jsx)(A,{variant:"button",fontWeight:"regular",onClick:h,customClass:"cursor-pointer user-select-none",children:"\xa0\xa0Acepto los\xa0"}),Object(C.jsx)(A,{component:"a",href:"#",variant:"button",fontWeight:"bold",textGradient:!0,children:"Terms and Conditions"})]}),Object(C.jsx)(k,{mt:2,mb:2,textAlign:"center",children:Object(C.jsx)("h6",{style:{fontSize:".8em",color:"red",textAlign:"center",fontWeight:400,transition:".2s all"},children:m})}),Object(C.jsx)(k,{mt:3,textAlign:"center",children:Object(C.jsxs)(A,{variant:"button",textColor:"text",fontWeight:"regular",children:["\xbfYa tienes cuenta?\xa0",Object(C.jsx)(A,{component:c.b,to:"/authentication/sign-in",variant:"button",textColor:"dark",fontWeight:"bold",textGradient:!0,children:"Iniciar sesi\xf3n"})]})})]})})]})})};var yc=function(){const e=Object(s.g)(),{setUser:t}=gr();let{user:n}=gr();const[a,r]=Object(o.useState)(!0),i=()=>{r(!1),e.goBack()};return Object(C.jsxs)(Na.a,{open:a,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{id:"alert-dialog-title",children:"Cerrar sesi\xf3n"}),Object(C.jsx)(Ha.a,{children:Object(C.jsx)(k,{children:Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"\xbfEst\xe1s seguro de que deseas cerrar sesi\xf3n?"})})}),Object(C.jsxs)(Va.a,{children:[Object(C.jsx)(de,{onClick:i,variant:"outlined",buttonColor:"secondary",children:"Cancelar"}),Object(C.jsx)(de,{onClick:async()=>{try{await jc.Logout(n),await t(null),localStorage.removeItem("user"),e.push("/authentication/sign-in")}catch(o){await t(null),localStorage.removeItem("user"),e.push("/authentication/sign-in")}},variant:"gradient",buttonColor:"dark",autoFocus:!0,children:"Confirmar"})]})]})};function Cc(e){let{color:t,size:n}=e;return Object(C.jsxs)("svg",{width:n,height:n,viewBox:"0 0 42 42",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(C.jsx)("title",{children:"office"}),Object(C.jsx)("g",{id:"Basic-Elements",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(C.jsx)("g",{id:"Rounded-Icons",transform:"translate(-1869.000000, -293.000000)",fill:je[t].main,fillRule:"nonzero",children:Object(C.jsx)("g",{id:"Icons-with-opacity",transform:"translate(1716.000000, 291.000000)",children:Object(C.jsxs)("g",{id:"office",transform:"translate(153.000000, 2.000000)",children:[Object(C.jsx)("path",{d:"M12.25,17.5 L8.75,17.5 L8.75,1.75 C8.75,0.78225 9.53225,0 10.5,0 L31.5,0 C32.46775,0 33.25,0.78225 33.25,1.75 L33.25,12.25 L29.75,12.25 L29.75,3.5 L12.25,3.5 L12.25,17.5 Z",id:"Path",opacity:"0.6"}),Object(C.jsx)("path",{d:"M40.25,14 L24.5,14 C23.53225,14 22.75,14.78225 22.75,15.75 L22.75,38.5 L19.25,38.5 L19.25,22.75 C19.25,21.78225 18.46775,21 17.5,21 L1.75,21 C0.78225,21 0,21.78225 0,22.75 L0,40.25 C0,41.21775 0.78225,42 1.75,42 L40.25,42 C41.21775,42 42,41.21775 42,40.25 L42,15.75 C42,14.78225 41.21775,14 40.25,14 Z M12.25,36.75 L7,36.75 L7,33.25 L12.25,33.25 L12.25,36.75 Z M12.25,29.75 L7,29.75 L7,26.25 L12.25,26.25 L12.25,29.75 Z M35,36.75 L29.75,36.75 L29.75,33.25 L35,33.25 L35,36.75 Z M35,29.75 L29.75,29.75 L29.75,26.25 L35,26.25 L35,29.75 Z M35,22.75 L29.75,22.75 L29.75,19.25 L35,19.25 L35,22.75 Z"})]})})})})]})}Cc.defaultProps={color:"dark",size:"16px"};var Sc=Cc;function wc(e){let{color:t,size:n}=e;return Object(C.jsxs)("svg",{width:n,height:n,viewBox:"0 0 42 42",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(C.jsx)("title",{children:"document"}),Object(C.jsx)("g",{id:"Basic-Elements",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(C.jsx)("g",{id:"Rounded-Icons",transform:"translate(-1870.000000, -591.000000)",fill:je[t].main,fillRule:"nonzero",children:Object(C.jsx)("g",{id:"Icons-with-opacity",transform:"translate(1716.000000, 291.000000)",children:Object(C.jsxs)("g",{id:"document",transform:"translate(154.000000, 300.000000)",children:[Object(C.jsx)("path",{d:"M40,40 L36.3636364,40 L36.3636364,3.63636364 L5.45454545,3.63636364 L5.45454545,0 L38.1818182,0 C39.1854545,0 40,0.814545455 40,1.81818182 L40,40 Z",id:"Path",opacity:"0.603585379"}),Object(C.jsx)("path",{d:"M30.9090909,7.27272727 L1.81818182,7.27272727 C0.814545455,7.27272727 0,8.08727273 0,9.09090909 L0,41.8181818 C0,42.8218182 0.814545455,43.6363636 1.81818182,43.6363636 L30.9090909,43.6363636 C31.9127273,43.6363636 32.7272727,42.8218182 32.7272727,41.8181818 L32.7272727,9.09090909 C32.7272727,8.08727273 31.9127273,7.27272727 30.9090909,7.27272727 Z M18.1818182,34.5454545 L7.27272727,34.5454545 L7.27272727,30.9090909 L18.1818182,30.9090909 L18.1818182,34.5454545 Z M25.4545455,27.2727273 L7.27272727,27.2727273 L7.27272727,23.6363636 L25.4545455,23.6363636 L25.4545455,27.2727273 Z M25.4545455,20 L7.27272727,20 L7.27272727,16.3636364 L25.4545455,16.3636364 L25.4545455,20 Z",id:"Shape"})]})})})})]})}wc.defaultProps={color:"dark",size:"16px"};var kc=wc;function zc(e){let{color:t,size:n}=e;return Object(C.jsxs)("svg",{width:n,height:n,viewBox:"0 0 42 42",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(C.jsx)("title",{children:"spaceship"}),Object(C.jsx)("g",{id:"Basic-Elements",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(C.jsx)("g",{id:"Rounded-Icons",transform:"translate(-1720.000000, -592.000000)",fill:je[t].main,fillRule:"nonzero",children:Object(C.jsx)("g",{id:"Icons-with-opacity",transform:"translate(1716.000000, 291.000000)",children:Object(C.jsxs)("g",{id:"spaceship",transform:"translate(4.000000, 301.000000)",children:[Object(C.jsx)("path",{d:"M39.3,0.706666667 C38.9660984,0.370464027 38.5048767,0.192278529 38.0316667,0.216666667 C14.6516667,1.43666667 6.015,22.2633333 5.93166667,22.4733333 C5.68236407,23.0926189 5.82664679,23.8009159 6.29833333,24.2733333 L15.7266667,33.7016667 C16.2013871,34.1756798 16.9140329,34.3188658 17.535,34.065 C17.7433333,33.98 38.4583333,25.2466667 39.7816667,1.97666667 C39.8087196,1.50414529 39.6335979,1.04240574 39.3,0.706666667 Z M25.69,19.0233333 C24.7367525,19.9768687 23.3029475,20.2622391 22.0572426,19.7463614 C20.8115377,19.2304837 19.9992882,18.0149658 19.9992882,16.6666667 C19.9992882,15.3183676 20.8115377,14.1028496 22.0572426,13.5869719 C23.3029475,13.0710943 24.7367525,13.3564646 25.69,14.31 C26.9912731,15.6116662 26.9912731,17.7216672 25.69,19.0233333 L25.69,19.0233333 Z"}),Object(C.jsx)("path",{d:"M1.855,31.4066667 C3.05106558,30.2024182 4.79973884,29.7296005 6.43969145,30.1670277 C8.07964407,30.6044549 9.36054508,31.8853559 9.7979723,33.5253085 C10.2353995,35.1652612 9.76258177,36.9139344 8.55833333,38.11 C6.70666667,39.9616667 0,40 0,40 C0,40 0,33.2566667 1.855,31.4066667 Z",id:"Path"}),Object(C.jsx)("path",{d:"M17.2616667,3.90166667 C12.4943643,3.07192755 7.62174065,4.61673894 4.20333333,8.04166667 C3.31200265,8.94126033 2.53706177,9.94913142 1.89666667,11.0416667 C1.5109569,11.6966059 1.61721591,12.5295394 2.155,13.0666667 L5.47,16.3833333 C8.55036617,11.4946947 12.5559074,7.25476565 17.2616667,3.90166667 L17.2616667,3.90166667 Z",id:"color-2",opacity:"0.598539807"}),Object(C.jsx)("path",{d:"M36.0983333,22.7383333 C36.9280725,27.5056357 35.3832611,32.3782594 31.9583333,35.7966667 C31.0587397,36.6879974 30.0508686,37.4629382 28.9583333,38.1033333 C28.3033941,38.4890431 27.4704606,38.3827841 26.9333333,37.845 L23.6166667,34.53 C28.5053053,31.4496338 32.7452344,27.4440926 36.0983333,22.7383333 L36.0983333,22.7383333 Z",id:"color-3",opacity:"0.598539807"})]})})})})]})}zc.defaultProps={color:"dark",size:"16px"};var Ic=zc;function Mc(e){let{color:t,size:n}=e;return Object(C.jsxs)("svg",{width:n,height:n,viewBox:"0 0 42 42",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(C.jsx)("title",{children:"customer-support"}),Object(C.jsx)("g",{id:"Basic-Elements",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(C.jsx)("g",{id:"Rounded-Icons",transform:"translate(-1717.000000, -291.000000)",fill:je[t].main,fillRule:"nonzero",children:Object(C.jsx)("g",{id:"Icons-with-opacity",transform:"translate(1716.000000, 291.000000)",children:Object(C.jsxs)("g",{id:"customer-support",transform:"translate(1.000000, 0.000000)",children:[Object(C.jsx)("path",{className:"color-background",d:"M45,0 L26,0 C25.447,0 25,0.447 25,1 L25,20 C25,20.379 25.214,20.725 25.553,20.895 C25.694,20.965 25.848,21 26,21 C26.212,21 26.424,20.933 26.6,20.8 L34.333,15 L45,15 C45.553,15 46,14.553 46,14 L46,1 C46,0.447 45.553,0 45,0 Z",id:"Path",opacity:"0.59858631"}),Object(C.jsx)("path",{d:"M22.883,32.86 C20.761,32.012 17.324,31 13,31 C8.676,31 5.239,32.012 3.116,32.86 C1.224,33.619 0,35.438 0,37.494 L0,41 C0,41.553 0.447,42 1,42 L25,42 C25.553,42 26,41.553 26,41 L26,37.494 C26,35.438 24.776,33.619 22.883,32.86 Z",id:"Path"}),Object(C.jsx)("path",{d:"M13,28 C17.432,28 21,22.529 21,18 C21,13.589 17.411,10 13,10 C8.589,10 5,13.589 5,18 C5,22.529 8.568,28 13,28 Z",id:"Path"})]})})})})]})}Mc.defaultProps={color:"dark",size:"16px"};var Wc=Mc;function Rc(e){let{color:t,size:n}=e;return Object(C.jsxs)("svg",{width:n,height:n,viewBox:"0 0 42 42",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(C.jsx)("title",{children:"credit-card"}),Object(C.jsx)("g",{id:"Basic-Elements",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(C.jsx)("g",{id:"Rounded-Icons",transform:"translate(-2169.000000, -745.000000)",fill:je[t].main,fillRule:"nonzero",children:Object(C.jsx)("g",{id:"Icons-with-opacity",transform:"translate(1716.000000, 291.000000)",children:Object(C.jsxs)("g",{id:"credit-card",transform:"translate(453.000000, 454.000000)",children:[Object(C.jsx)("path",{d:"M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z",id:"Path",opacity:"0.593633743"}),Object(C.jsx)("path",{d:"M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z"})]})})})})]})}Rc.defaultProps={color:"dark",size:"16px"};var Ec=Rc;var Lc=[{type:"collapse",name:"Mascotas",key:"mascotas-layout",route:"/mascotas",icon:Object(C.jsx)(Sc,{size:"12px"}),component:Yr,noCollapse:!0,protected:!0,roles:["recepcionista","admin"]},{type:"collapse",name:"Veterinarios",key:"veterinarios",route:"/veterinarios",icon:Object(C.jsx)(Sc,{size:"12px"}),component:ei,noCollapse:!0,protected:!0,roles:["admin"]},{type:"collapse",name:"Recepcionistas",key:"recepcionistas",route:"/recepcionistas",icon:Object(C.jsx)(Wc,{size:"12px"}),component:ci,noCollapse:!0,protected:!0,roles:["admin"]},{type:"collapse",name:"Due\xf1os",key:"duenos",route:"/duenos",icon:Object(C.jsx)(Sc,{size:"12px"}),component:function(){const e=Xr(),[t,n]=Object(o.useState)(!1),[a,r]=Object(o.useState)(0),[i,c]=Object(o.useState)(null),[s,l]=Object(o.useState)(!0),[d,u]=Object(o.useState)(!1),[b,m]=Object(o.useState)(null);Object(o.useEffect)((()=>{let e=!0;return l(!0),te.list("duenos").then((t=>{e&&(Array.isArray(t)?c(t.length):c(0))})).catch((t=>{console.warn("Error fetching duenos count:",t),e&&c(0)})).finally((()=>{e&&l(!1)})),()=>{e=!1}}),[a]);const j=Object(o.useCallback)((e=>({Nombre:[null,e.nombre||e.name||e.user&&(e.user.nombre||e.user.email)||"-"],"Tel\xe9fono":e.telefono||"",action:Object(C.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[Object(C.jsx)(re.a,{size:"small",title:"Crear mascota",onClick:()=>{z(e.id||e.idDueno||e.idUsuario||e.id),S(!0)},children:Object(C.jsx)(Oi.a,{fontSize:"small"})}),Object(C.jsx)(re.a,{size:"small",onClick:()=>async function(e){try{const t=await te.retrieve("duenos",e);g(e),O(t),p(!0)}catch(t){console.error("Error cargando due\xf1o:",t)}}(e.id||e.idDueno||e.idUsuario||e.id),children:Object(C.jsx)($a.a,{fontSize:"small"})}),Object(C.jsx)(re.a,{size:"small",color:"error",onClick:()=>(m(e),void u(!0)),children:Object(C.jsx)(er.a,{fontSize:"small"})})]})})),[a]),[h,p]=Object(o.useState)(!1),[x,g]=Object(o.useState)(null),[f,O]=Object(o.useState)(null);function v(){m(null),u(!1)}const[y,S]=Object(o.useState)(!1),[w,z]=Object(o.useState)(null);return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsxs)(k,{py:3,children:[Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:[Object(C.jsx)(A,{variant:"h6",children:"Due\xf1os"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>n(!0),children:"Agregar"})]}),Object(C.jsx)(k,{customClass:e.tables_table,p:2,children:s?Object(C.jsx)(k,{display:"flex",alignItems:"center",justifyContent:"center",py:4,children:Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"Cargando..."})}):0===i?Object(C.jsxs)(k,{textAlign:"center",py:6,children:[Object(C.jsx)(A,{variant:"h6",sx:{mb:1},children:"No hay due\xf1os registrados"}),Object(C.jsx)(A,{variant:"body2",textColor:"text",sx:{mb:2},children:"Registra al primer due\xf1o usando el bot\xf3n Agregar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>n(!0),children:"Agregar due\xf1o"})]}):Object(C.jsx)(Ur,{columns:[{name:"Nombre",align:"left"},{name:"Tel\xe9fono",align:"left"},{name:"action",align:"center"}],apiResource:"duenos",rowMapper:j})})]})}),Object(C.jsx)(xi,{open:t,onClose:()=>n(!1),onSave:async function(e){const t={nombre:e.nombre||null,telefono:e.telefono||null},n=await te.create("duenos",t);return r((e=>e+1)),n}}),Object(C.jsx)(xi,{open:h,onClose:()=>p(!1),onSave:async function(e){const t={nombre:e.nombre||null,telefono:e.telefono||null},n=await te.update("duenos",x,t);return r((e=>e+1)),n},initialData:f,id:x}),Object(C.jsx)(gi,{open:d,onClose:v,onConfirm:async function(){if(!b)return;const e=b.id||b.idDueno||b.idUsuario||b;await async function(e){try{await te.remove("duenos",e),r((e=>e+1))}catch(n){var t;console.error("Error eliminando due\xf1o:",n),alert("Error al eliminar: "+((null===n||void 0===n||null===(t=n.body)||void 0===t?void 0:t._raw)||JSON.stringify(n)))}}(e),v()},item:b}),Object(C.jsx)(Xa,{open:y,onClose:()=>{S(!1),z(null)},onSave:async function(e){const t="Otro"===e.especieSel?e.especieOtro:e.especieSel;if(!e.nombre||!t)throw new Error("Nombre y especie son obligatorios");const n={nombre:e.nombre,especie:t,raza:e.raza||null,edad:""!==e.edad&&null!=e.edad?Number(e.edad):null,dueno:w||null},o=await te.create("mascotas",n);return S(!1),z(null),r((e=>e+1)),o}})]}),Object(C.jsx)(Dr,{})]})},noCollapse:!0,protected:!0,roles:["recepcionista"]},{type:"collapse",name:"Registro Consulta",key:"registro-consulta",route:"/registro-consulta",icon:Object(C.jsx)(Ec,{size:"12px"}),component:function(){const[e,t]=q(),{fixedNavbar:n}=e,[a]=Object(o.useState)(n),[r,i]=Object(o.useState)([]),[c,s]=Object(o.useState)([]),[l,d]=Object(o.useState)([]),[u,b]=Object(o.useState)(null),[m,j]=Object(o.useState)(null),[h,p]=Object(o.useState)(null),[g,f]=Object(o.useState)(""),[O,v]=Object(o.useState)(null),[y,S]=Object(o.useState)(""),[w,z]=Object(o.useState)(""),[I,W]=Object(o.useState)([]),[R,E]=Object(o.useState)(!0),[L,T]=Object(o.useState)(!1),[_,N]=Object(o.useState)(null),[P,H]=Object(o.useState)(!1),[D,B]=Object(o.useState)(null);Object(o.useEffect)((()=>{let e=!0;return async function(){try{const t=await te.list("veterinarios/with-availability");if(!e)return;i(Array.isArray(t)?t:[])}catch(t){console.warn("Error loading veterinarios",t),e&&i([])}try{const t=await te.list("duenos");if(!e)return;s(Array.isArray(t)?t:[])}catch(t){console.warn("Error loading duenos",t),e&&s([])}e&&E(!1)}(),()=>e=!1}),[]),Object(o.useEffect)((()=>{(!u||null===u)&&Array.isArray(r)&&r.length>0&&b(r[0])}),[r]),Object(o.useEffect)((()=>{try{t({type:"FIXED_NAVBAR",value:!0})}catch(e){}return()=>{try{t({type:"FIXED_NAVBAR",value:a})}catch(e){}}}),[]),Object(o.useEffect)((()=>{let e=!0;return async function(){if(m){d([]);try{const t=await te.list("mascotas/with-dueno");if(!e)return;const n=Array.isArray(t)?t.filter((e=>String(e.dueno)===String(m.id||m.idDueno||m.pk||m.dueno))):[];d(n)}catch(t){console.warn("Error loading mascotas for owner",t),d([])}}else d([])}(),()=>e=!1}),[m]),Object(o.useEffect)((()=>{let e=!0;return async function(){if(W([]),u)try{const t=u.id||u.idVeterinario||u.idVet||u.pk,n=await te.request("/api/clinic/veterinarios/".concat(t,"/consultas"),{method:"GET"});if(!e)return;const o=(Array.isArray(n)?n:[]).filter((e=>(e.fecha||(e.fechaHora?String(e.fechaHora).split("T")[0]:null)||e.date||null)===g));W(o)}catch(t){console.warn("Error loading consultas for vet",t),W([])}}(),()=>e=!1}),[u,g]);const F=Object(o.useMemo)((()=>{const e=new Set;return I&&0!==I.length?(I.forEach((t=>{const n=t.hora||(t.fechaHora?(String(t.fechaHora).split("T")[1]||"").slice(0,5):null)||t.time||"";if(!n)return;const[o,a]=String(n).split(":"),r=60*Number(o)+Number(a);e.add(r)})),e):e}),[I]);return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsx)(k,{py:3,children:Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsx)(M.a,{}),Object(C.jsx)(k,{p:3,children:Object(C.jsxs)(Da.a,{container:!0,spacing:3,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,md:8,children:[Object(C.jsx)(A,{variant:"h6",children:"Disponibilidad"}),Object(C.jsxs)(k,{mt:2,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Buscar veterinario"})}),Object(C.jsx)(Fa.a,{options:r,getOptionLabel:e=>e&&(e.nombre||e.name||e.user&&e.user.email),value:u,onChange:(e,t)=>b(t),freeSolo:!0,popupIcon:Object(C.jsx)(Wi.a,{fontSize:"small"}),renderInput:e=>Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{placeholder:"Escribe para buscar...",variant:"outlined",size:"small",autoFocus:!0,fullWidth:!0,InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{style:{fontSize:"0.78rem",padding:"8px 10px"}}),sx:{"& .MuiOutlinedInput-root":{minHeight:44}}}))})]}),Object(C.jsxs)(k,{mt:2,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Buscar due\xf1o"})}),Object(C.jsx)(Fa.a,{options:c,getOptionLabel:e=>e&&(e.nombre||e.name||e.user&&e.user.email),value:m,onChange:(e,t)=>j(t),disabled:!u,renderInput:e=>Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{placeholder:"Escribe para buscar...",variant:"outlined",size:"small",fullWidth:!0,InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{style:{fontSize:"0.78rem",padding:"8px 10px"}}),disabled:!u,helperText:u?void 0:"Selecciona un veterinario primero",sx:{"& .MuiOutlinedInput-root":{minHeight:44}}}))})]}),Object(C.jsxs)(k,{mt:2,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Mascota (por due\xf1o)"})}),Object(C.jsx)(Fa.a,{options:l,getOptionLabel:e=>e&&(e.nombre||e.name||""),value:h,onChange:(e,t)=>p(t),disabled:!u,renderInput:e=>Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{placeholder:"Selecciona una mascota",variant:"outlined",size:"small",fullWidth:!0,InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{style:{fontSize:"0.78rem",padding:"8px 10px"}}),disabled:!u,helperText:u?void 0:"Selecciona un veterinario primero",sx:{"& .MuiOutlinedInput-root":{minHeight:44}}}))})]}),Object(C.jsxs)(k,{mt:3,children:[Object(C.jsx)(A,{variant:"subtitle2",children:"Horarios disponibles"}),Object(C.jsx)(k,{display:"flex",flexWrap:"wrap",gap:1,mt:1,children:Ti().map((e=>{const t=F.has(e);let n=!1;const o=new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate());if(g){const[t,r,i]=g.split("-").map(Number),c=new Date(t,r-1,i);if(c<a)n=!0;else if(c.getTime()===a.getTime()){const t=60*o.getHours()+o.getMinutes();e<=t&&(n=!0)}}const r=t||!u||n;return Object(C.jsx)(de,{variant:O===e?"contained":"outlined",buttonColor:O===e?"dark":t?"secondary":"info",size:"small",onClick:()=>!r&&u&&v(e),disabled:r,sx:Object(x.a)({textTransform:"none",minWidth:64,padding:"6px 8px",fontSize:"0.75rem"},t||n?{color:"#ffffff",borderColor:"#bdbdbd",backgroundColor:"#bdbdbd",pointerEvents:"none","&.Mui-disabled":{backgroundColor:"#bdbdbd",color:"#ffffff",opacity:1}}:u?{}:{opacity:.65}),children:Li(e)},e)}))})]}),Object(C.jsxs)(k,{mt:3,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Motivo"})}),Object(C.jsx)(Ba.a,{fullWidth:!0,size:"small",value:y,onChange:e=>S(e.target.value),InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:{style:{fontSize:"0.78rem",padding:"8px 10px"}},sx:{"& .MuiOutlinedInput-root":{minHeight:44}},disabled:!u,helperText:u?void 0:"Selecciona un veterinario primero"})]}),Object(C.jsxs)(k,{mt:2,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Descripci\xf3n"})}),Object(C.jsx)(Ba.a,{fullWidth:!0,multiline:!0,minRows:3,size:"small",value:w,onChange:e=>z(e.target.value),InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:{style:{fontSize:"0.78rem",padding:"8px 10px"}},sx:{"& .MuiOutlinedInput-root":{minHeight:80}},disabled:!u,helperText:u?void 0:"Selecciona un veterinario primero"})]}),Object(C.jsxs)(k,{mt:2,display:"flex",gap:1,children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:()=>{v(null),S(""),z("")},children:"Limpiar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:function(){if(N(null),!u||!m||!h||!O)return N("Selecciona veterinario, due\xf1o, mascota y horario"),void T(!0);T(!0)},disabled:!u,children:"Reservar cita"})]})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,md:4,children:[Object(C.jsx)(A,{variant:"h6",children:"Seleccionar fecha"}),Object(C.jsx)(k,{mt:2,children:Object(C.jsxs)("div",{id:"rc-calendar",style:{display:"flex",justifyContent:"center",width:"100%"},children:[Object(C.jsx)("style",{children:"\n                        /* SimpleCalendar overrides inside the rc-calendar container */\n                        #rc-calendar .simple-calendar { width: 100%; }\n                        #rc-calendar .sc-weekdays { margin-bottom: 6px; }\n                        #rc-calendar .sc-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }\n                        #rc-calendar .sc-cell { width: 100%; height: 36px; border-radius: 6px; }\n                        #rc-calendar .sc-cell.selected { background: #212121; color: #fff; border: 1px solid #333; }\n                        #rc-calendar .sc-cell.today { box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04); }\n                      "}),Object(C.jsx)(Ei,{value:g,onChange:e=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),[o,a,r]=e.split("-").map(Number);new Date(o,a-1,r)<n||(f(e),v(null))},disablePast:!0})]})}),Object(C.jsxs)(Na.a,{open:L,onClose:()=>T(!1),fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{children:"Confirmar reserva"}),Object(C.jsx)(Ha.a,{children:_?Object(C.jsx)(A,{color:"error",children:_}):Object(C.jsxs)(k,{children:[Object(C.jsx)(A,{children:"\xbfConfirmas la reserva de la cita?"}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Fecha:"}),Object(C.jsx)(A,{children:g})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Hora:"}),Object(C.jsx)(A,{children:O?Li(O):"\u2014"})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Veterinario:"}),Object(C.jsx)(A,{children:u?u.nombre||u.name||"-":"\u2014"})]})]})}),Object(C.jsxs)(Va.a,{children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:()=>T(!1),children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:async function(){if(N(null),!u||!m||!h||!O)return void N("Faltan campos obligatorios");const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),[n,o,a]=g.split("-").map(Number),r=new Date(n,o-1,a);if(r<t)return N("No se puede reservar en una fecha pasada."),T(!1),void alert("Error: Fecha pasada.");if(r.getTime()===t.getTime()){const t=60*e.getHours()+e.getMinutes();if(O<t)return N("No se puede reservar en un horario pasado."),void T(!1)}const i=u.id||u.idVeterinario||u.idVet||u.pk,c=h.idMascota||h.id||h.pk,s={motivo:y||"",descripcion:w||"",fecha:g,hora:Li(O),veterinario:Number(i),mascota_id:Number(c),dueno:Number(m.id||m.idDueno||m.pk||m.dueno)};try{await te.request("/api/clinic/consultas",{method:"POST",body:s});const e={fecha:g,hora:Li(O),veterinario:u&&(u.nombre||u.name)||"-",dueno:m&&(m.nombre||m.name)||"-",mascota:h&&(h.nombre||h.name)||"-",motivo:y||"",descripcion:w||""};T(!1),B(e),H(!0),v(null),S(""),z(""),f((e=>e))}catch(b){var l,d;console.error("Error reservando consulta",b);const e=(null===b||void 0===b||null===(l=b.body)||void 0===l?void 0:l.message)||(null===b||void 0===b||null===(d=b.body)||void 0===d?void 0:d._raw)||JSON.stringify(b);N(e||"Error al registrar consulta")}},children:"Confirmar"})]})]}),Object(C.jsxs)(Na.a,{open:P,onClose:()=>{H(!1),B(null)},fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{children:"Consulta reservada"}),Object(C.jsx)(Ha.a,{children:Object(C.jsxs)(k,{children:[Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Fecha:"}),Object(C.jsx)(A,{children:D?D.fecha:g})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Hora:"}),Object(C.jsx)(A,{children:D?D.hora:O?Li(O):"\u2014"})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Veterinario:"}),Object(C.jsx)(A,{children:D?D.veterinario:u?u.nombre||u.name||"-":"\u2014"})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Due\xf1o:"}),Object(C.jsx)(A,{children:D?D.dueno:m?m.nombre||m.name||"-":"\u2014"})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Mascota:"}),Object(C.jsx)(A,{children:D?D.mascota:h?h.nombre||h.name||"-":"\u2014"})]}),D&&D.motivo?Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Motivo:"}),Object(C.jsx)(A,{children:D.motivo})]}):null,D&&D.descripcion?Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Descripci\xf3n:"}),Object(C.jsx)(A,{children:D.descripcion})]}):null]})}),Object(C.jsx)(Va.a,{children:Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>{H(!1),B(null)},children:"Cerrar"})})]}),Object(C.jsxs)(k,{mt:3,children:[Object(C.jsx)(A,{variant:"subtitle2",children:"Comprobante (vista previa)"}),Object(C.jsxs)(_a.a,{sx:{p:2,mt:1},children:[Object(C.jsxs)(k,{display:"flex",alignItems:"center",gap:2,mb:2,children:[Object(C.jsx)(hr,{size:"md",variant:"rounded",children:"C"}),Object(C.jsxs)(k,{sx:{display:"flex",flexDirection:"column"},children:[Object(C.jsx)(A,{variant:"button",sx:{fontWeight:700,lineHeight:1},children:"Cl\xednica Veterinaria"}),Object(C.jsx)(A,{variant:"caption",sx:{mt:.5},children:"Comprobante de cita"})]})]}),Object(C.jsx)(M.a,{sx:{my:1}}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Fecha:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:g})]}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Hora:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:O?Li(O):"\u2014"})]}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Veterinario:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:u?u.nombre||u.name||"-":"\u2014"})]}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Due\xf1o:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:m?m.nombre||m.name||"-":"\u2014"})]}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Mascota:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:h?h.nombre||h.name||"-":"\u2014"})]})]})]})]})]})})]})})}),Object(C.jsx)(Dr,{})]})},noCollapse:!0,protected:!0,roles:["recepcionista"]},{type:"collapse",name:"Consultas",key:"consultas-recepcionista",route:"/consultas-recepcionista",icon:Object(C.jsx)(Ec,{size:"12px"}),component:function(){const e=Object(s.g)(),t=Object(o.useCallback)((t=>{const n=t.idConsulta||t.id||"";return{Fecha:t.fecha||(t.fechaHora?String(t.fechaHora).split("T")[0]:""),Hora:t.hora||(t.fechaHora?(String(t.fechaHora).split("T")[1]||"").slice(0,5):""),Mascota:t.mascota&&(t.mascota.nombre||t.mascota.nombreMascota||t.mascota.name)||"-",Motivo:t.motivo||t.descripcion||"",action:Object(C.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[Object(C.jsx)(re.a,{size:"small",title:"Editar",onClick:()=>{e.push("/consultas/editar/".concat(n))},children:Object(C.jsx)($a.a,{fontSize:"small"})}),Object(C.jsx)(re.a,{size:"small",title:"Eliminar",onClick:async()=>{if(confirm("\xbfEliminar esta consulta?"))try{await te.remove("consultas",n),window.location.reload()}catch(e){console.error("Error eliminando consulta:",e),alert("Error eliminando consulta")}},children:Object(C.jsx)(er.a,{fontSize:"small"})})]})}}),[e]);return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsx)(k,{py:3,children:Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsx)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:Object(C.jsx)(A,{variant:"h6",children:"Consultas"})}),Object(C.jsx)(k,{p:2,children:Object(C.jsx)(Ur,{columns:[{name:"Fecha",align:"left"},{name:"Hora",align:"left"},{name:"Mascota",align:"left"},{name:"Motivo",align:"left"},{name:"action",align:"center"}],apiResource:"consultas",rowMapper:t})})]})})}),Object(C.jsx)(Dr,{})]})},noCollapse:!0,protected:!0,roles:["recepcionista"]},{type:"none",name:"Editar Consulta",key:"editar-consulta",route:"/consultas/editar/:id",component:function(){const{id:e}=Object(s.i)(),t=Object(s.g)(),[n,a]=q(),{fixedNavbar:r}=n,[i]=Object(o.useState)(r),[c,l]=Object(o.useState)([]),[d,u]=Object(o.useState)([]),[b,m]=Object(o.useState)([]),[j,h]=Object(o.useState)(null),[p,g]=Object(o.useState)(null),[f,O]=Object(o.useState)(null),[v,y]=Object(o.useState)(""),[S,w]=Object(o.useState)(null),[z,I]=Object(o.useState)(""),[W,R]=Object(o.useState)(""),[E,L]=Object(o.useState)([]),[T,_]=Object(o.useState)(!0),[N,P]=Object(o.useState)(!1),[H,D]=Object(o.useState)(!1),[B,F]=Object(o.useState)(null),[V,G]=Object(o.useState)(!1),[U,X]=Object(o.useState)(null);Object(o.useEffect)((()=>{let n=!0;return async function(){_(!0);try{const t=await te.request("/api/clinic/consultas/".concat(e),{method:"GET"});if(!n)return;const[o,a,r]=await Promise.all([te.list("veterinarios/with-availability").catch((()=>[])),te.list("duenos").catch((()=>[])),te.list("mascotas/with-dueno").catch((()=>[]))]);if(!n)return;l(Array.isArray(o)?o:[]),u(Array.isArray(a)?a:[]),y(t.fecha||(t.fechaHora?String(t.fechaHora).split("T")[0]:""));const i=t.hora||(t.fechaHora?(String(t.fechaHora).split("T")[1]||"").slice(0,5):"");if(i&&i.indexOf(":")>=0){const[e,t]=i.split(":");w(60*Number(e)+Number(t))}I(t.motivo||""),R(t.descripcion||"");let c=null;t.veterinario&&"object"===typeof t.veterinario?c=t.veterinario:t.veterinario&&(c=(Array.isArray(o)?o:[]).find((e=>String(e.idVeterinario||e.id||e.pk)===String(t.veterinario)))),h(c||null);let s=null;t.mascota&&"object"===typeof t.mascota?s=t.mascota:t.mascota&&(s=(Array.isArray(r)?r:[]).find((e=>String(e.idMascota||e.id||e.pk)===String(t.mascota))));let d=null;if(s&&(s.dueno||s.idDueno||s.dueno_id)){const e=s.dueno||s.idDueno||s.dueno_id;d=(Array.isArray(a)?a:[]).find((t=>String(t.id||t.idDueno||t.pk)===String(e)))}if(!d&&t.dueno,g(d||null),d){const e=Array.isArray(r)?r.filter((e=>String(e.dueno)===String(d.id||d.idDueno||d.pk||d.dueno))):[];if(m(e),s){const t=e.find((e=>String(e.idMascota||e.id)===String(s.idMascota||s.id)));O(t||s)}}else m([]),O(null)}catch(o){console.error("Error loading consulta:",o),t.push("/consultas-recepcionista")}finally{n&&_(!1)}}(),()=>n=!1}),[e,t]),Object(o.useEffect)((()=>{try{a({type:"FIXED_NAVBAR",value:!0})}catch(e){}return()=>{try{a({type:"FIXED_NAVBAR",value:i})}catch(e){}}}),[]),Object(o.useEffect)((()=>{let e=!0;return T||async function(){if(p)try{const t=await te.list("mascotas/with-dueno");if(!e)return;const n=Array.isArray(t)?t.filter((e=>String(e.dueno)===String(p.id||p.idDueno||p.pk||p.dueno))):[];m(n),f&&(n.find((e=>String(e.idMascota||e.id)===String(f.idMascota||f.id)))||O(null))}catch(t){console.warn("Error loading mascotas for owner",t),m([])}else m([])}(),()=>e=!1}),[p,T]),Object(o.useEffect)((()=>{let e=!0;return async function(){if(L([]),j)try{const t=j.id||j.idVeterinario||j.idVet||j.pk,n=await te.request("/api/clinic/veterinarios/".concat(t,"/consultas"),{method:"GET"});if(!e)return;const o=(Array.isArray(n)?n:[]).filter((e=>(e.fecha||(e.fechaHora?String(e.fechaHora).split("T")[0]:null)||e.date||null)===v));L(o)}catch(t){console.warn("Error loading consultas for vet",t),L([])}}(),()=>e=!1}),[j,v]);const Z=Object(o.useMemo)((()=>{const t=new Set;return E&&0!==E.length?(E.forEach((n=>{if(String(n.id||n.idConsulta)===String(e))return;const o=n.hora||(n.fechaHora?(String(n.fechaHora).split("T")[1]||"").slice(0,5):null)||n.time||"";if(!o)return;const[a,r]=String(o).split(":"),i=60*Number(a)+Number(r);t.add(i)})),t):t}),[E,e]);return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsx)(k,{py:3,children:Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsx)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:Object(C.jsx)(A,{variant:"h6",children:"Editar Consulta"})}),Object(C.jsx)(k,{p:3,children:T?Object(C.jsx)(k,{display:"flex",justifyContent:"center",p:4,children:Object(C.jsx)(A,{children:" Cargando... "})}):Object(C.jsxs)(Da.a,{container:!0,spacing:3,children:[Object(C.jsxs)(Da.a,{item:!0,xs:12,md:8,children:[Object(C.jsx)(A,{variant:"h6",children:"Disponibilidad"}),Object(C.jsxs)(k,{mt:2,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Buscar veterinario"})}),Object(C.jsx)(Fa.a,{options:c,getOptionLabel:e=>e&&(e.nombre||e.name||e.user&&e.user.email),value:j,onChange:(e,t)=>h(t),freeSolo:!0,popupIcon:Object(C.jsx)(Wi.a,{fontSize:"small"}),renderInput:e=>Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{variant:"outlined",size:"small",autoFocus:!0,fullWidth:!0,InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{style:{fontSize:"0.78rem",padding:"8px 10px"}}),sx:{"& .MuiOutlinedInput-root":{minHeight:44}}}))})]}),Object(C.jsxs)(k,{mt:2,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Buscar due\xf1o"})}),Object(C.jsx)(Fa.a,{options:d,getOptionLabel:e=>e&&(e.nombre||e.name||e.user&&e.user.email),value:p,onChange:(e,t)=>g(t),disabled:!j,renderInput:e=>Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{variant:"outlined",size:"small",fullWidth:!0,InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{style:{fontSize:"0.78rem",padding:"8px 10px"}}),disabled:!j,helperText:j?void 0:"Selecciona un veterinario primero",sx:{"& .MuiOutlinedInput-root":{minHeight:44}}}))})]}),Object(C.jsxs)(k,{mt:2,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Mascota (por due\xf1o)"})}),Object(C.jsx)(Fa.a,{options:b,getOptionLabel:e=>e&&(e.nombre||e.name||""),value:f,onChange:(e,t)=>O(t),disabled:!j,renderInput:e=>Object(C.jsx)(Ba.a,Object(x.a)(Object(x.a)({},e),{},{variant:"outlined",size:"small",fullWidth:!0,InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{style:{fontSize:"0.78rem",padding:"8px 10px"}}),disabled:!j,helperText:j?void 0:"Selecciona un veterinario primero",sx:{"& .MuiOutlinedInput-root":{minHeight:44}}}))})]}),Object(C.jsxs)(k,{mt:3,children:[Object(C.jsx)(A,{variant:"subtitle2",children:"Horarios disponibles"}),Object(C.jsx)(k,{display:"flex",flexWrap:"wrap",gap:1,mt:1,children:Ai().map((e=>{const t=Z.has(e);let n=!1;try{const t=(new Date).toISOString().slice(0,10);if(v===t){const t=new Date,o=60*t.getHours()+t.getMinutes();e<=o&&(n=!0)}}catch(a){}const o=t||!j||n;return Object(C.jsx)(de,{variant:S===e?"contained":"outlined",buttonColor:S===e?"dark":t?"secondary":"info",size:"small",onClick:()=>!o&&j&&w(e),disabled:o,sx:Object(x.a)({textTransform:"none",minWidth:64,padding:"6px 8px",fontSize:"0.75rem"},t?{color:"#ffffff",borderColor:"#bdbdbd",backgroundColor:"#bdbdbd",pointerEvents:"none","&.Mui-disabled":{backgroundColor:"#bdbdbd",color:"#ffffff",opacity:1}}:j?{}:{opacity:.65}),children:_i(e)},e)}))})]}),Object(C.jsxs)(k,{mt:3,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Motivo"})}),Object(C.jsx)(Ba.a,{fullWidth:!0,size:"small",value:z,onChange:e=>I(e.target.value),InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:{style:{fontSize:"0.78rem",padding:"8px 10px"}},sx:{"& .MuiOutlinedInput-root":{minHeight:44}},disabled:!j,helperText:j?void 0:"Selecciona un veterinario primero"})]}),Object(C.jsxs)(k,{mt:2,children:[Object(C.jsx)(k,{mb:1,children:Object(C.jsx)(A,{variant:"caption",fontWeight:"bold",color:"text",children:"Descripci\xf3n"})}),Object(C.jsx)(Ba.a,{fullWidth:!0,multiline:!0,minRows:3,size:"small",value:W,onChange:e=>R(e.target.value),InputLabelProps:{sx:{fontSize:"0.78rem"}},inputProps:{style:{fontSize:"0.78rem",padding:"8px 10px"}},sx:{"& .MuiOutlinedInput-root":{minHeight:80}},disabled:!j,helperText:j?void 0:"Selecciona un veterinario primero"})]}),Object(C.jsxs)(k,{mt:2,display:"flex",gap:1,children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:()=>t.push("/consultas-recepcionista"),children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:function(){if(F(null),!j||!p||!f||!S)return F("Selecciona veterinario, due\xf1o, mascota y horario"),void D(!0);D(!0)},disabled:!j||N,children:N?"Guardando...":"Actualizar cita"})]})]}),Object(C.jsxs)(Da.a,{item:!0,xs:12,md:4,children:[Object(C.jsx)(A,{variant:"h6",children:"Seleccionar fecha"}),Object(C.jsx)(k,{mt:2,children:Object(C.jsxs)("div",{id:"rc-calendar",style:{display:"flex",justifyContent:"center",width:"100%"},children:[Object(C.jsx)("style",{children:"\n                        /* SimpleCalendar overrides inside the rc-calendar container */\n                        #rc-calendar .simple-calendar { width: 100%; }\n                        #rc-calendar .sc-weekdays { margin-bottom: 6px; }\n                        #rc-calendar .sc-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }\n                        #rc-calendar .sc-cell { width: 100%; height: 36px; border-radius: 6px; }\n                        #rc-calendar .sc-cell.selected { background: #212121; color: #fff; border: 1px solid #333; }\n                        #rc-calendar .sc-cell.today { box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04); }\n                      "}),Object(C.jsx)(Ei,{value:v,onChange:e=>y(e)})]})}),Object(C.jsxs)(Na.a,{open:H,onClose:()=>D(!1),fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{children:"Confirmar actualizaci\xf3n"}),Object(C.jsx)(Ha.a,{children:B?Object(C.jsx)(A,{color:"error",children:B}):Object(C.jsxs)(k,{children:[Object(C.jsx)(A,{children:"\xbfConfirmas la actualizaci\xf3n de la cita?"}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Fecha:"}),Object(C.jsx)(A,{children:v})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Hora:"}),Object(C.jsx)(A,{children:S?_i(S):"\u2014"})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Veterinario:"}),Object(C.jsx)(A,{children:j?j.nombre||j.name||"-":"\u2014"})]})]})}),Object(C.jsxs)(Va.a,{children:[Object(C.jsx)(de,{variant:"outlined",buttonColor:"secondary",onClick:()=>D(!1),children:"Cancelar"}),Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:async function(){if(F(null),!j||!p||!f||!S)return void F("Faltan campos obligatorios");try{const[e,t,n]=String(v).split("-"),o=Math.floor(S/60),a=S%60;new Date(Number(e),Number(t)-1,Number(n),Number(o),Number(a),0).getTime(),Date.now()}catch(i){}const t=j.id||j.idVeterinario||j.idVet||j.pk,n=f.idMascota||f.id||f.pk,o={motivo:z||"",descripcion:W||"",fecha:v,hora:_i(S),veterinario:Number(t),mascota_id:Number(n),dueno:Number(p.id||p.idDueno||p.pk||p.dueno)};try{P(!0),await te.request("/api/clinic/consultas/".concat(e),{method:"PUT",body:o});const t={fecha:v,hora:_i(S),veterinario:j&&(j.nombre||j.name)||"-",dueno:p&&(p.nombre||p.name)||"-",mascota:f&&(f.nombre||f.name)||"-",motivo:z||"",descripcion:W||""};D(!1),X(t),G(!0)}catch(c){var a,r;console.error("Error actualizando consulta",c);const e=(null===c||void 0===c||null===(a=c.body)||void 0===a?void 0:a.message)||(null===c||void 0===c||null===(r=c.body)||void 0===r?void 0:r._raw)||JSON.stringify(c);F(e||"Error al actualizar consulta")}finally{P(!1)}},children:"Confirmar"})]})]}),Object(C.jsxs)(Na.a,{open:V,onClose:()=>{G(!1),X(null),t.push("/consultas-recepcionista")},fullWidth:!0,maxWidth:"xs",children:[Object(C.jsx)(Pa.a,{children:"Consulta actualizada"}),Object(C.jsx)(Ha.a,{children:Object(C.jsxs)(k,{children:[Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Fecha:"}),Object(C.jsx)(A,{children:U?U.fecha:v})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Hora:"}),Object(C.jsx)(A,{children:U?U.hora:S?_i(S):"\u2014"})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Veterinario:"}),Object(C.jsx)(A,{children:U?U.veterinario:j?j.nombre||j.name||"-":"\u2014"})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Due\xf1o:"}),Object(C.jsx)(A,{children:U?U.dueno:p?p.nombre||p.name||"-":"\u2014"})]}),Object(C.jsxs)(k,{mt:1,children:[Object(C.jsx)(A,{variant:"caption",children:"Mascota:"}),Object(C.jsx)(A,{children:U?U.mascota:f?f.nombre||f.name||"-":"\u2014"})]})]})}),Object(C.jsx)(Va.a,{children:Object(C.jsx)(de,{variant:"gradient",buttonColor:"dark",onClick:()=>{G(!1),X(null),t.push("/consultas-recepcionista")},children:"Cerrar"})})]}),Object(C.jsxs)(k,{mt:3,children:[Object(C.jsx)(A,{variant:"subtitle2",children:"Comprobante (vista previa)"}),Object(C.jsxs)(_a.a,{sx:{p:2,mt:1},children:[Object(C.jsxs)(k,{display:"flex",alignItems:"center",gap:2,mb:2,children:[Object(C.jsx)(hr,{size:"md",variant:"rounded",children:"C"}),Object(C.jsxs)(k,{sx:{display:"flex",flexDirection:"column"},children:[Object(C.jsx)(A,{variant:"button",sx:{fontWeight:700,lineHeight:1},children:"Cl\xednica Veterinaria"}),Object(C.jsx)(A,{variant:"caption",sx:{mt:.5},children:"Comprobante de cita"})]})]}),Object(C.jsx)(M.a,{sx:{my:1}}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Fecha:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:v})]}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Hora:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:S?_i(S):"\u2014"})]}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Veterinario:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:j?j.nombre||j.name||"-":"\u2014"})]}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Due\xf1o:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:p?p.nombre||p.name||"-":"\u2014"})]}),Object(C.jsxs)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(C.jsx)(A,{variant:"caption",sx:{fontSize:"0.72rem"},children:"Mascota:"}),Object(C.jsx)(A,{variant:"body2",sx:{fontSize:"0.85rem"},children:f?f.nombre||f.name||"-":"\u2014"})]})]})]})]})]})})]})})}),Object(C.jsx)(Dr,{})]})},protected:!0,roles:["recepcionista"]},{type:"collapse",name:"Consultas",key:"consultas-global",route:"/consultas",icon:Object(C.jsx)(Ec,{size:"12px"}),component:function(){const e=Xr(),t=Object(s.g)(),[n,a]=Object(o.useState)(null),[r,i]=Object(o.useState)(null),[c,l]=Object(o.useState)(0),[d,u]=Object(o.useState)(!1),[b,m]=Object(o.useState)(null),[j,h]=Object(o.useState)(!1),[p,x]=Object(o.useState)(null),[g,f]=Object(o.useState)(!0);Object(o.useEffect)((()=>{let e=!0;return async function(){f(!0);try{try{const t=await te.request("/api/clinic/veterinarios/me");if(!e)return;const n=t&&(t.idVeterinario||t.id||t.pk);if(n)return a(n),void i("veterinarios/".concat(n,"/consultas"))}catch(n){}const o=await te.request("/api/users/me");if("veterinario"!==(o&&(o.role||o.roles&&o.roles[0])||"").toString().toLowerCase()){try{t.replace("/registro-consulta")}catch(n){}return}if(!e)return;let r=[];try{const e=await te.list("veterinarios/with-availability");Array.isArray(e)&&(r=r.concat(e))}catch(n){}try{const e=await te.list("veterinarios");Array.isArray(e)&&(r=r.concat(e))}catch(n){}const c=new Map;r.forEach((e=>{var t,n;const o=e&&(e.idVeterinario||e.id||e.pk||(null===(t=e.user)||void 0===t?void 0:t.id)||(null===(n=e.user)||void 0===n?void 0:n.email));o&&c.set(String(o),e)})),r=Array.from(c.values());const s=r.find((e=>{try{return!!e&&(!(!e.user||String(e.user.id)!==String(o.id)&&String(e.user.email)!==String(o.email))||(!(!e.idVeterinario||String(e.idVeterinario)!==String(o.id))||(!(!e.id||String(e.id)!==String(o.id))||!(!e.email||String(e.email).toLowerCase()!==String(o.email).toLowerCase()))))}catch(n){return!1}}));if(s){const e=s.idVeterinario||s.id||s.pk;return a(e),void i("veterinarios/".concat(e,"/consultas"))}if(o&&("veterinario"===String(o.role||"").toLowerCase()||o.is_veterinario)){const e=o.id||o.pk||o.idVeterinario;if(e)return a(e),void i("veterinarios/".concat(e,"/consultas"))}console.warn("registrar-consulta: no se pudo resolver perfil de veterinario para el usuario:",o)}catch(o){console.error("Error resolving veterinarian identity:",o)}finally{e&&f(!1)}}(),()=>e=!1}),[]);const O=Object(o.useCallback)((e=>{const t=e.idConsulta||e.id||"",n=e.fecha||(e.fechaHora?String(e.fechaHora).split("T")[0]:""),o=e.hora||(e.fechaHora?(String(e.fechaHora).split("T")[1]||"").slice(0,5):""),a=e.mascota&&(e.mascota.nombre||e.mascota.nombreMascota||e.mascota.user&&(e.mascota.user.nombre||e.mascota.user.email))||"-",r=e.asistio,i=1===r||!0===r?"success.main":0===r||!1===r?"error.main":"info.main",c=e.mascota&&(e.mascota.idMascota||e.mascota.id)||e.mascota||null;return{Fecha:n,Hora:o,Mascota:a,Motivo:e.motivo||e.descripcion||"",action:Object(C.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[Object(C.jsx)(re.a,{size:"small",title:null==r?"Anotar/Registrar (sin asistencia)":r?"Anotar/Registrar (asisti\xf3)":"Anotar/Registrar (no asisti\xf3)",onClick:()=>{m(t),u(!0)},children:Object(C.jsx)(yi.a,{fontSize:"small",sx:{color:i}})}),Object(C.jsx)(re.a,{size:"small",title:"Historial cl\xednico",onClick:()=>{c&&(x(c),h(!0))},children:Object(C.jsx)(Si.a,{fontSize:"small"})})]})}}),[m]);return Object(C.jsxs)(Or,{children:[Object(C.jsx)(Nr,{}),Object(C.jsx)(k,{py:3,children:Object(C.jsx)(k,{mb:3,children:Object(C.jsxs)(_a.a,{children:[Object(C.jsx)(k,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:Object(C.jsx)(A,{variant:"h6",children:"Registrar Consulta"})}),Object(C.jsx)(k,{customClass:e.tables_table,p:2,children:g?Object(C.jsx)(k,{display:"flex",alignItems:"center",justifyContent:"center",py:4,children:Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"Cargando..."})}):r?Object(C.jsx)(Ur,{columns:[{name:"Fecha",align:"left"},{name:"Hora",align:"left"},{name:"Mascota",align:"left"},{name:"Motivo",align:"left"},{name:"action",align:"center"}],apiResource:r,rowMapper:O},"".concat(r,"?_=").concat(c)):Object(C.jsxs)(k,{textAlign:"center",py:6,children:[Object(C.jsx)(A,{variant:"h6",children:"No se encontr\xf3 el perfil de veterinario"}),Object(C.jsx)(A,{variant:"body2",textColor:"text",children:"Aseg\xfarate de tener una cuenta de veterinario o contacta al administrador."})]})})]})})}),Object(C.jsx)(Dr,{}),Object(C.jsx)(ki,{open:d,onClose:()=>{u(!1),m(null)},consultaId:b,onSaved:()=>{u(!1),m(null),l((e=>e+1))}}),Object(C.jsx)(Ii,{open:j,onClose:()=>{h(!1),x(null)},mascotaId:p})]})},noCollapse:!0,protected:!0,roles:["veterinario"]},{type:"none",name:"Historial Veterinario",key:"historial-veterinario",route:"/historial-veterinario/:id",component:oi,protected:!0},{type:"title",title:"Cuenta",key:"account-pages"},{type:"collapse",name:"Perfil",key:"profile",route:"/profile",icon:Object(C.jsx)(Wc,{size:"12px"}),component:pi,noCollapse:!0,protected:!0},{type:"none",name:"Iniciar Sesi\xf3n",key:"sign-in",route:"/authentication/sign-in",icon:Object(C.jsx)(kc,{size:"12px"}),component:hc,noCollapse:!0},{type:"none",name:"Registrarse",key:"sign-up",route:"/authentication/sign-up",icon:Object(C.jsx)(Ic,{size:"12px"}),component:vc,noCollapse:!0},{type:"collapse",name:"Cerrar sesi\xf3n",key:"sign-out",route:"/authentication/sign-out",icon:Object(C.jsx)(Ic,{size:"12px"}),component:yc,noCollapse:!0}],Tc=n(145),_c=n(28),Ac=n(65),Nc=n(147),Pc=n.n(Nc);const Hc=e=>{let t=Object.assign({},e);const n=Object(s.g)();let{user:o}=gr();return o&&o.token&&""!==o.token?Object(C.jsx)(s.b,Object(x.a)({},t)):Object(C.jsx)(Pc.a,{title:"You must be signed in!",onCancel:()=>n.push("/authentication/sign-in"),onConfirm:()=>n.push("/authentication/sign-in"),confirmBtnCssClass:"px-5"})};function Dc(){const{user:e}=gr(),[t,n]=Object(o.useState)(!1),[a,r]=Object(o.useState)(null);return Object(o.useEffect)((()=>{let t=!0;return async function(){try{if(!e)return void r("/authentication/sign-in");const o=e=>(e||"").toString().toLowerCase(),a=o(e.role||e.roles&&e.roles[0]||"");if(a){if(!t)return;return void r("recepcionista"===a?"/registro-consulta":"veterinario"===a||"vet"===a?"/consultas":"/profile")}n(!0);const i=await te.request("/api/users/me",{method:"GET"});if(!t)return;const c=o(i.role||i.roles&&i.roles[0]||"");r("recepcionista"===c?"/registro-consulta":"veterinario"===c||"vet"===c?"/consultas":"/profile")}catch(o){if(!t)return;r("/authentication/sign-in")}finally{t&&n(!1)}}(),()=>{t=!1}}),[e]),t||!a?Object(C.jsx)(O.a,{sx:{display:"flex",justifyContent:"center",p:4},children:Object(C.jsx)(rr.a,{})}):Object(C.jsx)(s.a,{to:a})}function Bc(){const[e,t]=q(),{direction:n,layout:a,openConfigurator:r}=e,[i,c]=Object(o.useState)(null),{pathname:d}=Object(s.h)(),{user:x}=gr(),g=((e=>{try{if(!e)return"/authentication/sign-in";const o=e=>(e||"").toString().toLowerCase(),a=o(e.role||e.roles&&e.roles[0]||e.user&&e.user.role||"");if(a)return"recepcionista"===a?"/registro-consulta":"veterinario"===a||"vet"===a?"/consultas":"/profile";try{const a=e&&e.token||localStorage.getItem("token");if(a){const e=a.split(".");if(e.length>=2){const a=e[1].replace(/-/g,"+").replace(/_/g,"/");let r=null;try{r=JSON.parse(atob(a))}catch(t){try{const e=decodeURIComponent(Array.prototype.map.call(atob(a),(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join(""));r=JSON.parse(e)}catch(n){r=null}}if(r){const e=o(r.role||r.roles&&r.roles[0]||r.user&&r.user.role||r.realm_access&&r.realm_access.roles&&r.realm_access.roles[0]||r.scope||"");if("recepcionista"===e)return"/registro-consulta";if("veterinario"===e||"vet"===e)return"/consultas"}}}}catch(t){}}catch(t){return"/authentication/sign-in"}})(x),Object(l.b)({plugins:[...Object(b.a)().plugins,u()()]}));Object(o.useMemo)((()=>{const e=Object(Ac.a)({key:"rtl",prepend:!0,stylisPlugins:[Tc.a]});c(e)}),[]);Object(o.useEffect)((()=>{document.body.setAttribute("dir",n)}),[n]),Object(o.useEffect)((()=>{document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0}),[d]);const f=e=>e.map((e=>e.collapse?f(e.collapse):e.route?e.protected?Object(C.jsx)(Hc,{path:e.route,component:e.component},e.key):Object(C.jsx)(s.b,{exact:!0,path:e.route,component:e.component},e.key):null));return"rtl"===n?Object(C.jsx)(_c.a,{value:i,children:Object(C.jsx)(m.b,{jss:g,children:Object(C.jsxs)(j.a,{theme:Ta,children:[Object(C.jsx)(p.a,{}),"dashboard"===a&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(oe,{routes:Lc}),Object(C.jsx)(be,{}),configsButton]}),"vr"===a&&Object(C.jsx)(be,{}),Object(C.jsxs)(s.d,{children:[f(Lc),Object(C.jsx)(s.b,{path:"*",children:Object(C.jsx)(Dc,{})})]})]})})}):Object(C.jsx)(h.a,{injectFirst:!0,children:Object(C.jsxs)(j.a,{theme:La,children:[Object(C.jsx)(p.a,{}),"dashboard"===a&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(oe,{routes:Lc}),Object(C.jsx)(be,{})]}),"vr"===a&&Object(C.jsx)(be,{}),Object(C.jsxs)(s.d,{children:[f(Lc),Object(C.jsx)(s.b,{path:"*",children:Object(C.jsx)(Dc,{})})]})]})})}let Fc=localStorage.getItem("user");try{Fc="string"===typeof Fc&&"null"!==Fc?JSON.parse(Fc):null}catch(Vc){console.warn("Could not parse localStorage.user, ignoring invalid value.",Vc),Fc=null}i.a.render(Object(C.jsx)(c.a,{children:Object(C.jsx)(G,{children:Object(C.jsx)(xr,{userData:Fc,children:Object(C.jsx)(Bc,{})})})}),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.86bc6c2a.chunk.js.map